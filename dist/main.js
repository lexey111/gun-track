(()=>{var e,t,n,r={7049:(e,t,n)=>{"use strict";n.d(t,{g:()=>K});var r=n(520),o=n(4882);function i(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const a=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?o.Q(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=o.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),i(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=i(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=s(s({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=o.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=s(s({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=s({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=o.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();var u=n(914),c=(0,u.lC)().isBrowser,l=function(){function e(e){void 0===e&&(e={}),this.cookies=new a,this.store=c?window.localStorage:Object.create(null),this.cookies=e.req?new a(e.req.headers.cookie):new a,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"idToken":this.setUniversalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}();var f=n(4397),h=n(412),d=n(4607),p=n(4451),y=n(9639),g=n(9857),v=n(1519),m=n(4760),b=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},w=n(2232),S=n.n(w),_=n(8885),E=n.n(_),A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},T=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},C="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",x=function(e,t,n){h.Xb.dispatch("auth",{event:e,data:t,message:n},"Auth",C)},P=new f.k("OAuth");const k=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,o=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||b,this._config=t,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,o,i,s){void 0===e&&(e="code"),void 0===i&&(i=r.JG.Cognito);var a=this._generateState(32),u=s?a+"-"+s.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(u);var c,l=this._generateRandom(128);c=l,window.sessionStorage.setItem("ouath_pkce_key",c);var f=this._generateChallenge(l),h=this._scopes.join(" "),d="https://"+t+"/oauth2/authorize?"+Object.entries(A(A({redirect_uri:n,response_type:e,client_id:o,identity_provider:i,scope:h,state:u},"code"===e?{code_challenge:f}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=T(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&");P.debug("Redirecting to "+d),this._urlOpener(d,n)},e.prototype._handleCodeFlow=function(e){return I(this,void 0,void 0,(function(){var t,n,o,i,s,a,u,c,l,f,h,d;return O(this,(function(p){switch(p.label){case 0:return(t=((0,m.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=T(t,2),o=r[0],i=r[1];return A(A({},e),((n={})[o]=i,n))}),{code:void 0}).code)&&(0,m.Qc)(e).pathname===(0,m.Qc)(this._config.redirectSignIn).pathname?(n="https://"+this._config.domain+"/oauth2/token",x("codeFlow",{},"Retrieving tokens from "+n),o=(0,r.ic)(this._config)?this._cognitoClientId:this._config.clientID,i=(0,r.ic)(this._config)?this._config.redirectSignIn:this._config.redirectUri,y=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),a=A({grant_type:"authorization_code",code:t,client_id:o,redirect_uri:i},(s=y)?{code_verifier:s}:{}),P.debug("Calling token endpoint: "+n+" with",a),u=Object.entries(a).map((function(e){var t=T(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:u})]):[2];case 1:return[4,p.sent().json()];case 2:if(c=p.sent(),l=c.access_token,f=c.refresh_token,h=c.id_token,d=c.error)throw new Error(d);return[2,{accessToken:l,refreshToken:f,idToken:h}]}var y}))}))},e.prototype._handleImplicitFlow=function(e){return I(this,void 0,void 0,(function(){var t,n,r;return O(this,(function(o){return t=((0,m.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=T(t,2),o=r[0],i=r[1];return A(A({},e),((n={})[o]=i,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,x("implicitFlow",{},"Got tokens from "+e),P.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return I(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return O(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?A(A({},((0,m.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=T(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})),((0,m.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=T(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return o=this._validateState(t),P.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(i=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,A.apply(void 0,[A.apply(void 0,i.concat([u.sent()])),{state:o}])];case 2:return s=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,A.apply(void 0,[A.apply(void 0,s.concat([u.sent()])),{state:o}])];case 4:return[3,6];case 5:throw a=u.sent(),P.error("Error handling auth response.",a),a;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return I(this,void 0,void 0,(function(){var e,t,n;return O(this,(function(o){return e="https://"+this._config.domain+"/logout?",t=(0,r.ic)(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=(0,r.ic)(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=T(e,2);return t[0]+"="+t[1]})).join("&"),x("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),P.debug("Signing out from "+e),[2,this._urlOpener(e)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(S()(e))},e.prototype._base64URL=function(e){return e.toString(E()).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var o=e[r]%t.length;n.push(t[o])}return n.join("")},e}();var N;!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty"}(N||(N={}));var M,R=(M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),U=new f.k("AuthError"),D=function(e){function t(n){var r=this,o=$[n],i=o.message,s=o.log;return(r=e.call(this,i)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=s||i,U.error(r.log),r}return R(t,e),t}(Error),L=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return R(t,e),t}(D),$={noConfig:{message:N.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:N.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:N.EMPTY_USERNAME},invalidUsername:{message:N.INVALID_USERNAME},emptyPassword:{message:N.EMPTY_PASSWORD},emptyCode:{message:N.EMPTY_CODE},signUpError:{message:N.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:N.NO_MFA},invalidMFA:{message:N.INVALID_MFA},emptyChallengeResponse:{message:N.EMPTY_CHALLENGE},noUserSession:{message:N.NO_USER_SESSION},default:{message:N.DEFAULT_MSG}},j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},F=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},B=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},q=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},G=new f.k("AuthClass"),z="aws.cognito.signin.user.admin",H="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",V=function(e,t,n){h.Xb.dispatch("auth",{event:e,data:t,message:n},"Auth",H)},K=new(function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=d.cN,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?V("tokenRefresh",void 0,"New token retrieved"):V("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),h.Xb.listen("auth",(function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};G.debug("configure Auth");var n=Object.assign({},this._config,p._b.parseMobilehubConfig(e).Auth,e);this._config=n;var o=this._config,i=o.userPoolId,s=o.userPoolWebClientId,a=o.cookieStorage,c=o.oauth,f=o.region,h=o.identityPoolId,d=o.mandatorySignIn,g=o.refreshHandlers,m=o.identityPoolRegion,b=o.clientMetadata,w=o.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw G.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=a?new v.eR(a):e.ssr?new l:(new y.c4).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var S={UserPoolId:i,ClientId:s,endpoint:w};S.Storage=this._storage,this.userPool=new v.AM(S,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:d,region:m||f,userPoolId:i,identityPoolId:h,refreshHandlers:g,storage:this._storage});var _=c?(0,r.ic)(this._config.oauth)?c:c.awsCognito:void 0;if(_){var E=Object.assign({cognitoClientId:s,UserPoolId:i,domain:_.domain,scopes:_.scope,redirectSignIn:_.redirectSignIn,redirectSignOut:_.redirectSignOut,responseType:_.responseType,Storage:this._storage,urlOpener:_.urlOpener,clientMetadata:b},_.options);this._oAuthHandler=new k({scopes:E.scopes,config:E,cognitoClientId:E.cognitoClientId});var A={};!function(e){if(u.JS.browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(!u.JS.browserOrNode().isNode)throw new Error("Not supported")}((function(e){var n=e.url;A[n]||(A[n]=!0,t._handleAuthResponse(n))}))}return V("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(!this.userPool)return this.rejectNoUserPool();var i,s=null,a=null,u=[],c=null;if(e&&"string"==typeof e){s=e,a=n?n[0]:null;var l=n?n[1]:null,f=n?n[2]:null;l&&u.push(new v.KC({Name:"email",Value:l})),f&&u.push(new v.KC({Name:"phone_number",Value:f}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(r.Qg.SignUpError);s=e.username,a=e.password,e&&e.clientMetadata?i=e.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata);var h=e.attributes;h&&Object.keys(h).map((function(e){u.push(new v.KC({Name:e,Value:h[e]}))}));var d=e.validationData;d&&(c=[],Object.keys(d).map((function(e){c.push(new v.KC({Name:e,Value:d[e]}))})))}return s?a?(G.debug("signUp attrs:",u),G.debug("signUp validation data:",c),new Promise((function(e,n){t.userPool.signUp(s,a,u,c,(function(t,r){t?(V("signUp_failure",t,s+" failed to signup"),n(t)):(V("signUp",r,s+" has signed up successfully"),e(r))}),i)}))):this.rejectAuthError(r.Qg.EmptyPassword):this.rejectAuthError(r.Qg.EmptyUsername)},e.prototype.confirmSignUp=function(e,t,n){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.Qg.EmptyUsername);if(!t)return this.rejectAuthError(r.Qg.EmptyCode);var o,i=this.createCognitoUser(e),s=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?o=n.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata),new Promise((function(e,n){i.confirmRegistration(t,s,(function(t,r){t?n(t):e(r)}),o)}))},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.Qg.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var o=null,i=null,s={};if("string"==typeof e)o=e,i=t;else{if(!(0,r.lg)(e))return this.rejectAuthError(r.Qg.InvalidUsername);void 0!==t&&G.warn("The password should be defined under the first parameter object!"),o=e.username,i=e.password,s=e.validationData}if(!o)return this.rejectAuthError(r.Qg.EmptyUsername);var a=new v.sD({Username:o,Password:i,ValidationData:s,ClientMetadata:n});return i?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,o=this;return{onSuccess:function(i){return F(r,void 0,void 0,(function(){var r,s,a,u;return B(this,(function(c){switch(c.label){case 0:G.debug(i),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(i,"session")];case 3:return r=c.sent(),G.debug("succeed to get cognito credentials",r),[3,9];case 4:return s=c.sent(),G.debug("cannot get cognito credentials",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=c.sent(),o.user=a,V("signIn",a,"A user "+e.getUsername()+" has been signed in"),t(a),[3,8];case 7:return u=c.sent(),G.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){G.debug("signIn failure",t),V("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){G.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){G.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){G.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){G.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){G.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){G.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,o){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,o(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,o){n.initiateAuth(e,t.authCallbacks(n,r,o))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return G.debug("get MFA Options failed",e),void n(e);G.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(o,i){var s=n._config.clientMetadata,a=!!t&&t.bypassCache;e.getUserData((function(e,t){if(e)return G.debug("getting preferred mfa failed",e),void i(e);var n=r._getMfaTypeFromUserData(t);return n?void o(n):void i("invalid MFA Type")}),{bypassCache:a,clientMetadata:s})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":G.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){return new Promise((function(n,r){e.getUserData((function(e,t){return e?(G.debug("getting user data failed",e),void r(e)):void n(t)}),t)}))},e.prototype.setPreferredMFA=function(e,t){return F(this,void 0,void 0,(function(){var n,o,i,s,a,u;return B(this,(function(c){switch(c.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(o=c.sent(),i=null,s=null,t){case"TOTP":return[3,2];case"SMS":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return s={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=o.UserMFASettingList,[4,this._getMfaTypeFromUserData(o)];case 5:if("NOMFA"===(u=c.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===u)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==u)return[2,this.rejectAuthError(r.Qg.InvalidMFA)];s={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(s={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return G.debug("no validmfa method provided"),[2,this.rejectAuthError(r.Qg.NoMFA)];case 7:return this,[2,new Promise((function(t,r){e.setUserMfaPreference(i,s,(function(o,i){if(o)return G.debug("Set user mfa preference error",o),r(o);G.debug("Set user mfa success",i),G.debug("Caching the latest user data into local"),e.getUserData((function(e,n){return e?(G.debug("getting user data failed",e),r(e)):t(i)}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return G.debug("disable mfa failed",e),void n(e);G.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return G.debug("enable mfa failed",e),void n(e);G.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){G.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){G.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return G.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){G.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){V("signIn",e,"A user "+e.getUsername()+" has been signed in"),G.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,o){var i=this;if(void 0===o&&(o=this._config.clientMetadata),!t)return this.rejectAuthError(r.Qg.EmptyCode);var s=this;return new Promise((function(r,a){e.sendMFACode(t,{onSuccess:function(t){return F(i,void 0,void 0,(function(){var n,o;return B(this,(function(i){switch(i.label){case 0:G.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),G.debug("succeed to get cognito credentials",n),[3,6];case 4:return o=i.sent(),G.debug("cannot get cognito credentials",o),[3,6];case 5:return s.user=e,V("signIn",e,"A user "+e.getUsername()+" has been signed in"),r(e),[7];case 6:return[2]}}))}))},onFailure:function(e){G.debug("confirm signIn failure",e),a(e)}},n,o)}))},e.prototype.completeNewPassword=function(e,t,n,o){var i=this;if(void 0===n&&(n={}),void 0===o&&(o=this._config.clientMetadata),!t)return this.rejectAuthError(r.Qg.EmptyPassword);var s=this;return new Promise((function(r,a){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return F(i,void 0,void 0,(function(){var n,o;return B(this,(function(i){switch(i.label){case 0:G.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),G.debug("succeed to get cognito credentials",n),[3,6];case 4:return o=i.sent(),G.debug("cannot get cognito credentials",o),[3,6];case 5:return s.user=e,V("signIn",e,"A user "+e.getUsername()+" has been signed in"),r(e),[7];case 6:return[2]}}))}))},onFailure:function(e){G.debug("completeNewPassword failure",e),V("completeNewPassword_failure",e,i.user+" failed to complete the new password flow"),a(e)},mfaRequired:function(t,n){G.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,r(e)},mfaSetup:function(t,n){G.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,r(e)},totpRequired:function(t,n){G.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,r(e)}},o)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var o=this;if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(r.Qg.EmptyChallengeResponse);return new Promise((function(r,i){e.sendCustomChallengeAnswer(t,o.authCallbacks(e,r,i),n)}))},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],o=this;return new Promise((function(i,s){o.userSession(e).then((function(o){for(var a in t)if("sub"!==a&&a.indexOf("_verified")<0){var u={Name:a,Value:t[a]};r.push(u)}e.updateAttributes(r,(function(e,t){return e?s(e):i(t)}),n)}))}))},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},o={};return n.email&&(n.email_verified?o.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?o.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:o,unverified:r}}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return F(t,void 0,void 0,(function(){var t,o,i=this;return B(this,(function(s){switch(s.label){case 0:return this.isOAuthInProgress()?(G.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){G.debug("OAuth signIn in progress timeout"),h.Xb.remove("auth",n),e()}),1e4);function n(r){var o=r.payload.event;"cognitoHostedUI"!==o&&"cognitoHostedUI_failure"!==o||(G.debug("OAuth signIn resolved: "+o),clearTimeout(t),h.Xb.remove("auth",n),e())}h.Xb.listen("auth",n)}))]):[3,2];case 1:s.sent(),s.label=2;case 2:return(t=this.userPool.getCurrentUser())?(o=this._config.clientMetadata,t.getSession((function(o,s){return F(i,void 0,void 0,(function(){var i,a,u,c=this;return B(this,(function(l){switch(l.label){case 0:return o?(G.debug("Failed to get the user session",o),r(o),[2]):(i=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,2];case 1:l.sent(),l.label=2;case 2:return a=this._config.clientMetadata,u=s.getAccessToken().decodePayload().scope,(void 0===u?"":u).split(" ").includes(z)?(t.getUserData((function(e,o){if(e)return G.debug("getting user data failed",e),void("User is disabled."===e.message||"User does not exist."===e.message||"Access Token has been revoked"===e.message?r(e):n(t));for(var i=o.PreferredMfaSetting||"NOMFA",s=[],a=0;a<o.UserAttributes.length;a++){var u={Name:o.UserAttributes[a].Name,Value:o.UserAttributes[a].Value},l=new v.KC(u);s.push(l)}var f=c.attributesToObject(s);return Object.assign(t,{attributes:f,preferredMFA:i}),n(t)}),{bypassCache:i,clientMetadata:a}),[2]):(G.debug("Unable to get the user data because the "+z+" is not in the scopes of the access token"),[2,n(t)])}}))}))}),{clientMetadata:o}),[2]):(G.debug("Failed to get user from user pool"),r("No current user"),[2])}}))}))})).catch((function(e){return G.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return F(this,void 0,void 0,(function(){var t,n,r,o,i;return B(this,(function(s){switch(s.label){case 0:G.debug("getting current authenticated user"),t=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),G.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=j(j({},r.user),{token:r.token}))}catch(e){G.debug("cannot load federated user from auth storage")}return t?(this.user=t,G.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:G.debug("get current authenticated userpool user"),o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return o=s.sent(),[3,9];case 8:return"No userPool"===(i=s.sent())&&G.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),G.debug("The user is not authenticated by the error",i),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return G.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){G.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){G.debug("Failed to get the current user",e),n(e)}))})):Promise.reject()},e.prototype.userSession=function(e){if(!e)return G.debug("the user is null"),this.rejectAuthError(r.Qg.NoUserSession);var t=this._config.clientMetadata;return new Promise((function(n,r){G.debug("Getting the session from this user:",e),e.getSession((function(t,o){return t?(G.debug("Failed to get the session from user",e),void r(t)):(G.debug("Succeed to get the user session",o),void n(o))}),{clientMetadata:t})}))},e.prototype.currentUserCredentials=function(){return F(this,void 0,void 0,(function(){var e,t,n=this;return B(this,(function(r){switch(r.label){case 0:G.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),G.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){G.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return G.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(e){return G.debug("getting session failed",e),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return G.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,o){e.getAttributeVerificationCode(t,{onSuccess:function(){return r()},onFailure:function(e){return o(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,o){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){o(e)}})})):this.rejectAuthError(r.Qg.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return F(this,void 0,void 0,(function(){var n,r,o=this;return B(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),G.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,i){if(e&&e.global){G.debug("user global sign out",t);var s=o._config.clientMetadata;t.getSession((function(e,s){if(e)return G.debug("failed to get the user session",e),i(e);t.globalSignOut({onSuccess:function(e){if(G.debug("global sign out success"),!r)return n();o.oAuthSignOutRedirect(n,i)},onFailure:function(e){return G.debug("global sign out failed",e),i(e)}})}),{clientMetadata:s})}else{if(G.debug("user sign out",t),t.signOut(),!r)return n();o.oAuthSignOutRedirect(n,i)}}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){u.JS.browserOrNode().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e("Signout timeout fail")}),3e3)},e.prototype.signOut=function(e){return F(this,void 0,void 0,(function(){var t;return B(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),G.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:G.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:G.debug("no Congito User pool"),n.label=8;case 8:return V("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return F(this,void 0,void 0,(function(){return B(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var o=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(i,s){o.userSession(e).then((function(o){e.changePassword(t,n,(function(e,t){return e?(G.debug("change password failure",e),s(e)):i(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.Qg.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,o){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){G.debug("forgot password failure",t),V("forgotPassword_failure",t,e+" forgotPassword failed"),o(t)},inputVerificationCode:function(t){V("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,o){if(void 0===o&&(o=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.Qg.EmptyUsername);if(!t)return this.rejectAuthError(r.Qg.EmptyCode);if(!n)return this.rejectAuthError(r.Qg.EmptyPassword);var i=this.createCognitoUser(e);return new Promise((function(r,s){i.confirmPassword(t,n,{onSuccess:function(){V("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),r()},onFailure:function(t){V("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),s(t)}},o)}))},e.prototype.currentUserInfo=function(){return F(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return B(this,(function(a){switch(a.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return G.debug(e)}))];case 1:if(!(s=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(s)];case 3:t=a.sent(),n=this.attributesToObject(t),r=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=a.sent(),[3,7];case 6:return o=a.sent(),G.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:s.getUsername(),attributes:n}];case 8:return i=a.sent(),G.debug("currentUserInfo error",i),[2,{}];case 9:return"federated"===e?[2,(s=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return F(this,void 0,void 0,(function(){var o,i,s,a,u,c,l,f,h,d,p;return B(this,(function(y){switch(y.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return(0,r.SU)(e)||(0,r.zB)(e)||(0,r.Ay)(e)||void 0===e?(o=e||{provider:r.JG.Cognito},u=(0,r.SU)(o)?o.provider:o.customProvider,(0,r.SU)(o),i=o.customState,this._config.userPoolId&&(s=(0,r.ic)(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=(0,r.ic)(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,s,u,i)),[3,4]):[3,1];case 1:u=e;try{(c=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&G.warn("There is already a signed in user: "+c+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return l=t.token,f=t.identity_id,h=t.expires_at,[4,this.Credentials.set({provider:u,token:l,identity_id:f,user:n,expires_at:h},"federation")];case 2:return d=y.sent(),[4,this.currentAuthenticatedUser()];case 3:return p=y.sent(),V("signIn",p,"A user "+p.username+" has been signed in"),G.debug("federated sign in credentials",d),[2,d];case 4:return[2]}}))}))},e.prototype._handleAuthResponse=function(e){return F(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,c,l,f,h,d,p,y;return B(this,(function(g){switch(g.label){case 0:if(this.oAuthFlowInProgress)return G.debug("Skipping URL "+e+" current flow in progress"),[2];g.label=1;case 1:if(g.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(V("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(u.JS.browserOrNode().isBrowser?window.location.href:""),n=!!((0,m.Qc)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=q(e,1)[0];return"code"===t||"error"===t})),r=!!((0,m.Qc)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=q(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),g.label=2;case 2:return g.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return o=g.sent(),i=o.accessToken,s=o.idToken,a=o.refreshToken,c=o.state,l=new v.MZ({IdToken:new v.xk({IdToken:s}),RefreshToken:new v.bR({RefreshToken:a}),AccessToken:new v.ZA({AccessToken:i})}),f=void 0,this._config.identityPoolId?[4,this.Credentials.set(l,"session")]:[3,5];case 4:f=g.sent(),G.debug("AWS credentials",f),g.label=5;case 5:return h=/-/.test(c),(d=this.createCognitoUser(l.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(l),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),V("signIn",d,"A user "+d.getUsername()+" has been signed in"),V("cognitoHostedUI",d,"A user "+d.getUsername()+" has been signed in via Cognito Hosted UI"),h&&(p=c.split("-").splice(1).join("-"),V("customOAuthState",p.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+d.getUsername())),[2,f];case 6:return y=g.sent(),G.debug("Error in cognito hosted auth response",y),V("signIn_failure",y,"The OAuth response flow failed"),V("cognitoHostedUI_failure",y,"A failure occurred when returning to the Cognito Hosted UI"),V("customState_failure",y,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?t[e.Name]="true"===e.Value||!0===e.Value:t[e.Name]=e.Value})),t},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new v.ws(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?r.Qg.NoConfig:r.Qg.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new D(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new L(e))},e}())(null);g.dQ.register(K)},520:(e,t,n)=>{"use strict";var r,o;function i(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function s(e){return e&&!!["customProvider"].find((function(t){return e.hasOwnProperty(t)}))}function a(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}function u(e){return void 0!==e.redirectSignIn}function c(e){return!!e.username}n.d(t,{JG:()=>r,SU:()=>i,zB:()=>s,Ay:()=>a,ic:()=>u,Qg:()=>o,lg:()=>c}),function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(r||(r={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default"}(o||(o={}))},9857:(e,t,n)=>{"use strict";n.d(t,{dQ:()=>s});var r=n(4397),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},i=new r.k("Amplify"),s=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Logger=r.k,this.ServiceWorker=null}return e.prototype.register=function(e){i.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):i.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),i.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=o(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}())},4607:(e,t,n)=>{"use strict";n.d(t,{cN:()=>kr});var r=n(4397),o=n(9639),i=n(914),s=n(7036),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},c=new r.k("CognitoCredentials"),l=new Promise((function(e,t){return(0,i.lC)().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(c.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(c.debug("not in the browser, directly resolved"),e())})),f=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return a(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(c.debug("need to wait for the Google SDK loaded"),[4,l]);case 1:e.sent(),this.initialized=!0,c.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return(0,i.lC)().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(c.debug("google Auth undefined"),n(new s.V2("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(c.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new s.V2("Failed to reload google auth response"))}))):n(new s.V2("User is not signed in with Google"))})).catch((function(e){c.debug("Failed to refresh google token",e),n(new s.V2("Failed to refresh google token"))}))})):(c.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}();var h=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},p=new r.k("CognitoCredentials"),y=new Promise((function(e,t){return(0,i.lC)().isBrowser?window.FB?(p.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(p.debug("not in the browser, directly resolved"),e())})),g=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return h(this,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(p.debug("need to wait for the Facebook SDK loaded"),[4,y]);case 1:e.sent(),this.initialized=!0,p.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if((0,i.lC)().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return p.debug(t),Promise.reject(new s.V2(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,o=r.accessToken,i=1e3*r.expiresIn+(new Date).getTime();if(!o){a="the jwtToken is undefined";p.debug(a),n(new s.V2(a))}t({token:o,expires_at:i})}else{var a="no response from facebook when refreshing the jwt token";p.debug(a),n(new s.V2(a))}}),{scope:"public_profile,email"})}))},e}();var v=new f,m=new g,b=n(7605),w=n(9857);function S(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function _(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function E(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var A=function(e,t){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function T(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function C(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}Object.create;function x(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}var P,k,N,M,R,U,D,L,$,j,F,B,q,G,z,H,V,K,W,Y,J,Q,Z,X,ee,te,ne,re,oe,ie,se,ae,ue,ce,le,fe,he,de,pe,ye,ge,ve,me,be,we,Se,_e,Ee,Ae,Ie,Oe,Te,Ce,xe,Pe,ke,Ne;Object.create;!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(P||(P={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(k||(k={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(F||(F={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(q||(q={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(ne||(ne={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(ie||(ie={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return O({},e)}}(Ne||(Ne={}));var Me=n(8716),Re=function(e,t){return T(void 0,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,l,f,h,d,p,y,g;return C(this,(function(v){switch(v.label){case 0:return r=[O({},e)],g={},[4,ct(e.body,t)];case 1:switch(n=O.apply(void 0,r.concat([(g.body=v.sent(),g)])),i="UnknownError",i=lt(e,n.body),i){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,De(n,t)];case 3:return o=O.apply(void 0,[O.apply(void 0,s.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 4:return a=[{}],[4,Le(n,t)];case 5:return o=O.apply(void 0,[O.apply(void 0,a.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 6:return u=[{}],[4,$e(n,t)];case 7:return o=O.apply(void 0,[O.apply(void 0,u.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 8:return c=[{}],[4,je(n,t)];case 9:return o=O.apply(void 0,[O.apply(void 0,c.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 10:return l=[{}],[4,Be(n,t)];case 11:return o=O.apply(void 0,[O.apply(void 0,l.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 12:return f=[{}],[4,qe(n,t)];case 13:return o=O.apply(void 0,[O.apply(void 0,f.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 14:return h=[{}],[4,Ge(n,t)];case 15:return o=O.apply(void 0,[O.apply(void 0,h.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 16:return d=[{}],[4,ze(n,t)];case 17:return o=O.apply(void 0,[O.apply(void 0,d.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 18:p=n.body,i=p.code||p.Code||i,o=O(O({},p),{name:""+i,message:p.message||p.Message||i,$fault:"client",$metadata:st(e)}),v.label=19;case 19:return y=o.message||o.Message||i,o.message=y,delete o.Message,[2,Promise.reject(Object.assign(new Error(y),o))]}}))}))},Ue=function(e,t){return T(void 0,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,l,f,h,d,p,y,g;return C(this,(function(v){switch(v.label){case 0:return r=[O({},e)],g={},[4,ct(e.body,t)];case 1:switch(n=O.apply(void 0,r.concat([(g.body=v.sent(),g)])),i="UnknownError",i=lt(e,n.body),i){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,De(n,t)];case 3:return o=O.apply(void 0,[O.apply(void 0,s.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 4:return a=[{}],[4,Le(n,t)];case 5:return o=O.apply(void 0,[O.apply(void 0,a.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 6:return u=[{}],[4,je(n,t)];case 7:return o=O.apply(void 0,[O.apply(void 0,u.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 8:return c=[{}],[4,Fe(n,t)];case 9:return o=O.apply(void 0,[O.apply(void 0,c.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 10:return l=[{}],[4,Be(n,t)];case 11:return o=O.apply(void 0,[O.apply(void 0,l.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 12:return f=[{}],[4,qe(n,t)];case 13:return o=O.apply(void 0,[O.apply(void 0,f.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 14:return h=[{}],[4,Ge(n,t)];case 15:return o=O.apply(void 0,[O.apply(void 0,h.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 16:return d=[{}],[4,ze(n,t)];case 17:return o=O.apply(void 0,[O.apply(void 0,d.concat([v.sent()])),{name:i,$metadata:st(e)}]),[3,19];case 18:p=n.body,i=p.code||p.Code||i,o=O(O({},p),{name:""+i,message:p.message||p.Message||i,$fault:"client",$metadata:st(e)}),v.label=19;case 19:return y=o.message||o.Message||i,o.message=y,delete o.Message,[2,Promise.reject(Object.assign(new Error(y),o))]}}))}))},De=function(e,t){return T(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){return n=e.body,r=Ye(n,t),[2,O({name:"ExternalServiceException",$fault:"client",$metadata:st(e)},r)]}))}))},Le=function(e,t){return T(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){return n=e.body,r=Ze(n,t),[2,O({name:"InternalErrorException",$fault:"server",$metadata:st(e)},r)]}))}))},$e=function(e,t){return T(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){return n=e.body,r=Xe(n,t),[2,O({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:st(e)},r)]}))}))},je=function(e,t){return T(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){return n=e.body,r=et(n,t),[2,O({name:"InvalidParameterException",$fault:"client",$metadata:st(e)},r)]}))}))},Fe=function(e,t){return T(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){return n=e.body,r=tt(n,t),[2,O({name:"LimitExceededException",$fault:"client",$metadata:st(e)},r)]}))}))},Be=function(e,t){return T(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){return n=e.body,r=nt(n,t),[2,O({name:"NotAuthorizedException",$fault:"client",$metadata:st(e)},r)]}))}))},qe=function(e,t){return T(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){return n=e.body,r=rt(n,t),[2,O({name:"ResourceConflictException",$fault:"client",$metadata:st(e)},r)]}))}))},Ge=function(e,t){return T(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){return n=e.body,r=ot(n,t),[2,O({name:"ResourceNotFoundException",$fault:"client",$metadata:st(e)},r)]}))}))},ze=function(e,t){return T(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){return n=e.body,r=it(n,t),[2,O({name:"TooManyRequestsException",$fault:"client",$metadata:st(e)},r)]}))}))},He=function(e,t){return O(O(O({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Ke(e.Logins,t)})},Ve=function(e,t){return O(O(O({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Ke(e.Logins,t)})},Ke=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=x(t,2),o=r[0],i=r[1];return null===i?e:O(O({},e),((n={})[o]=i,n))}),{})},We=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},Ye=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Je=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?We(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Qe=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Ze=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Xe=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},et=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},tt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},nt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},rt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ot=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},it=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},st=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},at=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},ut=function(e,t,n,r,o){return T(void 0,void 0,void 0,(function(){var i,s,a,u,c,l;return C(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return i=f.sent(),s=i.hostname,a=i.protocol,u=void 0===a?"https":a,c=i.port,l={protocol:u,hostname:s,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==o&&(l.body=o),[2,new Me.aW(l)]}}))}))},ct=function(e,t){return function(e,t){return at(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},lt=function(e,t){var n,r,o=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==i?o(e.headers[i]):void 0!==t.code?o(t.code):void 0!==t.__type?o(t.__type):""},ft=n(8273),ht=n(5601),dt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return I(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,ft.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:J.filterSensitiveLog,outputFilterSensitiveLog:Z.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return T(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(He(e,t)),[2,ut(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return T(void 0,void 0,void 0,(function(){var n,r,o;return C(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,Re(e,t)]:[4,ct(e.body,t)];case 1:return n=i.sent(),r=Je(n,t),o=O({$metadata:st(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(ht.mY),pt=function(e,t){return(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var yt=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return function(e,t){function n(){this.constructor=e}pt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function gt(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=E(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})}))}function vt(e){var t=this;return function(){return S(t,void 0,void 0,(function(){var t,n,r,o,i,s,a,u,c,l,f,h,d;return _(this,(function(p){switch(p.label){case 0:return l=(c=e.client).send,f=dt.bind,d={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,gt(e.logins)]:[3,2];case 1:return h=p.sent(),[3,3];case 2:h=void 0,p.label=3;case 3:return[4,l.apply(c,[new(f.apply(dt,[void 0,(d.Logins=h,d)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new yt("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,o=void 0===r?function(){throw new yt("Response from Amazon Cognito contained no access key ID")}():r,i=n.Expiration,s=n.SecretKey,a=void 0===s?function(){throw new yt("Response from Amazon Cognito contained no secret key")}():s,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:o,secretAccessKey:a,sessionToken:u,expiration:i}]}}))}))}}var mt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return I(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,ft.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:ee.filterSensitiveLog,outputFilterSensitiveLog:te.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return T(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(Ve(e,t)),[2,ut(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return T(void 0,void 0,void 0,(function(){var n,r,o;return C(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,Ue(e,t)]:[4,ct(e.body,t)];case 1:return n=i.sent(),r=Qe(n,t),o=O({$metadata:st(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(ht.mY),bt="IdentityIds",wt=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(bt,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(bt,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(bt)))})).catch((function(e){throw n.close(),e}))}))},e}(),St=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());function _t(e){var t=this,n=e.accountId,r=e.cache,o=void 0===r?"object"==typeof self&&self.indexedDB?new wt:"object"==typeof window&&window.localStorage?window.localStorage:St:r,i=e.client,s=e.customRoleArn,a=e.identityPoolId,u=e.logins,c=e.userIdentifier,l=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,f=l?"aws:cognito-identity-credentials:"+a+":"+l:void 0,h=function(){return S(t,void 0,void 0,(function(){var e,t,r,c,l,d,p,y,g;return _(this,(function(v){switch(v.label){case 0:return(t=f)?[4,o.getItem(f)]:[3,2];case 1:t=v.sent(),v.label=2;case 2:return(e=t)?[3,7]:(d=(l=i).send,p=mt.bind,g={AccountId:n,IdentityPoolId:a},u?[4,gt(u)]:[3,4]);case 3:return y=v.sent(),[3,5];case 4:y=void 0,v.label=5;case 5:return[4,d.apply(l,[new(p.apply(mt,[void 0,(g.Logins=y,g)]))])];case 6:r=v.sent().IdentityId,c=void 0===r?function(){throw new yt("Response from Amazon Cognito contained no identity ID")}():r,e=c,f&&Promise.resolve(o.setItem(f,e)).catch((function(){})),v.label=7;case 7:return[2,(h=vt({client:i,customRoleArn:s,logins:u,identityId:e}))()]}}))}))};return function(){return h().catch((function(e){return S(t,void 0,void 0,(function(){return _(this,(function(t){throw f&&Promise.resolve(o.removeItem(f)).catch((function(){})),e}))}))}))}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Et=function(e,t){return(Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function At(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Et(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var It=function(){return(It=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ot(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Tt(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}Object.create;function Ct(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}Object.create;var xt=n(6066),Pt=n(5393),kt=n(2131),Nt=n(4138),Mt=n(1823),Rt=n(1355),Ut=n(2471);var Dt,Lt,$t,jt,Ft,Bt,qt,Gt,zt,Ht,Vt,Kt,Wt,Yt,Jt,Qt,Zt,Xt,en,tn,nn,rn,on,sn,an,un,cn,ln,fn,hn,dn,pn,yn,gn,vn,mn,bn,wn,Sn,_n,En,An,In,On,Tn,Cn,xn,Pn,kn,Nn,Mn,Rn,Un,Dn,Ln,$n,jn,Fn="cognito-identity.{region}.amazonaws.com",Bn=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),qn=new Set(["cn-north-1","cn-northwest-1"]),Gn=new Set(["us-iso-east-1"]),zn=new Set(["us-isob-east-1"]),Hn=new Set(["us-gov-east-1","us-gov-west-1"]),Vn={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:Bn.has(e)&&(n={hostname:Fn.replace("{region}",e),partition:"aws"}),qn.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Gn.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),zn.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Hn.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Fn.replace("{region}",e),partition:"aws"})}return Promise.resolve(It({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:n(7801).e},Kn=It(It({},Vn),{runtime:"browser",base64Decoder:Mt.G,base64Encoder:Mt.s,bodyLengthChecker:Rt.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,Ut.f)({serviceId:Vn.serviceId,clientVersion:"3.6.1"}),maxAttempts:Nt.J,region:(0,kt.n)("Region is missing"),requestHandler:new Pt.B,sha256:xt.Sha256,streamCollector:Pt.C,utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var s="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),Wn=n(5290),Yn=n(4572),Jn=n(1362),Qn=n(5186),Zn=n(6101),Xn=n(1705),er=function(e){function t(t){var n=this,r=It(It({},Kn),t),o=(0,Wn.Xb)(r),i=(0,Wn.g4)(o),s=(0,Zn.A$)(i),a=(0,Nt.BC)(s),u=(0,Jn.S8)(a),c=(0,Xn.er)(u);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use((0,Nt.NQ)(n.config)),n.middlewareStack.use((0,Yn.VG)(n.config)),n.middlewareStack.use((0,Jn.G2)(n.config)),n.middlewareStack.use((0,Qn.cV)(n.config)),n.middlewareStack.use((0,Xn.XJ)(n.config)),n}return At(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(ht.KU);!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(Dt||(Dt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Lt||(Lt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($t||($t={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jt||(jt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ft||(Ft={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Bt||(Bt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(qt||(qt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Gt||(Gt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(zt||(zt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ht||(Ht={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Vt||(Vt={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(Kt||(Kt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Wt||(Wt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Yt||(Yt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Jt||(Jt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Qt||(Qt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Zt||(Zt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Xt||(Xt={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(en||(en={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(tn||(tn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(nn||(nn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(rn||(rn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(on||(on={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(sn||(sn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(an||(an={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(un||(un={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(cn||(cn={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(ln||(ln={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(fn||(fn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(hn||(hn={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(dn||(dn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(pn||(pn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(yn||(yn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(gn||(gn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(vn||(vn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(mn||(mn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(bn||(bn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(wn||(wn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Sn||(Sn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(_n||(_n={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(En||(En={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(An||(An={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(In||(In={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(On||(On={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Tn||(Tn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Cn||(Cn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(xn||(xn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Pn||(Pn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(kn||(kn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Nn||(Nn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Mn||(Mn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Rn||(Rn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Un||(Un={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Dn||(Dn={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(Ln||(Ln={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}($n||($n={})),function(e){e.filterSensitiveLog=function(e){return It({},e)}}(jn||(jn={}));var tr=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,l,f,h,d,p,y,g;return Tt(this,(function(v){switch(v.label){case 0:return r=[It({},e)],g={},[4,Ar(e.body,t)];case 1:switch(n=It.apply(void 0,r.concat([(g.body=v.sent(),g)])),i="UnknownError",i=Ir(e,n.body),i){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,nr(n,t)];case 3:return o=It.apply(void 0,[It.apply(void 0,s.concat([v.sent()])),{name:i,$metadata:Sr(e)}]),[3,19];case 4:return a=[{}],[4,rr(n,t)];case 5:return o=It.apply(void 0,[It.apply(void 0,a.concat([v.sent()])),{name:i,$metadata:Sr(e)}]),[3,19];case 6:return u=[{}],[4,or(n,t)];case 7:return o=It.apply(void 0,[It.apply(void 0,u.concat([v.sent()])),{name:i,$metadata:Sr(e)}]),[3,19];case 8:return c=[{}],[4,ir(n,t)];case 9:return o=It.apply(void 0,[It.apply(void 0,c.concat([v.sent()])),{name:i,$metadata:Sr(e)}]),[3,19];case 10:return l=[{}],[4,sr(n,t)];case 11:return o=It.apply(void 0,[It.apply(void 0,l.concat([v.sent()])),{name:i,$metadata:Sr(e)}]),[3,19];case 12:return f=[{}],[4,ar(n,t)];case 13:return o=It.apply(void 0,[It.apply(void 0,f.concat([v.sent()])),{name:i,$metadata:Sr(e)}]),[3,19];case 14:return h=[{}],[4,ur(n,t)];case 15:return o=It.apply(void 0,[It.apply(void 0,h.concat([v.sent()])),{name:i,$metadata:Sr(e)}]),[3,19];case 16:return d=[{}],[4,cr(n,t)];case 17:return o=It.apply(void 0,[It.apply(void 0,d.concat([v.sent()])),{name:i,$metadata:Sr(e)}]),[3,19];case 18:p=n.body,i=p.code||p.Code||i,o=It(It({},p),{name:""+i,message:p.message||p.Message||i,$fault:"client",$metadata:Sr(e)}),v.label=19;case 19:return y=o.message||o.Message||i,o.message=y,delete o.Message,[2,Promise.reject(Object.assign(new Error(y),o))]}}))}))},nr=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return Tt(this,(function(o){return n=e.body,r=hr(n,t),[2,It({name:"ExternalServiceException",$fault:"client",$metadata:Sr(e)},r)]}))}))},rr=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return Tt(this,(function(o){return n=e.body,r=pr(n,t),[2,It({name:"InternalErrorException",$fault:"server",$metadata:Sr(e)},r)]}))}))},or=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return Tt(this,(function(o){return n=e.body,r=yr(n,t),[2,It({name:"InvalidParameterException",$fault:"client",$metadata:Sr(e)},r)]}))}))},ir=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return Tt(this,(function(o){return n=e.body,r=gr(n,t),[2,It({name:"LimitExceededException",$fault:"client",$metadata:Sr(e)},r)]}))}))},sr=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return Tt(this,(function(o){return n=e.body,r=vr(n,t),[2,It({name:"NotAuthorizedException",$fault:"client",$metadata:Sr(e)},r)]}))}))},ar=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return Tt(this,(function(o){return n=e.body,r=mr(n,t),[2,It({name:"ResourceConflictException",$fault:"client",$metadata:Sr(e)},r)]}))}))},ur=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return Tt(this,(function(o){return n=e.body,r=br(n,t),[2,It({name:"ResourceNotFoundException",$fault:"client",$metadata:Sr(e)},r)]}))}))},cr=function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return Tt(this,(function(o){return n=e.body,r=wr(n,t),[2,It({name:"TooManyRequestsException",$fault:"client",$metadata:Sr(e)},r)]}))}))},lr=function(e,t){return It(It(It({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:fr(e.Logins,t)})},fr=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Ct(t,2),o=r[0],i=r[1];return null===i?e:It(It({},e),((n={})[o]=i,n))}),{})},hr=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},dr=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},pr=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},yr=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},gr=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},vr=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},mr=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},br=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},wr=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Sr=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},_r=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Er=function(e,t,n,r,o){return Ot(void 0,void 0,void 0,(function(){var i,s,a,u,c,l;return Tt(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return i=f.sent(),s=i.hostname,a=i.protocol,u=void 0===a?"https":a,c=i.port,l={protocol:u,hostname:s,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==o&&(l.body=o),[2,new Me.aW(l)]}}))}))},Ar=function(e,t){return function(e,t){return _r(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Ir=function(e,t){var n,r,o=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==i?o(e.headers[i]):void 0!==t.code?o(t.code):void 0!==t.__type?o(t.__type):""},Or=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return At(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,ft.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:an.filterSensitiveLog,outputFilterSensitiveLog:un.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r;return Tt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(lr(e,t)),[2,Er(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Ot(void 0,void 0,void 0,(function(){var n,r,o;return Tt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,tr(e,t)]:[4,Ar(e.body,t)];case 1:return n=i.sent(),r=dr(n,t),o=It({$metadata:Sr(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(ht.mY),Tr=function(){return(Tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Cr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},xr=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Pr=new r.k("Credentials"),kr=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=v.refreshGoogleToken,this._refreshHandlers.facebook=m.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=Tr(Tr({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new o.c4).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return Pr.debug("getting credentials"),this._pickupCredentials()},e.prototype._pickupCredentials=function(){return Pr.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Pr.debug("getting old cred promise"):(Pr.debug("getting new cred promise"),this._gettingCredPromise=(0,i.ML)(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return Cr(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return xr(this,(function(a){switch(a.label){case 0:if(Pr.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return Pr.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(Pr.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?w.dQ.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];Pr.debug("ttl has passed but token is not yet expired"),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=a.sent(),[4,n.currentSession()];case 3:return o=a.sent(),i=o.refreshToken,[4,new Promise((function(e,t){r.refreshSession(i,(function(n,r){return n?t(n):e(r)}))}))];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),Pr.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){Pr.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,o=e.identity_id,i=e.expires_at;i=1970===new Date(i).getFullYear()?1e3*i:i;var s=this;return Pr.debug("checking if federated jwt token expired"),i>(new Date).getTime()?(Pr.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:o,expires_at:i})):s._refreshHandlers[t]&&"function"==typeof s._refreshHandlers[t]?(Pr.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:s._refreshHandlers[t],provider:t,user:n})):(Pr.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,o=e.user;return(0,s.Xm)(n,[],1e4).then((function(e){return Pr.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:o,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),Pr.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return Pr.debug("no credentials for expiration check"),!0;Pr.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return Cr(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a=this;return xr(this,(function(u){switch(u.label){case 0:if(Pr.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn)return[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")];if(!t)return Pr.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")];if(!n)return Pr.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")];r=void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this._storageSync];case 2:return u.sent(),r=this._storage.getItem("CognitoIdentityId-"+t),this._identityId=r,[3,4];case 3:return o=u.sent(),Pr.debug("Failed to get the cached identityId",o),[3,4];case 4:return i=new er({region:n,customUserAgent:(0,b.Zm)()}),s=void 0,s=r?vt({identityId:r,client:i})():function(){return Cr(a,void 0,void 0,(function(){var e;return xr(this,(function(n){switch(n.label){case 0:return[4,i.send(new Or({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,vt({client:i,identityId:e})()]}}))}))}().catch((function(e){return Cr(a,void 0,void 0,(function(){return xr(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null).then((function(e){return e})).catch((function(e){return Cr(a,void 0,void 0,(function(){var n=this;return xr(this,(function(o){return"ResourceNotFoundException"===e.name&&e.message==="Identity '"+r+"' not found."?(Pr.debug("Failed to load guest credentials"),this._storage.removeItem("CognitoIdentityId-"+t),s=function(){return Cr(n,void 0,void 0,(function(){var e;return xr(this,(function(n){switch(n.label){case 0:return[4,i.send(new Or({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,vt({client:i,identityId:e})()]}}))}))}().catch((function(e){return Cr(n,void 0,void 0,(function(){return xr(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null)]):[2,e]}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!o)return Promise.reject("You must specify a federated provider");var i={};i[o]=n;var s=this._config,a=s.identityPoolId,u=s.region;if(!a)return Pr.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return Pr.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=new er({region:u,customUserAgent:(0,b.Zm)()}),l=void 0;r?l=vt({identityId:r,logins:i,client:c})():l=_t({logins:i,identityPoolId:a,client:c})();return this._loadCredentials(l,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;Pr.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,o=r.region,i=r.userPoolId,s=r.identityPoolId;if(!s)return Pr.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!o)return Pr.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var a={};a["cognito-idp."+o+".amazonaws.com/"+i]=n;var u=new er({region:o,customUserAgent:(0,b.Zm)()}),c=Cr(t,void 0,void 0,(function(){var e;return xr(this,(function(t){switch(t.label){case 0:return[4,u.send(new Or({IdentityPoolId:s,Logins:a}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,vt({client:u,logins:a,identityId:e})()]}}))})).catch((function(e){return Cr(t,void 0,void 0,(function(){return xr(this,(function(t){throw e}))}))}));return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var o=this,i=this,s=this._config.identityPoolId;return new Promise((function(a,u){e.then((function(e){return Cr(o,void 0,void 0,(function(){var o,u,c,l,f,h;return xr(this,(function(d){switch(d.label){case 0:if(Pr.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),i._credentials=e,i._credentials.authenticated=n,i._credentials_source=t,i._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){o=Object.assign({id:this._credentials.identityId},r.user),u=r.provider,c=r.token,l=r.expires_at,f=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:u,token:c,user:o,expires_at:l,identity_id:f}))}catch(e){Pr.debug("Failed to put federated info into auth storage",e)}}if("guest"!==t)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._storageSync];case 2:return d.sent(),this._storage.setItem("CognitoIdentityId-"+s,e.identityId),[3,4];case 3:return h=d.sent(),Pr.debug("Failed to cache identityId",h),[3,4];case 4:return a(i._credentials),[2]}}))}))})).catch((function(t){if(t)return Pr.debug("Failed to load credentials",e),Pr.debug("Error loading credentials",t),void u(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Pr.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Cr(this,void 0,void 0,(function(){return xr(this,(function(e){return this._credentials=null,this._credentials_source=null,Pr.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);w.dQ.register(kr)},412:(e,t,n)=>{"use strict";n.d(t,{Xb:()=>c});var r=n(4397),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},a=new r.k("Hub"),u="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var c=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void a.warn("No listeners for "+e);this.patterns=s(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void a.warn("No listeners for "+e);this.listeners[e]=s(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===u||a.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var i={channel:e,payload:o({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){a.error(e)}},e.prototype.listen=function(e,t,n){var r,o=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))a.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var i=this.listeners[e];i||(i=[],this.listeners[e]=i),i.push({name:n,callback:r})}return function(){o.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){a.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){a.error(e)}})),this.patterns.length>0){if(!n.message)return void a.warn("Cannot perform pattern matching without a message key");var s=n.message;this.patterns.forEach((function(t){var n=s.match(t.pattern);if(n){var r=i(n).slice(1),u=o(o({},e),{patternInfo:r});try{t.callback(u)}catch(e){a.error(e)}}}))}},e}())("__default__")},914:(e,t,n)=>{"use strict";n.d(t,{ML:()=>l,n2:()=>f,lC:()=>h,JS:()=>g});var r=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],o=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},i=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var o=e[t],i=n[t];return void 0===i?void 0===o?0:1*r:void 0===o||o<i?-1*r:o>i?1*r:0})),!0},s=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},a=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),o=r.filter((function(e){return n.endsWith("."+e.ext)}));return o.length>0?o[0].type:t},u=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},c=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},l=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,o=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return o.isFullfilled=function(){return r},o.isPending=function(){return t},o.isRejected=function(){return n},o},f=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},h=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}},d=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!y(e))return e;var r={};for(var o in e){if(e.hasOwnProperty(o))r[t.includes(o)?o:o[0].toLowerCase()+o.slice(1)]=n.includes(o)?e[o]:d(e[o],t,n)}return r},p=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!y(e))return e;var r={};for(var o in e){if(e.hasOwnProperty(o))r[t.includes(o)?o:o[0].toUpperCase()+o.slice(1)]=n.includes(o)?e[o]:p(e[o],t,n)}return r},y=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)},g=function(){function e(){}return e.isEmpty=o,e.sortByField=i,e.objectLessAttributes=s,e.filenameToContentType=a,e.isTextFile=u,e.generateRandomString=c,e.makeQuerablePromise=l,e.isWebWorker=f,e.browserOrNode=h,e.transferKeyToLowerCase=d,e.transferKeyToUpperCase=p,e.isStrictObject=y,e}()},4397:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},i={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},s=function(){function e(e,t){void 0===t&&(t="WARN"),this.name=e,this.level=t}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype._log=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.level;e.LOG_LEVEL&&(o=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(o=window.LOG_LEVEL);var s=i[o],a=i[t];if(a>=s){var u=console.log.bind(console);"ERROR"===t&&console.error&&(u=console.error.bind(console)),"WARN"===t&&console.warn&&(u=console.warn.bind(console));var c="["+t+"] "+this._ts()+" "+this.name;if(1===n.length&&"string"==typeof n[0])u(c+" - "+n[0]);else if(1===n.length)u(c,n[0]);else if("string"==typeof n[0]){var l=n.slice(1);1===l.length&&(l=l[0]),u(c+" - "+n[0],l)}else u(c,n)}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["INFO"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["INFO"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["WARN"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["ERROR"],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["DEBUG"],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["VERBOSE"],e))},e.LOG_LEVEL=null,e}()},4451:(e,t,n)=>{"use strict";n.d(t,{_b:()=>i});var r=new(n(4397).k)("Parser"),o=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var o={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=o}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),r.debug("parse config",e,"to amplifyconfig",n),n},i=function(){function e(){}return e.parseMobilehubConfig=o,e}()},7605:(e,t,n)=>{"use strict";n.d(t,{t4:()=>o,Zm:()=>i});var r="aws-amplify/3.8.21",o={userAgent:r+" js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)switch(o.product=navigator.product||"",o.navigator=navigator||null,navigator.product){case"ReactNative":o.userAgent=r+" react-native",o.isReactNative=!0;break;default:o.userAgent=r+" js",o.isReactNative=!1}var i=function(){return o.userAgent}},9639:(e,t,n)=>{"use strict";n.d(t,{c4:()=>i});var r={},o=function(){function e(){}return e.setItem=function(e,t){return r[e]=t,r[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},e.removeItem=function(e){return delete r[e]},e.clear=function(){return r={}},e}(),i=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=o}}return e.prototype.getStorage=function(){return this.storageWindow},e}()},7036:(e,t,n)=>{"use strict";n.d(t,{V2:()=>f,Xm:()=>d});var r,o=n(4397),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},c=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e},l=new o.k("Util"),f=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return i(t,e),t}(Error);function h(e,t,n,r){return void 0===r&&(r=1),s(this,void 0,void 0,(function(){var o,i;return a(this,(function(s){switch(s.label){case 0:if("function"!=typeof e)throw Error("functionToRetry must be a function");l.debug(e.name+" attempt #"+r+" with this vars: "+JSON.stringify(t)),s.label=1;case 1:return s.trys.push([1,3,,8]),[4,e.apply(void 0,c(t))];case 2:return[2,s.sent()];case 3:if(o=s.sent(),l.debug("error on "+e.name,o),(a=o)&&a.nonRetryable)throw l.debug(e.name+" non retryable error",o),o;return i=n(r,t,o),l.debug(e.name+" retrying in "+i+" ms"),!1===i?[3,6]:[4,new Promise((function(e){return setTimeout(e,i)}))];case 4:return s.sent(),[4,h(e,t,n,r+1)];case 5:return[2,s.sent()];case 6:throw o;case 7:return[3,8];case 8:return[2]}var a}))}))}var d=function(e,t,n){return void 0===n&&(n=3e5),h(e,t,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(n))}},4326:(e,t,n)=>{"use strict";n.d(t,{KT:()=>ns,yb:()=>qi});var r=n(4397),o=n(914),i=n(412),s=n(9857);function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function u(e){return!!e&&!!e[Q]}function c(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[J]||!!e.constructor[J]||g(e)||v(e))}function l(e,t,n){void 0===n&&(n=!1),0===f(e)?(n?Object.keys:Z)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function f(e){var t=e[Q];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:g(e)?2:v(e)?3:0}function h(e,t){return 2===f(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){return 2===f(e)?e.get(t):e[t]}function p(e,t,n){var r=f(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function y(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function g(e){return V&&e instanceof Map}function v(e){return K&&e instanceof Set}function m(e){return e.o||e.t}function b(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=X(e);delete t[Q];for(var n=Z(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function w(e,t){return void 0===t&&(t=!1),_(e)||u(e)||!c(e)||(f(e)>1&&(e.set=e.add=e.clear=e.delete=S),Object.freeze(e),t&&l(e,(function(e,t){return w(t,!0)}),!0)),e}function S(){a(2)}function _(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function E(e){var t=ee[e];return t||a(18,e),t}function A(e,t){ee[e]||(ee[e]=t)}function I(){return z}function O(e,t){t&&(E("Patches"),e.u=[],e.s=[],e.v=t)}function T(e){C(e),e.p.forEach(P),e.p=null}function C(e){e===z&&(z=e.l)}function x(e){return z={p:[],l:z,h:e,m:!0,_:0}}function P(e){var t=e[Q];0===t.i||1===t.i?t.j():t.g=!0}function k(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||E("ES5").S(t,e,r),r?(n[Q].P&&(T(t),a(4)),c(e)&&(e=N(t,e),t.l||R(t,e)),t.u&&E("Patches").M(n[Q],e,t.u,t.s)):e=N(t,n,[]),T(t),t.u&&t.v(t.u,t.s),e!==Y?e:void 0}function N(e,t,n){if(_(t))return t;var r=t[Q];if(!r)return l(t,(function(o,i){return M(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return R(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=b(r.k):r.o;l(3===r.i?new Set(o):o,(function(t,i){return M(e,r,o,t,i,n)})),R(e,o,!1),n&&e.u&&E("Patches").R(r,n,e.u,e.s)}return r.o}function M(e,t,n,r,o,i){if(u(o)){var s=N(e,o,i&&t&&3!==t.i&&!h(t.D,r)?i.concat(r):void 0);if(p(n,r,s),!u(s))return;e.m=!1}if(c(o)&&!_(o)){if(!e.h.N&&e._<1)return;N(e,o),t&&t.A.l||R(e,o)}}function R(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&w(t,n)}function U(e,t){var n=e[Q];return(n?m(n):e)[t]}function D(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function L(e){e.P||(e.P=!0,e.l&&L(e.l))}function $(e){e.o||(e.o=b(e.t))}function j(e,t,n){var r=g(t)?E("MapSet").T(t,n):v(t)?E("MapSet").F(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:I(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=te;n&&(o=[r],i=ne);var s=Proxy.revocable(o,i),a=s.revoke,u=s.proxy;return r.k=u,r.j=a,u}(t,n):E("ES5").J(t,n);return(n?n.A:I()).p.push(r),r}function F(e){return u(e)||a(22,e),function e(t){if(!c(t))return t;var n,r=t[Q],o=f(t);if(r){if(!r.P&&(r.i<4||!E("ES5").K(r)))return r.t;r.I=!0,n=B(t,o),r.I=!1}else n=B(t,o);return l(n,(function(t,o){r&&d(r.t,t)===o||p(n,t,e(o))})),3===o?new Set(n):n}(e)}function B(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return b(e)}function q(){function e(t){if(!c(t))return t;if(Array.isArray(t))return t.map(e);if(g(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(v(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return n}function t(t){return u(t)?e(t):t}var n="add";A("Patches",{$:function(t,r){return r.forEach((function(r){for(var o=r.path,i=r.op,s=t,u=0;u<o.length-1;u++){var c=f(s),l=o[u];0!==c&&1!==c||"__proto__"!==l&&"constructor"!==l||a(24),"function"==typeof s&&"prototype"===l&&a(24),"object"!=typeof(s=d(s,l))&&a(15,o.join("/"))}var h=f(s),p=e(r.value),y=o[o.length-1];switch(i){case"replace":switch(h){case 2:return s.set(y,p);case 3:a(16);default:return s[y]=p}case n:switch(h){case 1:return s.splice(y,0,p);case 2:return s.set(y,p);case 3:return s.add(p);default:return s[y]=p}case"remove":switch(h){case 1:return s.splice(y,1);case 2:return s.delete(y);case 3:return s.delete(r.value);default:return delete s[y]}default:a(17,i)}})),t},R:function(e,r,o,i){switch(e.i){case 0:case 4:case 2:return function(e,r,o,i){var s=e.t,a=e.o;l(e.D,(function(e,u){var c=d(s,e),l=d(a,e),f=u?h(s,e)?"replace":n:"remove";if(c!==l||"replace"!==f){var p=r.concat(e);o.push("remove"===f?{op:f,path:p}:{op:f,path:p,value:l}),i.push(f===n?{op:"remove",path:p}:"remove"===f?{op:n,path:p,value:t(c)}:{op:"replace",path:p,value:t(c)})}}))}(e,r,o,i);case 5:case 1:return function(e,r,o,i){var s=e.t,a=e.D,u=e.o;if(u.length<s.length){var c=[u,s];s=c[0],u=c[1];var l=[i,o];o=l[0],i=l[1]}for(var f=0;f<s.length;f++)if(a[f]&&u[f]!==s[f]){var h=r.concat([f]);o.push({op:"replace",path:h,value:t(u[f])}),i.push({op:"replace",path:h,value:t(s[f])})}for(var d=s.length;d<u.length;d++){var p=r.concat([d]);o.push({op:n,path:p,value:t(u[d])})}s.length<u.length&&i.push({op:"replace",path:r.concat(["length"]),value:s.length})}(e,r,o,i);case 3:return function(e,t,r,o){var i=e.t,s=e.o,a=0;i.forEach((function(e){if(!s.has(e)){var i=t.concat([a]);r.push({op:"remove",path:i,value:e}),o.unshift({op:n,path:i,value:e})}a++})),a=0,s.forEach((function(e){if(!i.has(e)){var s=t.concat([a]);r.push({op:n,path:s,value:e}),o.unshift({op:"remove",path:s,value:e})}a++}))}(e,r,o,i)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t}),r.push({op:"replace",path:[],value:e.t})}})}var G,z,H="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,K="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Y=H?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),J=H?Symbol.for("immer-draftable"):"__$immer_draftable",Q=H?Symbol.for("immer-state"):"__$immer_state",Z=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames),X=Object.getOwnPropertyDescriptors||function(e){var t={};return Z(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ee={},te={get:function(e,t){if(t===Q)return e;var n=m(e);if(!h(n,t))return function(e,t,n){var r,o=D(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!c(r)?r:r===U(e.t,t)?($(e),e.o[t]=j(e.A.h,r,e)):r},has:function(e,t){return t in m(e)},ownKeys:function(e){return Reflect.ownKeys(m(e))},set:function(e,t,n){var r=D(m(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=U(m(e),t),i=null==o?void 0:o[Q];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(y(n,o)&&(void 0!==n||h(e.t,t)))return!0;$(e),L(e)}return e.o[t]=n,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==U(e.t,t)||t in e.t?(e.D[t]=!1,$(e),L(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=m(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){a(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){a(12)}},ne={};l(te,(function(e,t){ne[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ne.deleteProperty=function(e,t){return te.deleteProperty.call(this,e[0],t)},ne.set=function(e,t,n){return te.set.call(this,e[0],t,n,e[0])};var re=new(function(){function e(e){this.O=W,this.N=!0,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var r=t;t=e;var o=this;return function(e){var n=this;void 0===e&&(e=r);for(var i=arguments.length,s=Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(s))}))}}var i;if("function"!=typeof t&&a(6),void 0!==n&&"function"!=typeof n&&a(7),c(e)){var s=x(this),u=j(this,e,void 0),l=!0;try{i=t(u),l=!1}finally{l?T(s):C(s)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return O(s,n),k(e,s)}),(function(e){throw T(s),e})):(O(s,n),k(i,s))}if(!e||"object"!=typeof e){if((i=t(e))===Y)return;return void 0===i&&(i=e),this.N&&w(i,!0),i}a(21,e)},t.produceWithPatches=function(e,t){var n,r,o=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){c(e)||a(8),u(e)&&(e=F(e));var t=x(this),n=j(this,e,void 0);return n[Q].C=!0,C(t),n},t.finishDraft=function(e,t){var n=(e&&e[Q]).A;return O(n,t),k(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!W&&a(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=E("Patches").$;return u(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),oe=re.produce,ie=(re.produceWithPatches.bind(re),re.setAutoFreeze.bind(re));re.setUseProxies.bind(re),re.applyPatches.bind(re),re.createDraft.bind(re),re.finishDraft.bind(re);var se=n(1437),ae=n(9184);const ue=n.n(ae)();var ce=n(1155),le=n(2623);const fe=function(){function e(){this._queue=[],this._pending=!1}return e.prototype.isLocked=function(){return this._pending},e.prototype.acquire=function(){var e=this,t=new Promise((function(t){return e._queue.push(t)}));return this._pending||this._dispatchNext(),t},e.prototype.runExclusive=function(e){return this.acquire().then((function(t){var n;try{n=e()}catch(e){throw t(),e}return Promise.resolve(n).then((function(e){return t(),e}),(function(e){throw t(),e}))}))},e.prototype._dispatchNext=function(){this._queue.length>0?(this._pending=!0,this._queue.shift()(this._dispatchNext.bind(this))):this._pending=!1},e}();var he=n(9510),de=n.n(he),pe=n(9150),ye=n(166);const ge=function(){return(0,o.lC)().isBrowser&&window.indexedDB||(0,o.n2)()&&self.indexedDB?n(9717).Z:new(0,n(6436).l)};var ve,me=function(){return(me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},be=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},we=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Se=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},_e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Ee=new r.k("DataStore"),Ae=function(){function e(e,t,n,r,o,i){this.schema=e,this.namespaceResolver=t,this.getModelConstructorByModelName=n,this.modelInstanceCreator=r,this.adapter=o,this.sessionId=i,this.adapter=ge(),this.pushStream=new(de())}return e.getNamespace=function(){return{name:ye.P_,relationships:{},enums:{},models:{},nonModels:{}}},e.prototype.init=function(){return be(this,void 0,void 0,(function(){var e,t;return we(this,(function(n){switch(n.label){case 0:return void 0===this.initialized?[3,2]:[4,this.initialized];case 1:return n.sent(),[2];case 2:return Ee.debug("Starting Storage"),this.initialized=new Promise((function(n,r){e=n,t=r})),this.adapter.setUp(this.schema,this.namespaceResolver,this.modelInstanceCreator,this.getModelConstructorByModelName,this.sessionId).then(e,t),[4,this.initialized];case 3:return n.sent(),[2]}}))}))},e.prototype.save=function(e,t,n,r){return be(this,void 0,void 0,(function(){var o,i=this;return we(this,(function(s){switch(s.label){case 0:return[4,this.init()];case 1:return s.sent(),[4,this.adapter.save(e,t)];case 2:return(o=s.sent()).forEach((function(s){var a,u=_e(s,2),c=u[0],l=u[1],f=!!n;if(l===pe.HP.UPDATE&&!f&&null===(a=i.getUpdateMutationInput(e,c,r)))return o;var h=a||c,d=Object.getPrototypeOf(c).constructor;i.pushStream.next({model:d,opType:l,element:h,mutator:n,condition:ce.OY.getPredicates(t,!1)})})),[2,o]}}))}))},e.prototype.delete=function(e,t,n){return be(this,void 0,void 0,(function(){var r,o,i,s,a=this;return we(this,(function(u){switch(u.label){case 0:return[4,this.init()];case 1:return u.sent(),[4,this.adapter.delete(e,t)];case 2:return s=_e.apply(void 0,[u.sent(),2]),o=s[0],r=s[1],i=new Set(o.map((function(e){return e.id}))),(0,ye.hK)(e)||Array.isArray(r)||(r=[r]),r.forEach((function(r){var o,s=Object.getPrototypeOf(r).constructor;(0,ye.hK)(e)||(o=i.has(r.id)?ce.OY.getPredicates(t,!1):void 0),a.pushStream.next({model:s,opType:pe.HP.DELETE,element:r,mutator:n,condition:o})})),[2,[o,r]]}}))}))},e.prototype.query=function(e,t,n){return be(this,void 0,void 0,(function(){return we(this,(function(r){switch(r.label){case 0:return[4,this.init()];case 1:return r.sent(),[4,this.adapter.query(e,t,n)];case 2:return[2,r.sent()]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=pe.fI.FIRST),be(this,void 0,void 0,(function(){return we(this,(function(n){switch(n.label){case 0:return[4,this.init()];case 1:return n.sent(),[4,this.adapter.queryOne(e,t)];case 2:return[2,n.sent()]}}))}))},e.prototype.observe=function(e,t,n){var r=!e,o=ce.OY.getPredicates(t,!1)||{},i=o.predicates,s=o.type,a=!!i,u=this.pushStream.observable.filter((function(e){var t=e.mutator;return!n||t!==n})).map((function(e){e.mutator;return Se(e,["mutator"])}));return r||(u=u.filter((function(t){var n=t.model,r=t.element;return e===n&&(!a||(0,ye.u8)(r,s,i))}))),u},e.prototype.clear=function(e){return void 0===e&&(e=!0),be(this,void 0,void 0,(function(){return we(this,(function(t){switch(t.label){case 0:return this.initialized=void 0,[4,this.adapter.clear()];case 1:return t.sent(),e&&this.pushStream.complete(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return be(this,void 0,void 0,(function(){var r,o=this;return we(this,(function(i){switch(i.label){case 0:return[4,this.init()];case 1:return i.sent(),[4,this.adapter.batchSave(e,t)];case 2:return(r=i.sent()).forEach((function(t){var r=_e(t,2),i=r[0],s=r[1];o.pushStream.next({model:e,opType:s,element:i,mutator:n,condition:void 0})})),[2,r]}}))}))},e.prototype.getUpdateMutationInput=function(e,t,n){if(!(n&&n.length))return null;var r=_e(n,2),o=r[0],i=r[1],s={},a=o.map((function(e){return e.path&&e.path[0]})),u=Object.getPrototypeOf(e).constructor,c=this.namespaceResolver(u),l=this.schema.namespaces[c].models[u.name].fields;if(a.forEach((function(e){var n=(0,pe.Fr)(l[e].association)||e;(0,ye.Vg)(i[n],t[n])||(s[n]=t[n])})),0===Object.keys(s).length)return null;var f=t.id,h=t._version,d=t._lastChangedAt,p=t._deleted;return me(me({},s),{id:f,_version:h,_lastChangedAt:d,_deleted:p})},e}(),Ie=function(){function e(e,t,n,r,o,i){this.mutex=new fe,this.storage=new Ae(e,t,n,r,o,i)}return e.prototype.runExclusive=function(e){return this.mutex.runExclusive(e.bind(this,this.storage))},e.prototype.save=function(e,t,n,r){return be(this,void 0,void 0,(function(){return we(this,(function(o){return[2,this.runExclusive((function(o){return o.save(e,t,n,r)}))]}))}))},e.prototype.delete=function(e,t,n){return be(this,void 0,void 0,(function(){return we(this,(function(r){return[2,this.runExclusive((function(r){if((0,ye.hK)(e)){var o=e;return r.delete(o,t,n)}var i=e;return r.delete(i,t,n)}))]}))}))},e.prototype.query=function(e,t,n){return be(this,void 0,void 0,(function(){return we(this,(function(r){return[2,this.runExclusive((function(r){return r.query(e,t,n)}))]}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=pe.fI.FIRST),be(this,void 0,void 0,(function(){return we(this,(function(n){return[2,this.runExclusive((function(n){return n.queryOne(e,t)}))]}))}))},e.getNamespace=function(){return Ae.getNamespace()},e.prototype.observe=function(e,t,n){return this.storage.observe(e,t,n)},e.prototype.clear=function(){return be(this,void 0,void 0,(function(){return we(this,(function(e){switch(e.label){case 0:return[4,this.storage.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return this.storage.batchSave(e,t)},e.prototype.init=function(){return be(this,void 0,void 0,(function(){return we(this,(function(e){return[2,this.storage.init()]}))}))},e}(),Oe="undefined"!=typeof Symbol&&"function"==typeof Symbol.for,Te=Oe?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",Ce=Oe?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",xe=n(6012),Pe=n(1719),ke=function(){return(ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ne=new r.k("AbstractPubSubProvider"),Me=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=ke(ke({},e),this._config),Ne.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return ke({},this._config)},enumerable:!0,configurable:!0}),e}(),Re=(ve=function(e,t){return(ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ve(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ue=function(){return(Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},De=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Le=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},je=new r.k("MqttOverWSProvider");var Fe=function(){function e(){this.promises=new Map}return e.prototype.get=function(e,t){return De(this,void 0,void 0,(function(){var n;return Le(this,(function(r){return(n=this.promises.get(e))||(n=t(e),this.promises.set(e,n)),[2,n]}))}))},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(e){this.promises.delete(e)},e}(),Be="undefined"!=typeof Symbol?Symbol("topic"):"@@topic",qe=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,Ue(Ue({},t),{clientId:t.clientId||(0,Pe.v4)()}))||this;return n._clientsQueue=new Fe,n._topicObservers=new Map,n._clientIdObservers=new Map,n}return Re(t,e),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(e){return"object"==typeof e&&e[Be]},t.prototype.getProviderName=function(){return"MqttOverWSProvider"},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,o=$e(e,["clientId","errorCode"]);if(0!==r){je.warn(n,JSON.stringify(Ue({errorCode:r},o),null,2));var i=[],s=this._clientIdObservers.get(n);if(!s)return;s.forEach((function(e){e.error("Disconnected, error code: "+r),t._topicObservers.forEach((function(t,n){t.delete(e),0===t.size&&i.push(n)}))})),this._clientIdObservers.delete(n),i.forEach((function(e){t._topicObservers.delete(e)}))}},t.prototype.newClient=function(e){var t=e.url,n=e.clientId;return De(this,void 0,void 0,(function(){var e,r=this;return Le(this,(function(o){switch(o.label){case 0:return je.debug("Creating new MQTT client",n),(e=new xe.Client(t,n)).onMessageArrived=function(e){var t=e.destinationName,n=e.payloadString;r._onMessage(t,n)},e.onConnectionLost=function(e){var t=e.errorCode,o=$e(e,["errorCode"]);r.onDisconnect(Ue({clientId:n,errorCode:t},o))},[4,new Promise((function(t,n){e.connect({useSSL:r.isSSLEnabled,mqttVersion:3,onSuccess:function(){return t(e)},onFailure:n})}))];case 1:return o.sent(),[2,e]}}))}))},t.prototype.connect=function(e,t){return void 0===t&&(t={}),De(this,void 0,void 0,(function(){var n=this;return Le(this,(function(r){switch(r.label){case 0:return[4,this.clientsQueue.get(e,(function(e){return n.newClient(Ue(Ue({},t),{clientId:e}))}))];case 1:return[2,r.sent()]}}))}))},t.prototype.disconnect=function(e){return De(this,void 0,void 0,(function(){var t;return Le(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(e,(function(){return null}))];case 1:return(t=n.sent())&&t.isConnected()&&t.disconnect(),this.clientsQueue.remove(e),[2]}}))}))},t.prototype.publish=function(e,t){return De(this,void 0,void 0,(function(){var n,r,o,i;return Le(this,(function(s){switch(s.label){case 0:return n=[].concat(e),r=JSON.stringify(t),[4,this.endpoint];case 1:return o=s.sent(),[4,this.connect(this.clientId,{url:o})];case 2:return i=s.sent(),je.debug("Publishing to topic(s)",n.join(","),r),n.forEach((function(e){return i.send(e,r)})),[2]}}))}))},t.prototype._onMessage=function(e,t){try{var n=[];this._topicObservers.forEach((function(t,r){(function(e,t){for(var n=e.split("/"),r=n.length,o=t.split("/"),i=0;i<r;++i){var s=n[i],a=o[i];if("#"===s)return o.length>=r;if("+"!==s&&s!==a)return!1}return r===o.length})(r,e)&&n.push(t)}));var r=JSON.parse(t);"object"==typeof r&&(r[Be]=e),n.forEach((function(e){e.forEach((function(e){return e.next(r)}))}))}catch(e){je.warn("Error handling message",e,t)}},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=[].concat(e);return je.debug("Subscribing to topic(s)",r.join(",")),new ue((function(e){var o;r.forEach((function(t){var r=n._topicObservers.get(t);r||(r=new Set,n._topicObservers.set(t,r)),r.add(e)}));var i=t.clientId,s=void 0===i?n.clientId:i,a=n._clientIdObservers.get(s);return a||(a=new Set),a.add(e),n._clientIdObservers.set(s,a),De(n,void 0,void 0,(function(){var n,i,a,u;return Le(this,(function(c){switch(c.label){case 0:return void 0!==(n=t.url)?[3,2]:[4,this.endpoint];case 1:return a=c.sent(),[3,3];case 2:a=n,c.label=3;case 3:i=a,c.label=4;case 4:return c.trys.push([4,6,,7]),[4,this.connect(s,{url:i})];case 5:return o=c.sent(),r.forEach((function(e){o.subscribe(e)})),[3,7];case 6:return u=c.sent(),e.error(u),[3,7];case 7:return[2]}}))})),function(){return je.debug("Unsubscribing from topic(s)",r.join(",")),o&&(n._clientIdObservers.get(s).delete(e),0===n._clientIdObservers.get(s).size&&(n.disconnect(s),n._clientIdObservers.delete(s)),r.forEach((function(t){var r=n._topicObservers.get(t)||new Set;r.delete(e),0===r.size&&(n._topicObservers.delete(t),o.isConnected()&&o.unsubscribe(t))}))),null}}))},t}(Me),Ge=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ze=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},He=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ke=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},We=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ke(arguments[t]));return e},Ye=new r.k("AWSAppSyncProvider"),Je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._topicClient=new Map,t._topicAlias=new Map,t}return Ge(t,e),Object.defineProperty(t.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSAppSyncProvider"},t.prototype.publish=function(e,t,n){return ze(this,void 0,void 0,(function(){return He(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype._cleanUp=function(e){var t=this;Array.from(this._topicClient.entries()).filter((function(t){return Ke(t,2)[1].clientId===e})).map((function(e){return Ke(e,1)[0]})).forEach((function(e){return t._cleanUpForTopic(e)}))},t.prototype._cleanUpForTopic=function(e){this._topicClient.delete(e),this._topicAlias.delete(e)},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,o=Ve(e,["clientId","errorCode"]);0!==r&&(Array.from(this._topicClient.entries()).filter((function(e){return Ke(e,2)[1].clientId===n})).map((function(e){return Ke(e,1)[0]})).forEach((function(e){t._topicObservers.has(e)&&(t._topicObservers.get(e).forEach((function(e){e.closed||e.error(o)})),t._topicObservers.delete(e))})),this._cleanUp(n))},t.prototype.disconnect=function(t){return ze(this,void 0,void 0,(function(){return He(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(t,(function(){return null}))];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,t)];case 2:return n.sent(),this._cleanUp(t),[2]}}))}))},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=new ue((function(r){var o=[].concat(e);return Ye.debug("Subscribing to topic(s)",o.join(",")),ze(n,void 0,void 0,(function(){var e,n,i,s,a,u=this;return He(this,(function(c){switch(c.label){case 0:return o.forEach((function(e){u._topicObservers.has(e)||u._topicObservers.set(e,new Set),u._topicObservers.get(e).add(r)})),e=t.mqttConnections,n=void 0===e?[]:e,i=t.newSubscriptions,s=Object.entries(i).map((function(e){var t=Ke(e,2),n=t[0];return[t[1].topic,n]})),this._topicAlias=new Map(We(Array.from(this._topicAlias.entries()),s)),a=Object.entries(o.reduce((function(e,t){var r=n.find((function(e){return e.topics.indexOf(t)>-1}));if(r){var o=r.client,i=r.url;e[o]||(e[o]={url:i,topics:new Set}),e[o].topics.add(t)}return e}),{})),[4,Promise.all(a.map((function(e){var t=Ke(e,2),n=t[0],o=t[1],i=o.url,s=o.topics;return ze(u,void 0,void 0,(function(){var e,t,o=this;return He(this,(function(a){switch(a.label){case 0:e=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.connect(n,{clientId:n,url:i})];case 2:return e=a.sent(),[3,4];case 3:return t=a.sent(),r.error({message:"Failed to connect",error:t}),r.complete(),[2,void 0];case 4:return s.forEach((function(t){e.isConnected()&&(e.subscribe(t),o._topicClient.set(t,e))})),[2,e]}}))}))})))];case 1:return c.sent(),[2]}}))})),function(){Ye.debug("Unsubscribing from topic(s)",o.join(",")),o.forEach((function(e){var t=n._topicClient.get(e);t&&t.isConnected()&&(t.unsubscribe(e),n._topicClient.delete(e),Array.from(n._topicClient.values()).some((function(e){return e===t}))||n.disconnect(t.clientId)),n._topicObservers.delete(e)}))}}));return ue.from(r).map((function(e){var t=n.getTopicForValue(e),r=n._topicAlias.get(t);return e.data=Object.entries(e.data).reduce((function(e,t){var n=Ke(t,2),o=n[0],i=n[1];return e[r||o]=i,e}),{}),e}))},t}(qe);function Qe(e,t){for(var n,r=/\r\n|[\n\r]/g,o=1,i=t+1;(n=r.exec(e.body))&&n.index<t;)o+=1,i=t+1-(n.index+n[0].length);return{line:o,column:i}}function Ze(e,t){var n=e.locationOffset.column-1,r=Xe(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,s=t.line+i,a=1===t.line?n:0,u=t.column+a,c=r.split(/\r\n|[\n\r]/g);return"".concat(e.name," (").concat(s,":").concat(u,")\n")+function(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=0,r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value[0];n=Math.max(n,u.length)}}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return t.map((function(e){var t,r=e[0],o=e[1];return Xe(n-(t=r).length)+t+o})).join("\n")}([["".concat(s-1,": "),c[o-1]],["".concat(s,": "),c[o]],["",Xe(u-1)+"^"],["".concat(s+1,": "),c[o+1]]])}function Xe(e){return Array(e+1).join(" ")}function et(e,t,n,r,o,i,s){var a=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,u=n;if(!u&&a){var c=a[0];u=c&&c.loc&&c.loc.source}var l,f=r;!f&&a&&(f=a.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),f&&0===f.length&&(f=void 0),r&&n?l=r.map((function(e){return Qe(n,e)})):a&&(l=a.reduce((function(e,t){return t.loc&&e.push(Qe(t.loc.source,t.loc.start)),e}),[]));var h=s||i&&i.extensions;Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:l||void 0,enumerable:Boolean(l)},path:{value:o||void 0,enumerable:Boolean(o)},nodes:{value:a||void 0},source:{value:u||void 0},positions:{value:f||void 0},originalError:{value:i},extensions:{value:h||void 0,enumerable:Boolean(h)}}),i&&i.stack?Object.defineProperty(this,"stack",{value:i.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,et):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}et.prototype=Object.create(Error.prototype,{constructor:{value:et},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=[];if(e.nodes){var n=!0,r=!1,o=void 0;try{for(var i,s=e.nodes[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;a.loc&&t.push(Ze(a.loc.source,Qe(a.loc.source,a.loc.start)))}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}else if(e.source&&e.locations){var u=e.source,c=!0,l=!1,f=void 0;try{for(var h,d=e.locations[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;t.push(Ze(u,p))}}catch(e){l=!0,f=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw f}}}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"}(this)}}});var tt=n(4760),nt=n(816),rt=n(7605),ot=new r.k("I18n"),it=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),ot.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),st=new r.k("I18n"),at=null,ut=null,ct=function(){function e(){}return e.configure=function(t){return st.debug("configure I18n"),t?(at=Object.assign({},at,t.I18n||t),e.createInstance(),at):at},e.getModuleName=function(){return"I18n"},e.createInstance=function(){st.debug("create I18n instance"),ut||(ut=new it(at))},e.setLanguage=function(t){return e.checkConfig(),ut.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?ut.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),ut.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),ut.putVocabularies(t)},e.checkConfig=function(){return ut||(ut=new it(at)),!0},e}();s.dQ.register(ct);var lt=n(4607),ft={userAgent:rt.t4.userAgent};var ht=n(7036),dt=n(9164),pt=n(4666),yt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},gt={clockOffset:0,getDateWithClockOffset:function(){return gt.clockOffset?new Date((new Date).getTime()+gt.clockOffset):new Date},getClockOffset:function(){return gt.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=gt.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=yt(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],r=t[2],o=t[3],i=t[4],s=t[5],a=t[6];return new Date(Date.UTC(Number(n),Number(r)-1,Number(o),Number(i),Number(s),Number(a)))},isClockSkewed:function(e){return Math.abs(e.getTime()-gt.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean("BadRequestException"===t["x-amzn-errortype"]&&(t.date||t.Date))},setClockOffset:function(e){gt.clockOffset=e}},vt=function(){return(vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},mt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},bt=new r.k("Signer"),wt="AWS4-HMAC-SHA256",St=function(e,t){var n=new dt.Sha256(e);return n.update(t),n.digestSync()},_t=function(e){var t=e||"",n=new dt.Sha256;return n.update(t),(0,pt.N)(n.digestSync())},Et=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},At=function(e){var t,n,r=(0,tt.Qc)(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),Et(e.headers),_t(e.data)].join("\n")},It=function(e){var t=((0,tt.Qc)(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},Ot=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},Tt=function(e,t,n,r){return[e,n,r,_t(t)].join("\n")},Ct=function(e,t,n){bt.debug(n);var r=St("AWS4"+e,t),o=St(r,n.region),i=St(o,n.service);return St(i,"aws4_request")},xt=function(e,t){return(0,pt.N)(St(e,t))},Pt=function(){function e(){}return e.sign=function(e,t,n){void 0===n&&(n=null),e.headers=e.headers||{};var r=gt.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),o=r.substr(0,8),i=(0,tt.Qc)(e.url);e.headers.host=i.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var s=At(e);bt.debug(s);var a=n||It(e),u=Ot(o,a.region,a.service),c=Tt(wt,s,r,u),l=Ct(t.secret_key,o,a),f=xt(l,c),h=function(e,t,n,r,o){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+o].join(", ")}(wt,t.access_key,u,Et(e.headers),f);return e.headers.Authorization=h,e},e.signUrl=function(e,t,n,r){var o="object"==typeof e?e.url:e,i="object"==typeof e?e.method:"GET",s="object"==typeof e?e.body:void 0,a=gt.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),u=a.substr(0,8),c=(0,tt.Qc)(o,!0,!0),l=(c.search,mt(c,["search"])),f={host:l.host},h=n||It({url:(0,tt.WU)(l)}),d=h.region,p=h.service,y=Ot(u,d,p),g=t.session_token&&"iotdevicegateway"!==p,v=vt(vt(vt({"X-Amz-Algorithm":wt,"X-Amz-Credential":[t.access_key,y].join("/"),"X-Amz-Date":a.substr(0,16)},g?{"X-Amz-Security-Token":""+t.session_token}:{}),r?{"X-Amz-Expires":""+r}:{}),{"X-Amz-SignedHeaders":Object.keys(f).join(",")}),m=At({method:i,url:(0,tt.WU)(vt(vt({},l),{query:vt(vt({},l.query),v)})),headers:f,data:s}),b=Tt(wt,m,a,y),w=Ct(t.secret_key,u,{region:d,service:p}),S=xt(w,b),_=vt({"X-Amz-Signature":S},t.session_token&&{"X-Amz-Security-Token":t.session_token});return(0,tt.WU)({protocol:l.protocol,slashes:!0,hostname:l.hostname,port:l.port,pathname:l.pathname,query:vt(vt(vt({},l.query),v),_)})},e}();var kt={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new(n(9639).c4)).getStorage()};function Nt(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function Mt(){return(new Date).getTime()}function Rt(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var Ut={},Dt=(function(){function e(){}e.clear=function(){Ut={}},e.getItem=function(e){return Ut[e]||null},e.setItem=function(e,t){Ut[e]=t},e.removeItem=function(e){delete Ut[e]}}(),new r.k("StorageCache")),Lt=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){Rt(this.config.capacityInBytes)||(Dt.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=kt.capacityInBytes),Rt(this.config.itemMaxSize)||(Dt.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=kt.itemMaxSize),Rt(this.config.defaultTTL)||(Dt.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=kt.defaultTTL),Rt(this.config.defaultPriority)||(Dt.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=kt.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(Dt.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=kt.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(Dt.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=kt.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(Dt.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=kt.warningThreshold);this.config.capacityInBytes>5242880&&(Dt.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=kt.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:Mt(),visitedTime:Mt(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=Nt(JSON.stringify(r)),r.byteSize=Nt(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&Dt.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}();var $t=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jt=new r.k("Cache"),Ft=new(function(e){function t(t){var n=this,r=t?Object.assign({},kt,t):kt;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return $t(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=Mt(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return Mt()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),jt.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,o=0;o<e.length;o+=1){var i=this.config.storage.getItem(e[o]);if(null!=i){var s=JSON.parse(i);n.push(s)}}n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}));for(o=0;o<n.length;o+=1)if(this._removeItem(n[o].key,n[o].byteSize),(r-=n[o].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){jt.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var o={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+Mt()};if(o.priority<1||o.priority>5)jt.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var i=this.fillCacheItem(r,t,o);if(i.byteSize>this.config.itemMaxSize)jt.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var s=this.config.storage.getItem(r);if(s&&this._removeItem(r,JSON.parse(s).byteSize),this._isCacheFull(i.byteSize)){var a=this._findValidKeys();if(this._isCacheFull(i.byteSize)){var u=this._sizeToPop(i.byteSize);this._popOutItems(a,u)}}this._setItem(r,i)}catch(e){jt.warn("setItem failed! "+e)}}}else jt.warn("The value of item should not be undefined!");else jt.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){jt.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return jt.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var o=JSON.parse(n);return(o=this._refreshItem(o,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var i=t.callback();return null!==i&&this.setItem(e,i,t),i}return null}catch(e){return jt.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){jt.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){jt.warn("removeItem failed! "+e)}},t.prototype.clear=function(){jt.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){jt.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==kt.keyPrefix||(jt.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=Mt.toString()),new t(e)},t}(Lt));const Bt=Ft;s.dQ.register(Ft);var qt=n(7049);n(1519);const Gt=qt.g;var zt,Ht,Vt,Kt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wt=function(){return(Wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Yt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Jt=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Qt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Zt=new r.k("AWSAppSyncRealTimeProvider"),Xt="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",en=[400,401,403];!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}(zt||(zt={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(Ht||(Ht={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(Vt||(Vt={}));var tn,nn={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},rn=3e5,on=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.socketStatus=Vt.CLOSED,t.keepAliveTimeout=rn,t.subscriptionObserverMap=new Map,t.promiseArray=[],t}return Kt(t,e),t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return Yt(this,void 0,void 0,(function(){return Jt(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.subscribe=function(e,t){var n=this,r=t.appSyncGraphqlEndpoint;return new ue((function(e){if(r){var o=(0,Pe.v4)();return n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:o}),function(){return Yt(n,void 0,void 0,(function(){var e,t;return Jt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(o)];case 1:if(n.sent(),!(e=(this.subscriptionObserverMap.get(o)||{}).subscriptionState))return[2];if(e!==Ht.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(o),[3,4];case 2:return t=n.sent(),Zt.debug("Error while unsubscribing "+t),[3,4];case 3:return this._removeSubscriptionObserver(o),[7];case 4:return[2]}}))}))}}e.error({errors:[Wt({},new et("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t=e.options,n=e.observer,r=e.subscriptionId;return Yt(this,void 0,void 0,(function(){var e,o,i,s,a,u,c,l,f,h,d,p,y,g,v,m,b,w,S,_,E,A,I,O,T,C,x=this;return Jt(this,(function(P){switch(P.label){case 0:return e=t.appSyncGraphqlEndpoint,o=t.authenticationType,i=t.query,s=t.variables,a=t.apiKey,u=t.region,c=t.graphql_headers,l=void 0===c?function(){return{}}:c,f=t.additionalHeaders,h=void 0===f?{}:f,d=Ht.PENDING,p={query:i,variables:s},this.subscriptionObserverMap.set(r,{observer:n,query:i,variables:s,subscriptionState:d,startAckTimeoutId:null}),y=JSON.stringify(p),v=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:a,appSyncGraphqlEndpoint:e,authenticationType:o,payload:y,canonicalUri:"",region:u})];case 1:return m=[Wt.apply(void 0,v.concat([P.sent()]))],[4,l()];case 2:g=Wt.apply(void 0,[Wt.apply(void 0,[Wt.apply(void 0,m.concat([P.sent()])),h]),(C={},C["x-amz-user-agent"]=ft.userAgent,C)]),b={id:r,payload:{data:y,extensions:{authorization:Wt({},g)}},type:zt.GQL_START},w=JSON.stringify(b),P.label=3;case 3:return P.trys.push([3,5,,6]),[4,this._initializeWebSocketConnection({apiKey:a,appSyncGraphqlEndpoint:e,authenticationType:o,region:u})];case 4:return P.sent(),[3,6];case 5:return S=P.sent(),Zt.debug({err:S}),_=S.message,E=void 0===_?"":_,n.error({errors:[Wt({},new et("Connection failed: "+E))]}),n.complete(),"function"==typeof(A=(this.subscriptionObserverMap.get(r)||{}).subscriptionFailedCallback)&&A(),[2];case 6:return I=this.subscriptionObserverMap.get(r),O=I.subscriptionFailedCallback,T=I.subscriptionReadyCallback,this.subscriptionObserverMap.set(r,{observer:n,subscriptionState:d,variables:s,query:i,subscriptionReadyCallback:T,subscriptionFailedCallback:O,startAckTimeoutId:setTimeout((function(){x._timeoutStartSubscriptionAck.call(x,r)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(w),[2]}}))}))},t.prototype._waitForSubscriptionToBeConnected=function(e){return Yt(this,void 0,void 0,(function(){var t=this;return Jt(this,(function(n){return this.subscriptionObserverMap.get(e).subscriptionState===Ht.PENDING?[2,new Promise((function(n,r){var o=t.subscriptionObserverMap.get(e),i=o.observer,s=o.subscriptionState,a=o.variables,u=o.query;t.subscriptionObserverMap.set(e,{observer:i,subscriptionState:s,variables:a,query:u,subscriptionReadyCallback:n,subscriptionFailedCallback:r})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===Vt.READY){var t={id:e,type:zt.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){Zt.debug({err:e})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{Zt.debug("closing WebSocket..."),clearTimeout(this.keepAliveTimeoutId);var e=this.awsRealTimeSocket;e.onclose=void 0,e.onerror=void 0,e.close(1e3),this.awsRealTimeSocket=null,this.socketStatus=Vt.CLOSED}else this.socketStatus=Vt.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){Zt.debug("subscription message from AWS AppSync RealTime: "+e.data);var t=JSON.parse(e.data),n=t.id,r=void 0===n?"":n,o=t.payload,s=t.type,a=this.subscriptionObserverMap.get(r)||{},u=a.observer,c=void 0===u?null:u,l=a.query,f=void 0===l?"":l,h=a.variables,d=void 0===h?{}:h,p=a.startAckTimeoutId,y=a.subscriptionReadyCallback,g=a.subscriptionFailedCallback;if(Zt.debug({id:r,observer:c,query:f,variables:d}),s===zt.GQL_DATA&&o&&o.data)c?c.next(o):Zt.debug("observer not found for id: "+r);else if(s!==zt.GQL_START_ACK){if(s===zt.GQL_CONNECTION_KEEP_ALIVE)return clearTimeout(this.keepAliveTimeoutId),void(this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,tn.TIMEOUT_DISCONNECT),this.keepAliveTimeout));if(s===zt.GQL_ERROR){v=Ht.FAILED;this.subscriptionObserverMap.set(r,{observer:c,query:f,variables:d,startAckTimeoutId:p,subscriptionReadyCallback:y,subscriptionFailedCallback:g,subscriptionState:v}),c.error({errors:[Wt({},new et("Connection failed: "+JSON.stringify(o)))]}),clearTimeout(p),c.complete(),"function"==typeof g&&g()}}else{Zt.debug("subscription ready for "+JSON.stringify({query:f,variables:d})),"function"==typeof y&&y(),clearTimeout(p),function(e,t,n){i.Xb.dispatch("api",{event:e,data:t,message:n},"PubSub",Xt)}(tn.SUBSCRIPTION_ACK,{query:f,variables:d},"Connection established for subscription");var v=Ht.CONNECTED;this.subscriptionObserverMap.set(r,{observer:c,query:f,variables:d,startAckTimeoutId:null,subscriptionState:v,subscriptionReadyCallback:y,subscriptionFailedCallback:g})}},t.prototype._errorDisconnect=function(e){Zt.debug("Disconnect error: "+e),this.subscriptionObserverMap.forEach((function(t){var n=t.observer;n&&!n.closed&&n.error({errors:[Wt({},new et(e))]})})),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=Vt.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e)||{},n=t.observer,r=t.query,o=t.variables;n&&(this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:o,subscriptionState:Ht.FAILED}),n&&!n.closed&&(n.error({errors:[Wt({},new et("Subscription timeout "+JSON.stringify({query:r,variables:o})))]}),n.complete()),Zt.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:o})))},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,o=e.apiKey,i=e.region;if(this.socketStatus!==Vt.READY)return new Promise((function(e,s){return Yt(t,void 0,void 0,(function(){var t,a,u,c,l,f,h,d,p,y;return Jt(this,(function(g){switch(g.label){case 0:if(this.promiseArray.push({res:e,rej:s}),this.socketStatus!==Vt.CLOSED)return[3,5];g.label=1;case 1:return g.trys.push([1,4,,5]),this.socketStatus=Vt.CONNECTING,t=this.isSSLEnabled?"wss://":"ws://",a=n.replace("https://",t).replace("http://",t).replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),u="{}",f=(l=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:u,canonicalUri:"/connect",apiKey:o,appSyncGraphqlEndpoint:n,region:i})];case 2:return c=f.apply(l,[g.sent()]),h=nt.lW.from(c).toString("base64"),d=nt.lW.from(u).toString("base64"),p=a+"?header="+h+"&payload="+d,[4,this._initializeRetryableHandshake({awsRealTimeUrl:p})];case 3:return g.sent(),this.promiseArray.forEach((function(e){var t=e.res;Zt.debug("Notifying connection successful"),t()})),this.socketStatus=Vt.READY,this.promiseArray=[],[3,5];case 4:return y=g.sent(),this.promiseArray.forEach((function(e){return(0,e.rej)(y)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=null,this.socketStatus=Vt.CLOSED,[3,5];case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){var t=e.awsRealTimeUrl;return Yt(this,void 0,void 0,(function(){return Jt(this,(function(e){switch(e.label){case 0:return Zt.debug("Initializaling retryable Handshake"),[4,(0,ht.Xm)(this._initializeHandshake.bind(this),[{awsRealTimeUrl:t}],5e3)];case 1:return e.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){var t=e.awsRealTimeUrl;return Yt(this,void 0,void 0,(function(){var e,n,r,o=this;return Jt(this,(function(i){switch(i.label){case 0:Zt.debug("Initializing handshake "+t),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,new Promise((function(e,n){var r=new WebSocket(t,"graphql-ws");r.onerror=function(){Zt.debug("WebSocket connection error")},r.onclose=function(){n(new Error("Connection handshake error"))},r.onopen=function(){return o.awsRealTimeSocket=r,e()}}))];case 2:return i.sent(),[4,new Promise((function(e,t){var n=!1;o.awsRealTimeSocket.onerror=function(e){Zt.debug("WebSocket error "+JSON.stringify(e))},o.awsRealTimeSocket.onclose=function(e){Zt.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},o.awsRealTimeSocket.onmessage=function(r){Zt.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var i=JSON.parse(r.data),s=i.type,a=i.payload,u=(void 0===a?{}:a).connectionTimeoutMs,c=void 0===u?rn:u;if(s===zt.GQL_CONNECTION_ACK)return n=!0,o.keepAliveTimeout=c,o.awsRealTimeSocket.onmessage=o._handleIncomingSubscriptionMessage.bind(o),o.awsRealTimeSocket.onerror=function(e){Zt.debug(e),o._errorDisconnect(tn.CONNECTION_CLOSED)},o.awsRealTimeSocket.onclose=function(e){Zt.debug("WebSocket closed "+e.reason),o._errorDisconnect(tn.CONNECTION_CLOSED)},void e("Cool, connected to AWS AppSyncRealTime");if(s===zt.GQL_CONNECTION_ERROR){var l=i.payload,f=(void 0===l?{}:l).errors,h=Qt(void 0===f?[]:f,1)[0],d=void 0===h?{}:h,p=d.errorType,y=void 0===p?"":p,g=d.errorCode;t({errorType:y,errorCode:void 0===g?0:g})}};var r={type:zt.GQL_CONNECTION_INIT};o.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout(function(){n||t(new Error("Connection timeout: ack from AWSRealTime was not received on 15000 ms"))}.bind(o),15e3)}))];case 3:return i.sent(),[3,5];case 4:throw e=i.sent(),n=e.errorType,r=e.errorCode,en.includes(r)?new ht.V2(n):n?new Error(n):e;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,o=e.appSyncGraphqlEndpoint,i=e.apiKey,s=e.region;return Yt(this,void 0,void 0,(function(){var e,a,u;return Jt(this,(function(c){switch(c.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this)},"function"!=typeof(a=e[t])?(Zt.debug("Authentication type "+t+" not supported"),[2,""]):(u=tt.Qc(o).host,[4,a({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:o,apiKey:i,region:s,host:u})]);case 1:return[2,c.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return Yt(this,void 0,void 0,(function(){return Jt(this,(function(e){switch(e.label){case 0:return[4,Gt.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return Yt(this,void 0,void 0,(function(){var e,n,r;return Jt(this,(function(o){switch(o.label){case 0:return[4,Bt.getItem("federatedInfo")];case 1:return(n=o.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,Gt.currentAuthenticatedUser()];case 3:(r=o.sent())&&(e=r.token),o.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return Yt(this,void 0,void 0,(function(){var e,r;return Jt(this,(function(o){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,o=e.region;return Yt(this,void 0,void 0,(function(){var e,i,s;return Jt(this,(function(a){switch(a.label){case 0:return e={region:o,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error("No credentials");return[4,lt.cN.get().then((function(e){return{secret_key:e.secretAccessKey,access_key:e.accessKeyId,session_token:e.sessionToken}}))];case 2:return i=a.sent(),s={url:""+r+n,data:t,method:"POST",headers:Wt({},nn)},[2,Pt.sign(s,i,e).headers]}}))}))},t.prototype._ensureCredentials=function(){return lt.cN.get().then((function(e){if(!e)return!1;var t=lt.cN.shear(e);return Zt.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return Zt.warn("ensure credentials error",e),!1}))},t}(Me),sn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},an=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},un=(0,o.lC)().isNode,cn=new r.k("PubSub"),ln=new(function(){function e(e){this._options=e,cn.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new Je(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new on(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return cn.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return sn(this,void 0,void 0,(function(){return an(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.getProviderByName=function(e){return e===Te?this.awsAppSyncProvider:e===Ce?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+t);return[n]},e.prototype.publish=function(e,t,n){return sn(this,void 0,void 0,(function(){return an(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){if(un&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");cn.debug("subscribe options",t);var n=this.getProviders(t);return new ue((function(r){var o=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return o.forEach((function(e){return e.unsubscribe()}))}}))},e}())(null);s.dQ.register(ln),function(e){e.CONNECTION_CLOSED="Connection closed",e.TIMEOUT_DISCONNECT="Timeout disconnect",e.SUBSCRIPTION_ACK="Subscription ack"}(tn||(tn={}));const fn=ln;var hn=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var dn=(new(function(){function e(){}return e.prototype.networkMonitor=function(t){if((0,o.lC)().isNode)return ue.from([{online:!0}]);var n=(0,o.n2)()?self:window;return new ue((function(t){t.next({online:n.navigator.onLine});var r=function(){return t.next({online:!0})},o=function(){return t.next({online:!1})};return n.addEventListener("online",r),n.addEventListener("offline",o),e._observers.push(t),function(){n.removeEventListener("online",r),n.removeEventListener("offline",o),e._observers=e._observers.filter((function(e){return e!==t}))}}))},e._observerOverride=function(t){var n,r,o=function(n){if(n.closed)return e._observers=e._observers.filter((function(e){return e!==n})),"continue";n.next(t)};try{for(var i=hn(e._observers),s=i.next();!s.done;s=i.next()){o(s.value)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e._observers=[],e}())).networkMonitor(),pn=function(){return(pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};new r.k("DataStore");const yn=function(){function e(){this.connectionStatus={online:!1}}return e.prototype.status=function(){var e=this;if(this.observer)throw new Error("Subscriber already exists");return new ue((function(t){return e.observer=t,e.subscription=dn.subscribe((function(n){var r=n.online;e.connectionStatus.online=r;var o=pn({},e.connectionStatus);t.next(o)})),function(){e.unsubscribe()}}))},e.prototype.unsubscribe=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.socketDisconnected=function(){var e=this;this.observer&&"function"==typeof this.observer.next&&(this.observer.next({online:!1}),setTimeout((function(){var t=pn({},e.connectionStatus);e.observer.next(t)}),5e3))},e}();var gn,vn,mn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},bn=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},wn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Sn=function(){function e(e,t){this.outbox=e,this.ownSymbol=t}return e.prototype.merge=function(e,t){return mn(this,void 0,void 0,(function(){var n,r,o,i,s;return bn(this,(function(a){switch(a.label){case 0:return[4,this.outbox.getForModel(e,t)];case 1:return r=a.sent(),o=t._deleted,0!==r.length?[3,5]:o?(n=pe.HP.DELETE,[4,e.delete(t,void 0,this.ownSymbol)]):[3,3];case 2:return a.sent(),[3,5];case 3:return[4,e.save(t,void 0,this.ownSymbol)];case 4:i=wn.apply(void 0,[a.sent(),1]),s=wn(i[0],2),n=s[1],a.label=5;case 5:return[2,n]}}))}))},e.prototype.mergePage=function(e,t,n){return mn(this,void 0,void 0,(function(){return bn(this,(function(r){switch(r.label){case 0:return[4,e.batchSave(t,n,this.ownSymbol)];case 1:return[2,r.sent()]}}))}))},e}(),_n=function(){return(_n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!function(e){e.LIST="query",e.CREATE="mutation",e.UPDATE="mutation",e.DELETE="mutation",e.GET="query"}(gn||(gn={})),function(e){e.CREATE="Create",e.UPDATE="Update",e.DELETE="Delete",e.GET="Get"}(vn||(vn={}));var En={_version:void 0,_lastChangedAt:void 0,_deleted:void 0},An=Object.keys(En);function In(e,t){var n=On(t),r=function(e,t){var n=[];return Object.values(t.fields).forEach((function(t){var r=t.name,o=t.type;if((0,pe.$v)(o)){var i=e.nonModels[o.nonModel],s=Object.values(On(i)).map((function(e){return e.name})),a=[];Object.values(i.fields).forEach((function(t){var n=t.type,r=t.name;if((0,pe.$v)(n)){var o=e.nonModels[n.nonModel];a.push(r+" { "+In(e,o)+" }")}})),n.push(r+" { "+s.join(" ")+" "+a.join(" ")+" }")}})),n}(e,t),o=function(e,t){var n=function(e){var t=[];(0,pe.aQ)(e)&&e.attributes&&e.attributes.forEach((function(e){if(e.properties&&e.properties.rules){var n=e.properties.rules.find((function(e){return"owner"===e.allow}));n&&n.ownerField&&t.push(n.ownerField)}}));return t}(e);if(!t.owner&&n.includes("owner"))return["owner"];return[]}(t,n),i=Object.values(n).map((function(e){return e.name})).concat(o).concat(r);return(0,pe.aQ)(t)&&(i=i.concat(An).concat(function(e){var t=[];return Object.values(e.fields).filter((function(e){var t=e.association;return t&&Object.keys(t).length})).forEach((function(e){var n=e.name,r=e.association,o=r.connectionType;switch(o){case"HAS_ONE":case"HAS_MANY":break;case"BELONGS_TO":(0,pe.Fr)(r)&&t.push(n+" { id _deleted }");break;default:(0,ye.y0)(o)}})),t}(t))),i.join("\n")}function On(e){var t=e.fields;return Object.values(t).filter((function(e){return!(!(0,pe.BV)(e.type)&&!(0,pe.g5)(e.type))})).reduce((function(e,t){return e[t.name]=t,e}),{})}function Tn(e,t,n){var r,o,i=In(e,t),s=t.name,a=t.pluralName,u=" ",c=" ";switch(n){case"LIST":r="sync"+a,u="($limit: Int, $nextToken: String, $lastSync: AWSTimestamp, $filter: Model"+s+"FilterInput)",c="(limit: $limit, nextToken: $nextToken, lastSync: $lastSync, filter: $filter)",i="items {\n\t\t\t\t\t\t\t"+i+"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnextToken\n\t\t\t\t\t\tstartedAt";break;case"CREATE":r="create"+s,u="($input: Create"+s+"Input!)",c="(input: $input)",o=vn.CREATE;break;case"UPDATE":r="update"+s,u="($input: Update"+s+"Input!, $condition: Model"+s+"ConditionInput)",c="(input: $input, condition: $condition)",o=vn.UPDATE;break;case"DELETE":r="delete"+s,u="($input: Delete"+s+"Input!, $condition: Model"+s+"ConditionInput)",c="(input: $input, condition: $condition)",o=vn.DELETE;break;case"GET":r="get"+s,u="($id: ID!)",c="(id: $id)",o=vn.GET;break;default:(0,ye.y0)(n)}return[[o,r,gn[n]+" operation"+u+"{\n\t\t"+r+c+"{\n\t\t\t"+i+"\n\t\t}\n\t}"]]}function Cn(e,t,n,r,o,i,s,a,u){var c;switch(n){case pe.HP.INSERT:c=vn.CREATE;break;case pe.HP.UPDATE:c=vn.UPDATE;break;case pe.HP.DELETE:c=vn.DELETE;break;default:(0,ye.y0)(n)}return a(s,_n(_n({},u?{id:u}:{}),{data:JSON.stringify(o),modelId:o.id,model:r.name,operation:c,condition:JSON.stringify(i)}))}function xn(e){var t={};return e&&Array.isArray(e.predicates)?(e.predicates.forEach((function(e){var n;if((0,pe.w5)(e)){var r=e.field,o=e.operator,i=e.operand;if("id"===r)return;t[r]=((n={})[o]=i,n)}else t[e.type]=xn(e)})),t):t}function Pn(e){var t={};if(!e||!Array.isArray(e.predicates))return t;var n=e.type,r=e.predicates,o="and"===n||"or"===n;t[n]=o?[]:{};var i=function(e){return o?t[n].push(e):t[n]=e};return r.forEach((function(e){var t,n;if((0,pe.w5)(e)){var r=e.field,o=e.operator,s=e.operand,a=((t={})[r]=((n={})[o]=s,n),t);i(a)}else i(Pn(e))})),t}function kn(e,t){var n=e[t.groupClaim]||[];if("string"==typeof n){var r=void 0;try{r=JSON.parse(n)}catch(e){r=n}n=[].concat(r)}return n}var Nn=function(){return(Nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Mn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Rn=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Un=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Dn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Ln=function(){function e(e,t,n,r){this.schema=e,this.MutationEvent=t,this.modelInstanceCreator=n,this.ownSymbol=r}return e.prototype.enqueue=function(e,t){return Mn(this,void 0,void 0,(function(){var n=this;return Rn(this,(function(r){return e.runExclusive((function(e){return Mn(n,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,l,f=this;return Rn(this,(function(h){switch(h.label){case 0:return n=this.schema.namespaces[ye.J3].models.MutationEvent,r=ce.OY.createFromExisting(n,(function(e){return e.modelId("eq",t.modelId).id("ne",f.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,r)];case 1:return o=Dn.apply(void 0,[h.sent(),1]),void 0!==(i=o[0])?[3,3]:[4,e.save(t,void 0,this.ownSymbol)];case 2:return h.sent(),[2];case 3:return s=t.operation,i.operation!==vn.CREATE?[3,8]:s!==vn.DELETE?[3,5]:[4,e.delete(this.MutationEvent,r)];case 4:return h.sent(),[3,7];case 5:return a=this.mergeUserFields(i,t),[4,e.save(this.MutationEvent.copyOf(i,(function(e){e.data=a.data})),void 0,this.ownSymbol)];case 6:h.sent(),h.label=7;case 7:return[3,12];case 8:return u=t.condition,c=JSON.parse(u),l=void 0,0!==Object.keys(c).length?[3,10]:(l=this.mergeUserFields(i,t),[4,e.delete(this.MutationEvent,r)]);case 9:h.sent(),h.label=10;case 10:return l=l||t,[4,e.save(l,void 0,this.ownSymbol)];case 11:h.sent(),h.label=12;case 12:return[2]}}))}))})),[2]}))}))},e.prototype.dequeue=function(e,t,n){return Mn(this,void 0,void 0,(function(){var r;return Rn(this,(function(o){switch(o.label){case 0:return[4,this.peek(e)];case 1:return r=o.sent(),t?[4,this.syncOutboxVersionsOnDequeue(e,t,r,n)]:[3,3];case 2:o.sent(),o.label=3;case 3:return[4,e.delete(r)];case 4:return o.sent(),this.inProgressMutationEventId=void 0,[2,r]}}))}))},e.prototype.peek=function(e){return Mn(this,void 0,void 0,(function(){var t;return Rn(this,(function(n){switch(n.label){case 0:return[4,e.queryOne(this.MutationEvent,pe.fI.FIRST)];case 1:return t=n.sent(),this.inProgressMutationEventId=t?t.id:void 0,[2,t]}}))}))},e.prototype.getForModel=function(e,t){return Mn(this,void 0,void 0,(function(){var n;return Rn(this,(function(r){switch(r.label){case 0:return n=this.schema.namespaces[ye.J3].models.MutationEvent,[4,e.query(this.MutationEvent,ce.OY.createFromExisting(n,(function(e){return e.modelId("eq",t.id)})))];case 1:return[2,r.sent()]}}))}))},e.prototype.getModelIds=function(e){return Mn(this,void 0,void 0,(function(){var t,n;return Rn(this,(function(r){switch(r.label){case 0:return[4,e.query(this.MutationEvent)];case 1:return t=r.sent(),n=new Set,t.forEach((function(e){var t=e.modelId;return n.add(t)})),[2,n]}}))}))},e.prototype.syncOutboxVersionsOnDequeue=function(e,t,n,r){return Mn(this,void 0,void 0,(function(){var o,i,s,a,u,c,l,f,h,d=this;return Rn(this,(function(p){switch(p.label){case 0:return n.operation!==r?[2]:(o=t._version,i=t._lastChangedAt,t._deleted,s=Un(t,["_version","_lastChangedAt","_deleted"]),(a=JSON.parse(n.data))?(a._version,a._lastChangedAt,a._deleted,u=Un(a,["_version","_lastChangedAt","_deleted"]),(0,ye.Vg)(s,u,!0)?(c=this.schema.namespaces[ye.J3].models.MutationEvent,l=ce.OY.createFromExisting(c,(function(e){return e.modelId("eq",t.id).id("ne",d.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,l)]):[2]):[2]);case 1:return(f=p.sent()).length?(h=f.map((function(e){var t=JSON.parse(e.data),n=Nn(Nn({},t),{_version:o,_lastChangedAt:i});return d.MutationEvent.copyOf(e,(function(e){e.data=JSON.stringify(n)}))})),[4,e.delete(this.MutationEvent,l)]):[2];case 2:return p.sent(),[4,Promise.all(h.map((function(t){return Mn(d,void 0,void 0,(function(){return Rn(this,(function(n){switch(n.label){case 0:return[4,e.save(t,void 0,this.ownSymbol)];case 1:return[2,n.sent()]}}))}))})))];case 3:return p.sent(),[2]}}))}))},e.prototype.mergeUserFields=function(e,t){var n=JSON.parse(e.data),r=n._version,o=n.id,i=n._lastChangedAt,s=n._deleted,a=Un(n,["_version","id","_lastChangedAt","_deleted"]),u=JSON.parse(t.data),c=(u.id,u._version,u._lastChangedAt,u._deleted,Un(u,["id","_version","_lastChangedAt","_deleted"])),l=JSON.stringify(Nn(Nn({id:o,_version:r,_lastChangedAt:i,_deleted:s},a),c));return this.modelInstanceCreator(this.MutationEvent,Nn(Nn({},t),{data:l}))},e}(),$n=n(4206),jn=n.n($n),Fn=function(){return(Fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Bn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},qn=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Gn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},zn=new r.k("RestClient"),Hn=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=lt.cN,this._options=e,zn.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return Bn(this,void 0,void 0,(function(){var r,o,i,s,a,u,c,l,f,h,d,p,y,g,v=this;return qn(this,(function(m){switch(m.label){case 0:return zn.debug(t,e),i="us-east-1",s="execute-api",a=void 0,"string"==typeof e?(r=this._parseUrl(e),o=e):(o=e.endpoint,a=e.custom_header,i=e.region,s=e.service,r=this._parseUrl(e.endpoint)),u={method:t,url:o,host:r.host,path:r.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},c={},rt.t4.isReactNative&&(l=rt.t4.userAgent||"aws-amplify/0.1.x",c={"User-Agent":l}),f=Object.assign({},n),h=f.response,f.body&&("function"==typeof FormData&&f.body instanceof FormData?(c["Content-Type"]="multipart/form-data",u.data=f.body):(c["Content-Type"]="application/json; charset=UTF-8",u.data=JSON.stringify(f.body))),f.responseType&&(u.responseType=f.responseType),f.withCredentials&&(u.withCredentials=f.withCredentials),f.timeout&&(u.timeout=f.timeout),f.cancellableToken&&(u.cancelToken=f.cancellableToken.token),u.signerServiceInfo=f.signerServiceInfo,"function"!=typeof a?[3,2]:[4,a()];case 1:return p=m.sent(),[3,3];case 2:p=void 0,m.label=3;case 3:return d=p,u.headers=Fn(Fn(Fn({},c),d),f.headers),y=(0,tt.Qc)(o,!0,!0),y.search,g=Gn(y,["search"]),u.url=(0,tt.WU)(Fn(Fn({},g),{query:Fn(Fn({},g.query),f.queryStringParameters||{})})),void 0!==u.headers.Authorization?(u.headers=Object.keys(u.headers).reduce((function(e,t){return u.headers[t]&&(e[t]=u.headers[t]),e}),{}),[2,this._request(u,h)]):[2,this.Credentials.get().then((function(r){return v._signed(Fn({},u),r,h,{region:i,service:s}).catch((function(r){if(gt.isClockSkewError(r)){var o=r.response.headers,i=o&&(o.date||o.Date),s=new Date(i),a=gt.getDateFromHeaderString(u.headers["x-amz-date"]);if(gt.isClockSkewed(a,s))return gt.setClockOffset(s.getTime()-a.getTime()),v.ajax(e,t,n)}throw r}))}),(function(e){return zn.debug("No credentials available, the request will be unsigned"),v._request(u,h)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return n&&n.cancel(t),!0},e.prototype.isCancel=function(e){return jn().isCancel(e)},e.prototype.getCancellableToken=function(){return jn().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n,r){var o=r.service,i=r.region,s=e.signerServiceInfo,a=Gn(e,["signerServiceInfo"]),u=i||this._region||this._options.region,c=o||this._service||this._options.service,l={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},f={region:u,service:c},h=Object.assign(f,s),d=Pt.sign(a,l,h);return d.data&&(d.body=d.data),zn.debug("Signed Request: ",d),delete d.headers.host,jn()(d).then((function(e){return n?e:e.data})).catch((function(e){throw zn.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),jn()(e).then((function(e){return t?e:e.data})).catch((function(e){throw zn.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}(),Vn=function(){return(Vn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Kn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Wn=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Yn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Jn=new r.k("RestAPI"),Qn=function(){function e(e){this._api=null,this.Credentials=lt.cN,this._options=e,Jn.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,o=Yn(t,["API"]),i=Vn(Vn({},o),r);if(Jn.debug("configure Rest API",{opt:i}),i.aws_project_region){if(i.aws_cloud_logic_custom){var s=i.aws_cloud_logic_custom;i.endpoints="string"==typeof s?JSON.parse(s):s}i=Object.assign({},i,{region:i.aws_project_region,header:{}})}return Array.isArray(i.endpoints)?i.endpoints.forEach((function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(Jn.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?i.endpoints=this._options.endpoints:i.endpoints=[],this._options=Object.assign({},this._options,i),this.createInstance(),this._options},e.prototype.createInstance=function(){return Jn.debug("create Rest API instance"),this._api=new Hn(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var s=this._api.get(r,i);return this._api.updateRequestToBeCancellable(s,o),s}catch(e){return Promise.reject(e.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var s=this._api.post(r,i);return this._api.updateRequestToBeCancellable(s,o),s}catch(e){return Promise.reject(e.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var s=this._api.put(r,i);return this._api.updateRequestToBeCancellable(s,o),s}catch(e){return Promise.reject(e.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var s=this._api.patch(r,i);return this._api.updateRequestToBeCancellable(s,o),s}catch(e){return Promise.reject(e.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var s=this._api.del(r,i);return this._api.updateRequestToBeCancellable(s,o),s}catch(e){return Promise.reject(e.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var s=this._api.head(r,i);return this._api.updateRequestToBeCancellable(s,o),s}catch(e){return Promise.reject(e.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.endpoint=function(e){return Kn(this,void 0,void 0,(function(){return Wn(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API "+e+" does not exist");var o={endpoint:r.endpoint+t};return"string"==typeof r.region?o.region=r.region:"string"==typeof this._options.region&&(o.region=this._options.region),"string"==typeof r.service?o.service=r.service||"execute-api":o.service="execute-api","function"==typeof r.custom_header?o.custom_header=r.custom_header:o.custom_header=void 0,o},e}(),Zn=new Qn(null);s.dQ.register(Zn);var Xn={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},er={};function tr(e){return Boolean(e&&"string"==typeof e.kind)}function nr(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var o=n?r.leave:r.enter;if("function"==typeof o)return o}else{var i=n?e.leave:e.enter;if(i){if("function"==typeof i)return i;var s=i[t];if("function"==typeof s)return s}}}function rr(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xn,r=void 0,o=Array.isArray(e),i=[e],s=-1,a=[],u=void 0,c=void 0,l=void 0,f=[],h=[],d=e;do{var p=++s===i.length,y=p&&0!==a.length;if(p){if(c=0===h.length?void 0:f[f.length-1],u=l,l=h.pop(),y){if(o)u=u.slice();else{var g={};for(var v in u)u.hasOwnProperty(v)&&(g[v]=u[v]);u=g}for(var m=0,b=0;b<a.length;b++){var w=a[b][0],S=a[b][1];o&&(w-=m),o&&null===S?(u.splice(w,1),m++):u[w]=S}}s=r.index,i=r.keys,a=r.edits,o=r.inArray,r=r.prev}else{if(c=l?o?s:i[s]:void 0,null==(u=l?l[c]:d))continue;l&&f.push(c)}var _=void 0;if(!Array.isArray(u)){if(!tr(u))throw new Error("Invalid AST Node: "+JSON.stringify(u));var E=nr(t,u.kind,p);if(E){if((_=E.call(t,u,c,l,f,h))===er)break;if(!1===_){if(!p){f.pop();continue}}else if(void 0!==_&&(a.push([c,_]),!p)){if(!tr(_)){f.pop();continue}u=_}}}void 0===_&&y&&a.push([c,u]),p?f.pop():(r={inArray:o,index:s,keys:i,edits:a,prev:r},i=(o=Array.isArray(u))?u:n[u.kind]||[],s=-1,a=[],l&&h.push(l),l=u)}while(void 0!==r);return 0!==a.length&&(d=a[a.length-1][1]),d}(e,{leave:or})}var or={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return sr(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=ur("(",sr(e.variableDefinitions,", "),")"),o=sr(e.directives," "),i=e.selectionSet;return n||o||r||"query"!==t?sr([t,sr([n,r]),o,i]," "):i},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,o=e.directives;return t+": "+n+ur(" = ",r)+ur(" ",sr(o," "))},SelectionSet:function(e){return ar(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,o=e.directives,i=e.selectionSet;return sr([ur("",t,": ")+n+ur("(",sr(r,", "),")"),sr(o," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+ur(" ",sr(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return sr(["...",ur("on ",t),sr(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,o=e.directives,i=e.selectionSet;return"fragment ".concat(t).concat(ur("(",sr(r,", "),")")," ")+"on ".concat(n," ").concat(ur("",sr(o," ")," "))+i},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e,t){var n=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?'"""\n'.concat(t?n:cr(n),'\n"""'):'"""'.concat(n.replace(/"$/,'"\n'),'"""')}(n,"description"===t):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+sr(e.values,", ")+"]"},ObjectValue:function(e){return"{"+sr(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+ur("(",sr(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return sr(["schema",sr(t," "),ar(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:ir((function(e){return sr(["scalar",e.name,sr(e.directives," ")]," ")})),ObjectTypeDefinition:ir((function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return sr(["type",t,ur("implements ",sr(n," & ")),sr(r," "),ar(o)]," ")})),FieldDefinition:ir((function(e){var t=e.name,n=e.arguments,r=e.type,o=e.directives;return t+(n.every((function(e){return-1===e.indexOf("\n")}))?ur("(",sr(n,", "),")"):ur("(\n",cr(sr(n,"\n")),"\n)"))+": "+r+ur(" ",sr(o," "))})),InputValueDefinition:ir((function(e){var t=e.name,n=e.type,r=e.defaultValue,o=e.directives;return sr([t+": "+n,ur("= ",r),sr(o," ")]," ")})),InterfaceTypeDefinition:ir((function(e){var t=e.name,n=e.directives,r=e.fields;return sr(["interface",t,sr(n," "),ar(r)]," ")})),UnionTypeDefinition:ir((function(e){var t=e.name,n=e.directives,r=e.types;return sr(["union",t,sr(n," "),r&&0!==r.length?"= "+sr(r," | "):""]," ")})),EnumTypeDefinition:ir((function(e){var t=e.name,n=e.directives,r=e.values;return sr(["enum",t,sr(n," "),ar(r)]," ")})),EnumValueDefinition:ir((function(e){return sr([e.name,sr(e.directives," ")]," ")})),InputObjectTypeDefinition:ir((function(e){var t=e.name,n=e.directives,r=e.fields;return sr(["input",t,sr(n," "),ar(r)]," ")})),DirectiveDefinition:ir((function(e){var t=e.name,n=e.arguments,r=e.locations;return"directive @"+t+(n.every((function(e){return-1===e.indexOf("\n")}))?ur("(",sr(n,", "),")"):ur("(\n",cr(sr(n,"\n")),"\n)"))+" on "+sr(r," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return sr(["extend schema",sr(t," "),ar(n)]," ")},ScalarTypeExtension:function(e){return sr(["extend scalar",e.name,sr(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return sr(["extend type",t,ur("implements ",sr(n," & ")),sr(r," "),ar(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return sr(["extend interface",t,sr(n," "),ar(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return sr(["extend union",t,sr(n," "),r&&0!==r.length?"= "+sr(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return sr(["extend enum",t,sr(n," "),ar(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return sr(["extend input",t,sr(n," "),ar(r)]," ")}};function ir(e){return function(t){return sr([t.description,e(t)],"\n")}}function sr(e,t){return e?e.filter((function(e){return e})).join(t||""):""}function ar(e){return e&&0!==e.length?"{\n"+cr(sr(e,"\n"))+"\n}":""}function ur(e,t,n){return t?e+t+(n||""):""}function cr(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function lr(e){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e){return e&&"object"===lr(e)?"function"==typeof e.inspect?e.inspect():Array.isArray(e)?"["+e.map(fr).join(", ")+"]":"{"+Object.keys(e).map((function(t){return"".concat(t,": ").concat(fr(e[t]))})).join(", ")+"}":"string"==typeof e?'"'+e+'"':"function"==typeof e?"[function ".concat(e.name,"]"):String(e)}function hr(e,t){if(!e)throw new Error(t)}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pr,yr=function(e,t,n){dr(this,"body",void 0),dr(this,"name",void 0),dr(this,"locationOffset",void 0),this.body=e,this.name=t||"GraphQL request",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||hr(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||hr(0,"column in locationOffset is 1-indexed and must be positive")};function gr(e,t,n){return new et("Syntax Error: ".concat(n),void 0,e,[t])}function vr(e){for(var t=e.split(/\r\n|[\n\r]/g),n=null,r=1;r<t.length;r++){var o=t[r],i=mr(o);if(i<o.length&&(null===n||i<n)&&0===(n=i))break}if(n)for(var s=1;s<t.length;s++)t[s]=t[s].slice(n);for(;t.length>0&&br(t[0]);)t.shift();for(;t.length>0&&br(t[t.length-1]);)t.pop();return t.join("\n")}function mr(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function br(e){return mr(e)===e.length}function wr(){return this.lastToken=this.token,this.token=this.lookahead()}function Sr(){var e=this.token;if(e.kind!==_r.EOF)do{e=e.next||(e.next=Cr(this,e))}while(e.kind===_r.COMMENT);return e}pr=yr,"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(pr.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}});var _r=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Er(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}var Ar=String.prototype.charCodeAt,Ir=String.prototype.slice;function Or(e,t,n,r,o,i,s){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=s,this.prev=i,this.next=null}function Tr(e){return isNaN(e)?_r.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Cr(e,t){var n=e.source,r=n.body,o=r.length,i=function(e,t,n){var r=e.length,o=t;for(;o<r;){var i=Ar.call(e,o);if(9===i||32===i||44===i||65279===i)++o;else if(10===i)++o,++n.line,n.lineStart=o;else{if(13!==i)break;10===Ar.call(e,o+1)?o+=2:++o,++n.line,n.lineStart=o}}return o}(r,t.end,e),s=e.line,a=1+i-e.lineStart;if(i>=o)return new Or(_r.EOF,o,o,s,a,t);var u=Ar.call(r,i);switch(u){case 33:return new Or(_r.BANG,i,i+1,s,a,t);case 35:return function(e,t,n,r,o){var i,s=e.body,a=t;do{i=Ar.call(s,++a)}while(null!==i&&(i>31||9===i));return new Or(_r.COMMENT,t,a,n,r,o,Ir.call(s,t+1,a))}(n,i,s,a,t);case 36:return new Or(_r.DOLLAR,i,i+1,s,a,t);case 38:return new Or(_r.AMP,i,i+1,s,a,t);case 40:return new Or(_r.PAREN_L,i,i+1,s,a,t);case 41:return new Or(_r.PAREN_R,i,i+1,s,a,t);case 46:if(46===Ar.call(r,i+1)&&46===Ar.call(r,i+2))return new Or(_r.SPREAD,i,i+3,s,a,t);break;case 58:return new Or(_r.COLON,i,i+1,s,a,t);case 61:return new Or(_r.EQUALS,i,i+1,s,a,t);case 64:return new Or(_r.AT,i,i+1,s,a,t);case 91:return new Or(_r.BRACKET_L,i,i+1,s,a,t);case 93:return new Or(_r.BRACKET_R,i,i+1,s,a,t);case 123:return new Or(_r.BRACE_L,i,i+1,s,a,t);case 124:return new Or(_r.PIPE,i,i+1,s,a,t);case 125:return new Or(_r.BRACE_R,i,i+1,s,a,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,o){var i=e.body,s=i.length,a=t+1,u=0;for(;a!==s&&null!==(u=Ar.call(i,a))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++a;return new Or(_r.NAME,t,a,n,r,o,Ir.call(i,t,a))}(n,i,s,a,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,o,i){var s=e.body,a=n,u=t,c=!1;45===a&&(a=Ar.call(s,++u));if(48===a){if((a=Ar.call(s,++u))>=48&&a<=57)throw gr(e,u,"Invalid number, unexpected digit after 0: ".concat(Tr(a),"."))}else u=xr(e,u,a),a=Ar.call(s,u);46===a&&(c=!0,a=Ar.call(s,++u),u=xr(e,u,a),a=Ar.call(s,u));69!==a&&101!==a||(c=!0,43!==(a=Ar.call(s,++u))&&45!==a||(a=Ar.call(s,++u)),u=xr(e,u,a));return new Or(c?_r.FLOAT:_r.INT,t,u,r,o,i,Ir.call(s,t,u))}(n,i,u,s,a,t);case 34:return 34===Ar.call(r,i+1)&&34===Ar.call(r,i+2)?function(e,t,n,r,o){var i=e.body,s=t+3,a=s,u=0,c="";for(;s<i.length&&null!==(u=Ar.call(i,s));){if(34===u&&34===Ar.call(i,s+1)&&34===Ar.call(i,s+2))return c+=Ir.call(i,a,s),new Or(_r.BLOCK_STRING,t,s+3,n,r,o,vr(c));if(u<32&&9!==u&&10!==u&&13!==u)throw gr(e,s,"Invalid character within String: ".concat(Tr(u),"."));92===u&&34===Ar.call(i,s+1)&&34===Ar.call(i,s+2)&&34===Ar.call(i,s+3)?(c+=Ir.call(i,a,s)+'"""',a=s+=4):++s}throw gr(e,s,"Unterminated string.")}(n,i,s,a,t):function(e,t,n,r,o){var i=e.body,s=t+1,a=s,u=0,c="";for(;s<i.length&&null!==(u=Ar.call(i,s))&&10!==u&&13!==u;){if(34===u)return c+=Ir.call(i,a,s),new Or(_r.STRING,t,s+1,n,r,o,c);if(u<32&&9!==u)throw gr(e,s,"Invalid character within String: ".concat(Tr(u),"."));if(++s,92===u){switch(c+=Ir.call(i,a,s-1),u=Ar.call(i,s)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var l=Pr(Ar.call(i,s+1),Ar.call(i,s+2),Ar.call(i,s+3),Ar.call(i,s+4));if(l<0)throw gr(e,s,"Invalid character escape sequence: "+"\\u".concat(i.slice(s+1,s+5),"."));c+=String.fromCharCode(l),s+=4;break;default:throw gr(e,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}a=++s}}throw gr(e,s,"Unterminated string.")}(n,i,s,a,t)}throw gr(n,i,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(Tr(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(Tr(e),".")}(u))}function xr(e,t,n){var r=e.body,o=t,i=n;if(i>=48&&i<=57){do{i=Ar.call(r,++o)}while(i>=48&&i<=57);return o}throw gr(e,o,"Invalid number, expected digit but got: ".concat(Tr(i),"."))}function Pr(e,t,n,r){return kr(e)<<12|kr(t)<<8|kr(n)<<4|kr(r)}function kr(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}Or.prototype.toJSON=Or.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}};var Nr=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),Mr=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function Rr(e,t){var n="string"==typeof e?new yr(e):e;if(!(n instanceof yr))throw new TypeError("Must provide Source. Received: ".concat(fr(n)));return function(e){var t=e.token;return{kind:Nr.DOCUMENT,definitions:To(e,_r.SOF,Dr,_r.EOF),loc:bo(e,t)}}(function(e,t){var n=new Or(_r.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:wr,lookahead:Sr}}(n,t||{}))}function Ur(e){var t=Eo(e,_r.NAME);return{kind:Nr.NAME,value:t.value,loc:bo(e,t)}}function Dr(e){if(So(e,_r.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return Lr(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return oo(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===_r.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Ao(e,"extend"),Ao(e,"schema");var n=eo(e,!0),r=So(e,_r.BRACE_L)?To(e,_r.BRACE_L,ao,_r.BRACE_R):[];if(0===n.length&&0===r.length)throw Io(e);return{kind:Nr.SCHEMA_EXTENSION,directives:n,operationTypes:r,loc:bo(e,t)}}(e);case"scalar":return function(e){var t=e.token;Ao(e,"extend"),Ao(e,"scalar");var n=Ur(e),r=eo(e,!0);if(0===r.length)throw Io(e);return{kind:Nr.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:bo(e,t)}}(e);case"type":return function(e){var t=e.token;Ao(e,"extend"),Ao(e,"type");var n=Ur(e),r=uo(e),o=eo(e,!0),i=co(e);if(0===r.length&&0===o.length&&0===i.length)throw Io(e);return{kind:Nr.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:o,fields:i,loc:bo(e,t)}}(e);case"interface":return function(e){var t=e.token;Ao(e,"extend"),Ao(e,"interface");var n=Ur(e),r=eo(e,!0),o=co(e);if(0===r.length&&0===o.length)throw Io(e);return{kind:Nr.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:bo(e,t)}}(e);case"union":return function(e){var t=e.token;Ao(e,"extend"),Ao(e,"union");var n=Ur(e),r=eo(e,!0),o=po(e);if(0===r.length&&0===o.length)throw Io(e);return{kind:Nr.UNION_TYPE_EXTENSION,name:n,directives:r,types:o,loc:bo(e,t)}}(e);case"enum":return function(e){var t=e.token;Ao(e,"extend"),Ao(e,"enum");var n=Ur(e),r=eo(e,!0),o=yo(e);if(0===r.length&&0===o.length)throw Io(e);return{kind:Nr.ENUM_TYPE_EXTENSION,name:n,directives:r,values:o,loc:bo(e,t)}}(e);case"input":return function(e){var t=e.token;Ao(e,"extend"),Ao(e,"input");var n=Ur(e),r=eo(e,!0),o=vo(e);if(0===r.length&&0===o.length)throw Io(e);return{kind:Nr.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:bo(e,t)}}(e)}throw Io(e,t)}(e)}else{if(So(e,_r.BRACE_L))return Lr(e);if(io(e))return oo(e)}throw Io(e)}function Lr(e){if(So(e,_r.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return $r(e);case"fragment":return function(e){var t=e.token;if(Ao(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:Nr.FRAGMENT_DEFINITION,name:Wr(e),variableDefinitions:Fr(e),typeCondition:(Ao(e,"on"),ro(e)),directives:eo(e,!1),selectionSet:Gr(e),loc:bo(e,t)};return{kind:Nr.FRAGMENT_DEFINITION,name:Wr(e),typeCondition:(Ao(e,"on"),ro(e)),directives:eo(e,!1),selectionSet:Gr(e),loc:bo(e,t)}}(e)}else if(So(e,_r.BRACE_L))return $r(e);throw Io(e)}function $r(e){var t=e.token;if(So(e,_r.BRACE_L))return{kind:Nr.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:Gr(e),loc:bo(e,t)};var n,r=jr(e);return So(e,_r.NAME)&&(n=Ur(e)),{kind:Nr.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:Fr(e),directives:eo(e,!1),selectionSet:Gr(e),loc:bo(e,t)}}function jr(e){var t=Eo(e,_r.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw Io(e,t)}function Fr(e){return So(e,_r.PAREN_L)?To(e,_r.PAREN_L,Br,_r.PAREN_R):[]}function Br(e){var t=e.token;return e.options.experimentalVariableDefinitionDirectives?{kind:Nr.VARIABLE_DEFINITION,variable:qr(e),type:(Eo(e,_r.COLON),no(e)),defaultValue:_o(e,_r.EQUALS)?Yr(e,!0):void 0,directives:eo(e,!0),loc:bo(e,t)}:{kind:Nr.VARIABLE_DEFINITION,variable:qr(e),type:(Eo(e,_r.COLON),no(e)),defaultValue:_o(e,_r.EQUALS)?Yr(e,!0):void 0,loc:bo(e,t)}}function qr(e){var t=e.token;return Eo(e,_r.DOLLAR),{kind:Nr.VARIABLE,name:Ur(e),loc:bo(e,t)}}function Gr(e){var t=e.token;return{kind:Nr.SELECTION_SET,selections:To(e,_r.BRACE_L,zr,_r.BRACE_R),loc:bo(e,t)}}function zr(e){return So(e,_r.SPREAD)?function(e){var t,n=e.token;if(Eo(e,_r.SPREAD),So(e,_r.NAME)&&"on"!==e.token.value)return{kind:Nr.FRAGMENT_SPREAD,name:Wr(e),directives:eo(e,!1),loc:bo(e,n)};"on"===e.token.value&&(e.advance(),t=ro(e));return{kind:Nr.INLINE_FRAGMENT,typeCondition:t,directives:eo(e,!1),selectionSet:Gr(e),loc:bo(e,n)}}(e):function(e){var t,n,r=e.token,o=Ur(e);_o(e,_r.COLON)?(t=o,n=Ur(e)):n=o;return{kind:Nr.FIELD,alias:t,name:n,arguments:Hr(e,!1),directives:eo(e,!1),selectionSet:So(e,_r.BRACE_L)?Gr(e):void 0,loc:bo(e,r)}}(e)}function Hr(e,t){var n=t?Kr:Vr;return So(e,_r.PAREN_L)?To(e,_r.PAREN_L,n,_r.PAREN_R):[]}function Vr(e){var t=e.token;return{kind:Nr.ARGUMENT,name:Ur(e),value:(Eo(e,_r.COLON),Yr(e,!1)),loc:bo(e,t)}}function Kr(e){var t=e.token;return{kind:Nr.ARGUMENT,name:Ur(e),value:(Eo(e,_r.COLON),Qr(e)),loc:bo(e,t)}}function Wr(e){if("on"===e.token.value)throw Io(e);return Ur(e)}function Yr(e,t){var n=e.token;switch(n.kind){case _r.BRACKET_L:return function(e,t){var n=e.token,r=t?Qr:Zr;return{kind:Nr.LIST,values:Oo(e,_r.BRACKET_L,r,_r.BRACKET_R),loc:bo(e,n)}}(e,t);case _r.BRACE_L:return function(e,t){var n=e.token;Eo(e,_r.BRACE_L);var r=[];for(;!_o(e,_r.BRACE_R);)r.push(Xr(e,t));return{kind:Nr.OBJECT,fields:r,loc:bo(e,n)}}(e,t);case _r.INT:return e.advance(),{kind:Nr.INT,value:n.value,loc:bo(e,n)};case _r.FLOAT:return e.advance(),{kind:Nr.FLOAT,value:n.value,loc:bo(e,n)};case _r.STRING:case _r.BLOCK_STRING:return Jr(e);case _r.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:Nr.BOOLEAN,value:"true"===n.value,loc:bo(e,n)}):"null"===n.value?(e.advance(),{kind:Nr.NULL,loc:bo(e,n)}):(e.advance(),{kind:Nr.ENUM,value:n.value,loc:bo(e,n)});case _r.DOLLAR:if(!t)return qr(e)}throw Io(e)}function Jr(e){var t=e.token;return e.advance(),{kind:Nr.STRING,value:t.value,block:t.kind===_r.BLOCK_STRING,loc:bo(e,t)}}function Qr(e){return Yr(e,!0)}function Zr(e){return Yr(e,!1)}function Xr(e,t){var n=e.token;return{kind:Nr.OBJECT_FIELD,name:Ur(e),value:(Eo(e,_r.COLON),Yr(e,t)),loc:bo(e,n)}}function eo(e,t){for(var n=[];So(e,_r.AT);)n.push(to(e,t));return n}function to(e,t){var n=e.token;return Eo(e,_r.AT),{kind:Nr.DIRECTIVE,name:Ur(e),arguments:Hr(e,t),loc:bo(e,n)}}function no(e){var t,n=e.token;return _o(e,_r.BRACKET_L)?(t=no(e),Eo(e,_r.BRACKET_R),t={kind:Nr.LIST_TYPE,type:t,loc:bo(e,n)}):t=ro(e),_o(e,_r.BANG)?{kind:Nr.NON_NULL_TYPE,type:t,loc:bo(e,n)}:t}function ro(e){var t=e.token;return{kind:Nr.NAMED_TYPE,name:Ur(e),loc:bo(e,t)}}function oo(e){var t=io(e)?e.lookahead():e.token;if(t.kind===_r.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Ao(e,"schema");var n=eo(e,!0),r=To(e,_r.BRACE_L,ao,_r.BRACE_R);return{kind:Nr.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:bo(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=so(e);Ao(e,"scalar");var r=Ur(e),o=eo(e,!0);return{kind:Nr.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:o,loc:bo(e,t)}}(e);case"type":return function(e){var t=e.token,n=so(e);Ao(e,"type");var r=Ur(e),o=uo(e),i=eo(e,!0),s=co(e);return{kind:Nr.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:o,directives:i,fields:s,loc:bo(e,t)}}(e);case"interface":return function(e){var t=e.token,n=so(e);Ao(e,"interface");var r=Ur(e),o=eo(e,!0),i=co(e);return{kind:Nr.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:o,fields:i,loc:bo(e,t)}}(e);case"union":return function(e){var t=e.token,n=so(e);Ao(e,"union");var r=Ur(e),o=eo(e,!0),i=po(e);return{kind:Nr.UNION_TYPE_DEFINITION,description:n,name:r,directives:o,types:i,loc:bo(e,t)}}(e);case"enum":return function(e){var t=e.token,n=so(e);Ao(e,"enum");var r=Ur(e),o=eo(e,!0),i=yo(e);return{kind:Nr.ENUM_TYPE_DEFINITION,description:n,name:r,directives:o,values:i,loc:bo(e,t)}}(e);case"input":return function(e){var t=e.token,n=so(e);Ao(e,"input");var r=Ur(e),o=eo(e,!0),i=vo(e);return{kind:Nr.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:o,fields:i,loc:bo(e,t)}}(e);case"directive":return function(e){var t=e.token,n=so(e);Ao(e,"directive"),Eo(e,_r.AT);var r=Ur(e),o=fo(e);Ao(e,"on");var i=function(e){_o(e,_r.PIPE);var t=[];do{t.push(mo(e))}while(_o(e,_r.PIPE));return t}(e);return{kind:Nr.DIRECTIVE_DEFINITION,description:n,name:r,arguments:o,locations:i,loc:bo(e,t)}}(e)}throw Io(e,t)}function io(e){return So(e,_r.STRING)||So(e,_r.BLOCK_STRING)}function so(e){if(io(e))return Jr(e)}function ao(e){var t=e.token,n=jr(e);Eo(e,_r.COLON);var r=ro(e);return{kind:Nr.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:bo(e,t)}}function uo(e){var t=[];if("implements"===e.token.value){e.advance(),_o(e,_r.AMP);do{t.push(ro(e))}while(_o(e,_r.AMP)||e.options.allowLegacySDLImplementsInterfaces&&So(e,_r.NAME))}return t}function co(e){return e.options.allowLegacySDLEmptyFields&&So(e,_r.BRACE_L)&&e.lookahead().kind===_r.BRACE_R?(e.advance(),e.advance(),[]):So(e,_r.BRACE_L)?To(e,_r.BRACE_L,lo,_r.BRACE_R):[]}function lo(e){var t=e.token,n=so(e),r=Ur(e),o=fo(e);Eo(e,_r.COLON);var i=no(e),s=eo(e,!0);return{kind:Nr.FIELD_DEFINITION,description:n,name:r,arguments:o,type:i,directives:s,loc:bo(e,t)}}function fo(e){return So(e,_r.PAREN_L)?To(e,_r.PAREN_L,ho,_r.PAREN_R):[]}function ho(e){var t=e.token,n=so(e),r=Ur(e);Eo(e,_r.COLON);var o,i=no(e);_o(e,_r.EQUALS)&&(o=Qr(e));var s=eo(e,!0);return{kind:Nr.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:s,loc:bo(e,t)}}function po(e){var t=[];if(_o(e,_r.EQUALS)){_o(e,_r.PIPE);do{t.push(ro(e))}while(_o(e,_r.PIPE))}return t}function yo(e){return So(e,_r.BRACE_L)?To(e,_r.BRACE_L,go,_r.BRACE_R):[]}function go(e){var t=e.token,n=so(e),r=Ur(e),o=eo(e,!0);return{kind:Nr.ENUM_VALUE_DEFINITION,description:n,name:r,directives:o,loc:bo(e,t)}}function vo(e){return So(e,_r.BRACE_L)?To(e,_r.BRACE_L,ho,_r.BRACE_R):[]}function mo(e){var t=e.token,n=Ur(e);if(Mr.hasOwnProperty(n.value))return n;throw Io(e,t)}function bo(e,t){if(!e.options.noLocation)return new wo(t,e.lastToken,e.source)}function wo(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function So(e,t){return e.token.kind===t}function _o(e,t){var n=e.token.kind===t;return n&&e.advance(),n}function Eo(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw gr(e.source,n.start,"Expected ".concat(t,", found ").concat(Er(n)))}function Ao(e,t){var n=e.token;if(n.kind===_r.NAME&&n.value===t)return e.advance(),n;throw gr(e.source,n.start,'Expected "'.concat(t,'", found ').concat(Er(n)))}function Io(e,t){var n=t||e.token;return gr(e.source,n.start,"Unexpected ".concat(Er(n)))}function Oo(e,t,n,r){Eo(e,t);for(var o=[];!_o(e,r);)o.push(n(e));return o}function To(e,t,n,r){Eo(e,t);for(var o=[n(e)];!_o(e,r);)o.push(n(e));return o}wo.prototype.toJSON=wo.prototype.inspect=function(){return{start:this.start,end:this.end}};var Co=function(){return(Co=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},xo=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Po=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},ko=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},No=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Mo=new r.k("GraphQLAPI"),Ro=function(){function e(e){this._api=null,this.Auth=Gt,this.Cache=Bt,this.Credentials=lt.cN,this._options=e,Mo.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,o=ko(t,["API"]),i=Co(Co({},o),r);return Mo.debug("configure GraphQL API",{opt:i}),i.aws_project_region&&(i=Object.assign({},i,{region:i.aws_project_region,header:{}})),void 0!==i.graphql_headers&&"function"!=typeof i.graphql_headers&&(Mo.warn("graphql_headers should be a function"),i.graphql_headers=void 0),this._options=Object.assign({},this._options,i),this.createInstance(),this._options},e.prototype.createInstance=function(){return Mo.debug("create Rest instance"),this._options?(this._api=new Hn(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e){return xo(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,u;return Po(this,(function(c){switch(c.label){case 0:switch(t=this._options,n=t.aws_appsync_authenticationType,r=t.aws_appsync_apiKey,o={},e||n||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,9]}return[3,11];case 1:if(!r)throw new Error("No api-key configured");return o={Authorization:null,"X-Api-Key":r},[3,12];case 2:return[4,this._ensureCredentials()];case 3:if(!c.sent())throw new Error("No credentials");return[3,12];case 4:return i=void 0,[4,Bt.getItem("federatedInfo")];case 5:return(s=c.sent())?(i=s.token,[3,8]):[3,6];case 6:return[4,Gt.currentAuthenticatedUser()];case 7:(a=c.sent())&&(i=a.token),c.label=8;case 8:if(!i)throw new Error("No federated jwt");return o={Authorization:i},[3,12];case 9:return[4,this.Auth.currentSession()];case 10:return u=c.sent(),o={Authorization:u.getAccessToken().getJwtToken()},[3,12];case 11:return o={Authorization:null},[3,12];case 12:return[2,o]}}))}))},e.prototype.getGraphqlOperationType=function(e){var t=Rr(e);return No(t.definitions,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,o=void 0===r?{}:r,i=e.authMode,s=Rr("string"==typeof n?n:rr(n)),a=No(s.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],u=(void 0===a?{}:a).operation;switch(u){case"query":case"mutation":var c=this._api.getCancellableToken(),l={cancellableToken:c},f=this._graphql({query:s,variables:o,authMode:i},t,l);return this._api.updateRequestToBeCancellable(f,c),f;case"subscription":return this._graphqlSubscribe({query:s,variables:o,authMode:i},t)}throw new Error("invalid operation type: "+u)},e.prototype._graphql=function(e,t,n){var r=e.query,o=e.variables,i=e.authMode;return void 0===t&&(t={}),void 0===n&&(n={}),xo(this,void 0,void 0,(function(){var e,s,a,u,c,l,f,h,d,p,y,g,v,m,b,w,S,_,E,A,I;return Po(this,(function(O){switch(O.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:O.sent(),O.label=2;case 2:return e=this._options,s=e.aws_appsync_region,a=e.aws_appsync_graphqlEndpoint,u=e.graphql_headers,c=void 0===u?function(){return{}}:u,l=e.graphql_endpoint,f=e.graphql_endpoint_iam_region,d=[{}],(p=!l)?[4,this._headerBasedAuth(i)]:[3,4];case 3:p=O.sent(),O.label=4;case 4:return y=[Co.apply(void 0,d.concat([p]))],(g=l)?f?[4,this._headerBasedAuth(i)]:[3,6]:[3,8];case 5:return v=O.sent(),[3,7];case 6:v={Authorization:null},O.label=7;case 7:g=v,O.label=8;case 8:return m=[Co.apply(void 0,y.concat([g]))],[4,c({query:r,variables:o})];case 9:if(h=Co.apply(void 0,[Co.apply(void 0,[Co.apply(void 0,m.concat([O.sent()])),t]),!l&&(I={},I["x-amz-user-agent"]=ft.userAgent,I)]),b={query:rr(r),variables:o},w=Object.assign({headers:h,body:b,signerServiceInfo:{service:l?"execute-api":"appsync",region:l?f:s}},n),!(S=l||a))throw{data:{},errors:[new et("No graphql endpoint provided.")]};O.label=10;case 10:return O.trys.push([10,12,,13]),[4,this._api.post(S,w)];case 11:return _=O.sent(),[3,13];case 12:if(E=O.sent(),this._api.isCancel(E))throw E;return _={data:{},errors:[new et(E.message,null,null,null,null,E)]},[3,13];case 13:if((A=_.errors)&&A.length)throw _;return[2,_]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,o=e.authMode;void 0===t&&(t={});var i=this._options,s=i.aws_appsync_region,a=i.aws_appsync_graphqlEndpoint,u=i.aws_appsync_authenticationType,c=i.aws_appsync_apiKey,l=i.graphql_headers,f=void 0===l?function(){return{}}:l,h=o||u||"AWS_IAM";if(fn&&"function"==typeof fn.subscribe)return fn.subscribe("",{provider:Ce,appSyncGraphqlEndpoint:a,authenticationType:h,apiKey:c,query:rr(n),region:s,variables:r,graphql_headers:f,additionalHeaders:t});throw Mo.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return Mo.debug("set credentials for api",n),!0})).catch((function(e){return Mo.warn("ensure credentials error",e),!1}))},e}(),Uo=new Ro(null);s.dQ.register(Uo);var Do=function(){return(Do=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Lo=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},$o=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},jo=new r.k("API"),Fo=new(function(){function e(e){this.Auth=qt.g,this.Cache=Bt,this.Credentials=lt.cN,this._options=e,this._restApi=new Qn(e),this._graphqlApi=new Ro(e),jo.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return Do(Do({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.cancel(e,t)},e.prototype.endpoint=function(e){return Lo(this,void 0,void 0,(function(){return $o(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}())(null);s.dQ.register(Fo);const Bo=Fo;var qo,Go=function(){return(Go=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},zo=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ho=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Vo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ko=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Wo=new r.k("DataStore"),Yo=function(){function e(e,t,n,r,o,i,s,a){this.schema=e,this.storage=t,this.userClasses=n,this.outbox=r,this.modelInstanceCreator=o,this.MutationEvent=i,this.conflictHandler=s,this.errorHandler=a,this.typeQuery=new WeakMap,this.processing=!1,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=Ko(Tn(t,n,"CREATE"),1)[0],o=Ko(Tn(t,n,"UPDATE"),1)[0],i=Ko(Tn(t,n,"DELETE"),1)[0];e.typeQuery.set(n,[r,o,i])}))}))},e.prototype.isReady=function(){return void 0!==this.observer},e.prototype.start=function(){var e=this;return new ue((function(t){return e.observer=t,e.resume(),function(){e.pause()}}))},e.prototype.resume=function(){return zo(this,void 0,void 0,(function(){var e,t,n,r,o,i=this;return Ho(this,(function(s){switch(s.label){case 0:if(this.processing||!this.isReady())return[2];this.processing=!0,t=ye.xR,n=function(){var n,o,s,a,u,c,l,f,h,d,p,y;return Ho(this,(function(g){switch(g.label){case 0:n=e.model,o=e.operation,s=e.data,a=e.condition,u=r.userClasses[n],c=void 0,l=void 0,f=void 0,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,r.jitteredRetry(t,n,o,s,a,u,r.MutationEvent,e)];case 2:return y=Ko.apply(void 0,[g.sent(),3]),c=y[0],l=y[1],f=y[2],[3,4];case 3:return"Offline"===(h=g.sent()).message||"RetryMutation"===h.message?[2,"continue"]:[3,4];case 4:return void 0!==c?[3,6]:(Wo.debug("done retrying"),[4,r.storage.runExclusive((function(e){return zo(i,void 0,void 0,(function(){return Ho(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e)];case 1:return t.sent(),[2]}}))}))}))]);case 5:return g.sent(),[2,"continue"];case 6:return d=c.data[l],p=!1,[4,r.storage.runExclusive((function(e){return zo(i,void 0,void 0,(function(){return Ho(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e,d,o)];case 1:return t.sent(),[4,this.outbox.peek(e)];case 2:return p=void 0!==t.sent(),[2]}}))}))}))];case 7:return g.sent(),r.observer.next({operation:o,modelDefinition:f,model:d,hasMore:p}),[2]}}))},r=this,s.label=1;case 1:return(o=this.processing)?[4,this.outbox.peek(this.storage)]:[3,3];case 2:o=void 0!==(e=s.sent()),s.label=3;case 3:return o?[5,n()]:[3,5];case 4:return s.sent(),[3,1];case 5:return this.pause(),[2]}}))}))},e.prototype.jitteredRetry=function(e,t,n,r,o,i,s,a){return zo(this,void 0,void 0,(function(){var u=this;return Ho(this,(function(c){switch(c.label){case 0:return[4,(0,ht.Xm)((function(t,n,r,o,i,s,a){return zo(u,void 0,void 0,(function(){var u,c,l,f,h,d,p,y,g,v,m,b,w,S,_,E,A,I,O,T,C,x,P,k;return Ho(this,(function(N){switch(N.label){case 0:u=Ko(this.createQueryVariables(e,t,n,r,o),5),c=u[0],l=u[1],f=u[2],h=u[3],d=u[4],p={query:c,variables:l},y=0,g=this.opTypeFromTransformerOperation(n),N.label=1;case 1:return N.trys.push([1,3,,13]),[4,Bo.graphql(p)];case 2:return[2,[N.sent(),h,d]];case 3:if(!((v=N.sent()).errors&&v.errors.length>0))return[3,12];if(m=Ko(v.errors,1),b=m[0],w=b.originalError,S=(void 0===w?{}:w).code,_=void 0===S?null:S,"Network Error"===b.message||"ECONNABORTED"===_){if(!this.processing)throw new ht.V2("Offline");throw new Error("Network Error")}return"ConflictUnhandled"!==b.errorType?[3,11]:(y++,E=void 0,y>10?(E=pe.K5,[3,7]):[3,4]);case 4:return N.trys.push([4,6,,7]),[4,this.conflictHandler({modelConstructor:i,localModel:this.modelInstanceCreator(i,l.input),remoteModel:this.modelInstanceCreator(i,b.data),operation:g,attempts:y})];case 5:return E=N.sent(),[3,7];case 6:return A=N.sent(),Wo.warn("conflict trycatch",A),[3,13];case 7:return E!==pe.K5?[3,9]:(I=Ko(Tn(this.schema.namespaces[e],d,"GET"),1),O=Ko(I[0],3),T=O[1],C=O[2],[4,Bo.graphql({query:C,variables:{id:l.input.id}})]);case 8:return[2,[N.sent(),T,d]];case 9:return x=this.schema.namespaces[e],P=Cn(x.relationships,0,g,i,E,f,s,this.modelInstanceCreator,a.id),[4,this.storage.save(P)];case 10:throw N.sent(),new ht.V2("RetryMutation");case 11:try{this.errorHandler({localModel:this.modelInstanceCreator(i,l.input),message:b.message,operation:n,errorType:b.errorType,errorInfo:b.errorInfo,remoteModel:b.data?this.modelInstanceCreator(i,b.data):null})}catch(e){Wo.warn("failed to execute errorHandler",e)}finally{return[2,b.data?[{data:(k={},k[h]=b.data,k)},h,d]:[]]}N.label=12;case 12:return[3,13];case 13:if(p)return[3,1];N.label=14;case 14:return[2]}}))}))}),[t,n,r,o,i,s,a])];case 1:return[2,c.sent()]}}))}))},e.prototype.createQueryVariables=function(e,t,n,r,o){var i=this.schema.namespaces[e].models[t],s=this.typeQuery.get(i),a=Ko(s.find((function(e){return Ko(e,1)[0]===n})),3),u=a[1],c=a[2],l=JSON.parse(r),f=l._version,h=Vo(l,["_version"]),d=n===vn.DELETE?{id:h.id}:Object.values(i.fields).filter((function(e){var t=e.name,r=e.type,o=e.association;return(0,pe.I7)(r)?!(!(0,pe.Fr)(o)||"BELONGS_TO"!==o.connectionType):n!==vn.UPDATE||h.hasOwnProperty(t)})).map((function(e){var t=e.name,n=e.type,r=e.association,o=t,i=h[t];return(0,pe.I7)(n)&&(0,pe.Fr)(r)&&(o=r.targetName,i=h[o]),[o,i]})).reduce((function(e,t){var n=Ko(t,2),r=n[0],o=n[1];return e[r]=o,e}),{}),p=Go(Go({},d),{_version:f}),y=JSON.parse(o);return[c,Go({input:p},n===vn.CREATE?{}:{condition:Object.keys(y).length>0?y:null}),y,u,i]},e.prototype.opTypeFromTransformerOperation=function(e){switch(e){case vn.CREATE:return pe.HP.INSERT;case vn.DELETE:return pe.HP.DELETE;case vn.UPDATE:return pe.HP.UPDATE;case vn.GET:break;default:(0,ye.y0)(e)}},e.prototype.pause=function(){this.processing=!1},e}();!function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS"}(qo||(qo={}));var Jo,Qo,Zo=function(){return(Zo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Xo=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ei=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},ti=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},ni=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ti(arguments[t]));return e},ri=new r.k("DataStore");!function(e){e.CONNECTED="CONNECTED"}(Jo||(Jo={})),function(e){e[e.none=0]="none",e[e.unauth=1]="unauth",e[e.auth=2]="auth"}(Qo||(Qo={}));var oi,ii=function(){function e(e,t,n){void 0===n&&(n={}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.typeQuery=new WeakMap,this.buffer=[]}return e.prototype.buildSubscription=function(e,t,n,r,o,i){var s=this.amplifyConfig.aws_appsync_authenticationType,a=this.getAuthorizationInfo(t,r,s,o,i)||{},u=a.authMode,c=a.isOwner,l=a.ownerField,f=a.ownerValue,h=ti(function(e,t,n,r,o){var i=In(e,t),s=t.name,a=(t.pluralName,"on"+n+s),u="",c="";return r&&(u="($"+o+": String!)",c="("+o+": $"+o+")"),[n,a,"subscription operation"+u+"{\n\t\t\t"+a+c+"{\n\t\t\t\t"+i+"\n\t\t\t}\n\t\t}"]}(e,t,n,c,l),3);return{authMode:u,opType:h[0],opName:h[1],query:h[2],isOwner:c,ownerField:l,ownerValue:f}},e.prototype.getAuthorizationInfo=function(e,t,n,r,o){void 0===r&&(r={}),void 0===o&&(o={});var i,s,a,u,c=(s=([].concat((i=e).attributes).find((function(e){return e&&"auth"===e.type}))||{}).properties,a=(void 0===s?{}:s).rules,u=[],(void 0===a?[]:a).forEach((function(e){var t=e.identityClaim,n=void 0===t?"cognito:username":t,r=e.ownerField,o=void 0===r?"owner":r,s=e.operations,a=void 0===s?["create","update","delete","read"]:s,c=e.provider,l=void 0===c?"userPools":c,f=e.groupClaim,h=void 0===f?"cognito:groups":f,d=e.allow,p=void 0===d?"iam":d,y=e.groups,g=void 0===y?[]:y,v="owner"===p;if(a.includes("read")||v){var m={identityClaim:n,ownerField:o,provider:l,groupClaim:h,authStrategy:p,groups:g,areSubscriptionsPublic:!1};if(v){var b=([].concat(i.attributes).find((function(e){return e&&"model"===e.type}))||{}).properties,w=(void 0===b?{}:b).subscriptions,S=(void 0===w?{}:w).level,_=void 0===S?"on":S;m.areSubscriptionsPublic=!a.includes("read")||"public"===_}v?u.push(m):u.unshift(m)}})),u);if(n===qo.AWS_IAM&&c.find((function(e){return"private"===e.authStrategy&&"iam"===e.provider}))&&t===Qo.unauth)return null;var l,f=c.filter((function(e){return"groups"===e.authStrategy&&["userPools","oidc"].includes(e.provider)}));return n!==qo.AMAZON_COGNITO_USER_POOLS&&n!==qo.OPENID_CONNECT||!f.find((function(e){var t=kn(r,e),n=kn(o,e);return ni(t,n).find((function(t){return e.groups.find((function(e){return e===t}))}))}))?((n===qo.AMAZON_COGNITO_USER_POOLS?c.filter((function(e){return"owner"===e.authStrategy&&"userPools"===e.provider})):[]).forEach((function(e){var t=r[e.identityClaim];t&&(l={authMode:qo.AMAZON_COGNITO_USER_POOLS,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),l||((n===qo.OPENID_CONNECT?c.filter((function(e){return"owner"===e.authStrategy&&"oidc"===e.provider})):[]).forEach((function(e){var t=o[e.identityClaim];t&&(l={authMode:qo.OPENID_CONNECT,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),l||{authMode:n,isOwner:!1})):{authMode:n,isOwner:!1}},e.prototype.hubQueryCompletionListener=function(e,t){t.payload.event===tn.SUBSCRIPTION_ACK&&e()},e.prototype.start=function(){var e=this;return[new ue((function(t){var n,r,o=[],s=[],a=Qo.none;return Xo(e,void 0,void 0,(function(){var e,u,c,l,f,h,d,p,y,g,v=this;return ei(this,(function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,Gt.currentCredentials()];case 1:return e=m.sent(),a=e.authenticated?Qo.auth:Qo.unauth,[3,3];case 2:return m.sent(),[3,3];case 3:return m.trys.push([3,5,,6]),[4,Gt.currentSession()];case 4:return u=m.sent(),n=u.getIdToken().decodePayload(),[3,6];case 5:return m.sent(),[3,6];case 6:if(m.trys.push([6,11,,12]),c=this.amplifyConfig,l=c.aws_cognito_region,f=c.Auth,!l||f&&!f.region)throw"Auth is not configured";return h=void 0,[4,Bt.getItem("federatedInfo")];case 7:return(d=m.sent())?(h=d.token,[3,10]):[3,8];case 8:return[4,Gt.currentAuthenticatedUser()];case 9:(p=m.sent())&&(h=p.token),m.label=10;case 10:return h&&(y=h.split(".")[1],r=JSON.parse(Buffer.from(y,"base64").toString("utf8"))),[3,12];case 11:return g=m.sent(),ri.debug("error getting OIDC JWT",g),[3,12];case 12:return Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(u){return Xo(v,void 0,void 0,(function(){var c=this;return ei(this,(function(l){return[vn.CREATE,vn.UPDATE,vn.DELETE].map((function(t){return c.buildSubscription(e,u,t,a,n,r)})).forEach((function(e){var n=e.opType,r=e.opName,a=e.query,l=e.isOwner,f=e.ownerField,h=e.ownerValue,d=e.authMode;return Xo(c,void 0,void 0,(function(){var e,c,p,y=this;return ei(this,(function(g){if(e={},l){if(!h)return t.error("Owner field required, sign in is needed in order to perform this operation"),[2];e[f]=h}return c=Bo.graphql(Zo({query:a,variables:e},{authMode:d})),s.push(c.map((function(e){return e.value})).subscribe({next:function(e){var t=e.data,o=e.errors;if(Array.isArray(o)&&o.length>0){var i=o.map((function(e){return e.message}));return ri.warn("Skipping incoming subscription. Messages: "+i.join("\n")),void y.drainBuffer()}var s=ce.OY.getPredicates(y.syncPredicates.get(u),!1),a=t[r];y.passesPredicateValidation(a,s)&&y.pushToBuffer(n,u,a),y.drainBuffer()},error:function(e){var n=e.error,r=ti((void 0===n?{errors:[]}:n).errors,1)[0],o=(void 0===r?{}:r).message,i=void 0===o?"":o;ri.warn("subscriptionError",i),"function"==typeof p&&p(),i.includes('"errorType":"Unauthorized"')||i.includes('"errorType":"OperationDisabled"')||t.error(i)}})),o.push(Xo(y,void 0,void 0,(function(){var e,t=this;return ei(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){p=n,e=t.hubQueryCompletionListener.bind(t,n),i.Xb.listen("api",e)}))];case 1:return n.sent(),i.Xb.remove("api",e),[2]}}))}))),[2]}))}))})),[2]}))}))}))})),Promise.all(o).then((function(){return t.next(Jo.CONNECTED)})),[2]}}))})),function(){s.forEach((function(e){return e.unsubscribe()}))}})),new ue((function(t){return e.dataObserver=t,e.drainBuffer(),function(){e.dataObserver=null}}))]},e.prototype.passesPredicateValidation=function(e,t){if(!t)return!0;var n=t.predicates,r=t.type;return(0,ye.u8)(e,r,n)},e.prototype.pushToBuffer=function(e,t,n){this.buffer.push([e,t,n])},e.prototype.drainBuffer=function(){var e=this;this.dataObserver&&(this.buffer.forEach((function(t){return e.dataObserver.next(t)})),this.buffer=[])},e}(),si=function(){return(si=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ai=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ui=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},ci=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},li=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},fi=new r.k("DataStore"),hi=function(){function e(e,t,n,r){void 0===t&&(t=1e4),void 0===n&&(n=1e3),this.schema=e,this.maxRecordsToSync=t,this.syncPageSize=n,this.syncPredicates=r,this.typeQuery=new WeakMap,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=ci(Tn(t,n,"LIST"),1),o=ci(r[0]).slice(1);e.typeQuery.set(n,o)}))}))},e.prototype.graphqlFilterFromPredicate=function(e){if(!this.syncPredicates)return null;var t=ce.OY.getPredicates(this.syncPredicates.get(e),!1);return t?Pn(t):null},e.prototype.retrievePage=function(e,t,n,r,o){return void 0===r&&(r=null),ai(this,void 0,void 0,(function(){var i,s,a,u,c,l,f,h,d;return ui(this,(function(p){switch(p.label){case 0:return i=ci(this.typeQuery.get(e),2),s=i[0],a=i[1],u={limit:r,nextToken:n,lastSync:t,filter:o},[4,this.jitteredRetry({query:a,variables:u,opName:s,modelDefinition:e})];case 1:return c=p.sent().data,l=c[s],f=l.items,h=l.nextToken,d=l.startedAt,[2,{nextToken:h,startedAt:d,items:f}]}}))}))},e.prototype.partialDataFeatureFlagEnabled=function(){try{var e=sessionStorage.getItem("datastorePartialData");return Boolean(e)}catch(e){return!1}},e.prototype.jitteredRetry=function(e){var t=e.query,n=e.variables,r=e.opName,o=e.modelDefinition;return ai(this,void 0,void 0,(function(){var e=this;return ui(this,(function(s){switch(s.label){case 0:return[4,(0,ht.Xm)((function(t,n){return ai(e,void 0,void 0,(function(){var e,s,a,u;return ui(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Bo.graphql({query:t,variables:n})];case 1:return[2,c.sent()];case 2:if(e=c.sent(),s=Boolean(e&&e.data&&e.data[r]&&e.data[r].items),this.partialDataFeatureFlagEnabled()){if(s)return(a=e).data[r].items=a.data[r].items.filter((function(e){return null!==e})),e.errors&&i.Xb.dispatch("datastore",{event:"syncQueriesPartialSyncError",data:{errors:e.errors,modelName:o.name}}),[2,a];throw e}if(e.errors.some((function(e){return"Unauthorized"===e.errorType})))return a=e,u={items:[],nextToken:null,startedAt:null},s?a.data[r].items=a.data[r].items.filter((function(e){return null!==e})):a.data[r]=si(si({},u),a.data[r]),fi.warn("queryError","User is unauthorized to query "+r+", some items could not be returned."),[2,a];throw e;case 3:return[2]}}))}))}),[t,n])];case 1:return[2,s.sent()]}}))}))},e.prototype.start=function(e){var t=this,n=!0,r=void 0!==this.maxRecordsToSync?this.maxRecordsToSync:1e4,o=void 0!==this.syncPageSize?this.syncPageSize:1e3,i=new Map;return new ue((function(s){var a=Object.values(t.schema.namespaces).reduce((function(t,n){var r,o;try{for(var i=li(Array.from(n.modelTopologicalOrdering.keys())),s=i.next();!s.done;s=i.next()){var a=s.value,u=e.get(n.models[a]);t.set(n.models[a],u)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return t}),new Map),u=Array.from(a.entries()).filter((function(e){return ci(e,1)[0].syncable})).map((function(e){var a=ci(e,2),u=a[0],c=ci(a[1],2),l=c[0],f=c[1];return ai(t,void 0,void 0,(function(){var e,t,a,c,h,d,p,y,g,v=this;return ui(this,(function(m){switch(m.label){case 0:return e=!1,t=null,a=null,c=null,h=0,d=this.graphqlFilterFromPredicate(u),p=this.schema.namespaces[l].modelTopologicalOrdering.get(u.name),y=p.map((function(e){return i.get(l+"_"+e)})),g=new Promise((function(i){return ai(v,void 0,void 0,(function(){var p,g;return ui(this,(function(v){switch(v.label){case 0:return[4,Promise.all(y)];case 1:v.sent(),v.label=2;case 2:return n?(p=Math.min(r-h,o),[4,this.retrievePage(u,f,t,p,d)]):[2];case 3:g=v.sent(),c=g.items,t=g.nextToken,a=g.startedAt,h+=c.length,e=null===t||h>=r,s.next({namespace:l,modelDefinition:u,items:c,done:e,startedAt:a,isFullSync:!f}),v.label=4;case 4:if(!e)return[3,2];v.label=5;case 5:return i(),[2]}}))}))})),i.set(l+"_"+u.name,g),[4,g];case 1:return m.sent(),[2]}}))}))}));return Promise.all(u).then((function(){s.complete()})),function(){n=!1}}))},e}(),di=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},pi=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},yi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},gi=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vi=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(yi(arguments[t]));return e},mi=(0,o.lC)().isNode,bi=new r.k("DataStore"),wi=Symbol("sync");!function(e){e.SYNC_ENGINE_STORAGE_SUBSCRIBED="storageSubscribed",e.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED="subscriptionsEstablished",e.SYNC_ENGINE_SYNC_QUERIES_STARTED="syncQueriesStarted",e.SYNC_ENGINE_SYNC_QUERIES_READY="syncQueriesReady",e.SYNC_ENGINE_MODEL_SYNCED="modelSynced",e.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED="outboxMutationEnqueued",e.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED="outboxMutationProcessed",e.SYNC_ENGINE_OUTBOX_STATUS="outboxStatus",e.SYNC_ENGINE_NETWORK_STATUS="networkStatus",e.SYNC_ENGINE_READY="ready"}(oi||(oi={}));var Si=function(){function e(e,t,n,r,o,i,s,a,u,c,l,f){void 0===f&&(f={}),this.schema=e,this.namespaceResolver=t,this.modelClasses=n,this.userModelClasses=r,this.storage=o,this.modelInstanceCreator=i,this.maxRecordsToSync=s,this.syncPageSize=a,this.syncPredicates=l,this.amplifyConfig=f,this.online=!1;var h=this.modelClasses.MutationEvent;this.outbox=new Ln(this.schema,h,i,wi),this.modelMerger=new Sn(this.outbox,wi),this.syncQueriesProcessor=new hi(this.schema,this.maxRecordsToSync,this.syncPageSize,this.syncPredicates),this.subscriptionsProcessor=new ii(this.schema,this.syncPredicates,this.amplifyConfig),this.mutationsProcessor=new Yo(this.schema,this.storage,this.userModelClasses,this.outbox,this.modelInstanceCreator,h,u,c),this.datastoreConnectivity=new yn}return e.prototype.start=function(e){var t=this;return new ue((function(n){bi.log("starting sync engine...");var r=[];return di(t,void 0,void 0,(function(){var t,o,i,s=this;return pi(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.setupModels(e)];case 1:return a.sent(),[3,3];case 2:return t=a.sent(),n.error(t),[2];case 3:return o=new Promise((function(e){s.datastoreConnectivity.status().subscribe((function(t){var o=t.online;return di(s,void 0,void 0,(function(){var t,i,s,a,u,c=this;return pi(this,(function(l){switch(l.label){case 0:return!o||this.online?[3,10]:(this.online=o,n.next({type:oi.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),i=void 0,mi?(bi.warn("Realtime disabled when in a server-side environment"),[3,6]):[3,1]);case 1:u=yi(this.subscriptionsProcessor.start(),2),t=u[0],i=u[1],l.label=2;case 2:return l.trys.push([2,4,,5]),[4,new Promise((function(e,n){var o=t.subscribe({next:function(t){t===Jo.CONNECTED&&e()},error:function(e){n(e),c.disconnectionHandler()(e)}});r.push(o)}))];case 3:return l.sent(),[3,5];case 4:return s=l.sent(),n.error(s),[2];case 5:bi.log("Realtime ready"),n.next({type:oi.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED}),l.label=6;case 6:return l.trys.push([6,8,,9]),[4,new Promise((function(e,t){var o=c.syncQueriesObservable().subscribe({next:function(t){t.type===oi.SYNC_ENGINE_SYNC_QUERIES_READY&&e(),n.next(t)},complete:function(){e()},error:function(e){t(e)}});o&&r.push(o)}))];case 7:return l.sent(),[3,9];case 8:return a=l.sent(),n.error(a),[2];case 9:return r.push(this.mutationsProcessor.start().subscribe((function(e){var t=e.modelDefinition,r=e.model,o=e.hasMore,i=c.userModelClasses[t.name],s=c.modelInstanceCreator(i,r);c.storage.runExclusive((function(e){return c.modelMerger.merge(e,s)})),n.next({type:oi.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED,data:{model:i,element:s}}),n.next({type:oi.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!o}})}))),mi||r.push(i.subscribe((function(e){var t=yi(e,3),n=(t[0],t[1]),r=t[2],o=c.userModelClasses[n.name],i=c.modelInstanceCreator(o,r);c.storage.runExclusive((function(e){return c.modelMerger.merge(e,i)}))}))),[3,11];case 10:o||(this.online=o,n.next({type:oi.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),r.forEach((function(e){return e.unsubscribe()})),r=[]),l.label=11;case 11:return e(),[2]}}))}))}))})),this.storage.observe(null,null,wi).filter((function(e){var t=e.model;return!0===s.getModelDefinition(t).syncable})).subscribe({next:function(e){var t=e.opType,r=e.model,i=e.element,a=e.condition;return di(s,void 0,void 0,(function(){var e,s,u,c;return pi(this,(function(l){switch(l.label){case 0:return e=this.schema.namespaces[this.namespaceResolver(r)],s=this.modelClasses.MutationEvent,u=xn(a),c=Cn(e.relationships,this.getModelDefinition(r),t,r,i,u,s,this.modelInstanceCreator),[4,this.outbox.enqueue(this.storage,c)];case 1:return l.sent(),n.next({type:oi.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED,data:{model:r,element:i}}),n.next({type:oi.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!1}}),[4,o];case 2:return l.sent(),this.online&&this.mutationsProcessor.resume(),[2]}}))}))}}),n.next({type:oi.SYNC_ENGINE_STORAGE_SUBSCRIBED}),[4,this.outbox.peek(this.storage)];case 4:return i=void 0===a.sent(),n.next({type:oi.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:i}}),[4,o];case 5:return a.sent(),n.next({type:oi.SYNC_ENGINE_READY}),[2]}}))})),function(){r.forEach((function(e){return e.unsubscribe()}))}}))},e.prototype.getModelsMetadataWithNextFullSync=function(e){return di(this,void 0,void 0,(function(){var t,n=this;return pi(this,(function(r){switch(r.label){case 0:return t=Map.bind,[4,this.getModelsMetadata()];case 1:return[2,new(t.apply(Map,[void 0,r.sent().map((function(t){var r=t.namespace,o=t.model,i=t.lastSync,s=t.lastFullSync,a=t.fullSyncInterval,u=(t.lastSyncPredicate,!s||s+a<e?0:i);return[n.schema.namespaces[r].models[o],[r,u]]}))]))]}}))}))},e.prototype.syncQueriesObservable=function(){var e=this;return this.online?new ue((function(t){var n,r;return di(e,void 0,void 0,(function(){var e,o,i=this;return pi(this,(function(s){switch(s.label){case 0:e=function(){var e,s,a,u,c,l,f,h,d;return pi(this,(function(p){switch(p.label){case 0:return e=new WeakMap,[4,o.getModelsMetadataWithNextFullSync(Date.now())];case 1:return s=p.sent(),a=new Set(s.keys()),[4,new Promise((function(r){n=i.syncQueriesProcessor.start(s).subscribe({next:function(o){var s=o.namespace,d=o.modelDefinition,p=o.items,y=o.done,g=o.startedAt,v=o.isFullSync;return di(i,void 0,void 0,(function(){var o,i,m,b,w,S,_=this;return pi(this,(function(E){switch(E.label){case 0:return o=this.userModelClasses[d.name],e.has(o)||(e.set(o,{new:0,updated:0,deleted:0}),l=(0,ye.Iz)(),h=void 0===h?g:Math.max(h,g)),[4,this.storage.runExclusive((function(t){return di(_,void 0,void 0,(function(){var n,r,i,s,a,u,c,l,f,h,d,y,g,v,m;return pi(this,(function(b){switch(b.label){case 0:return[4,this.outbox.getModelIds(t)];case 1:n=b.sent(),r=[],i=p.filter((function(e){return!n.has(e.id)||(r.push(e),!1)})),s=[],b.label=2;case 2:b.trys.push([2,7,8,9]),a=gi(r),u=a.next(),b.label=3;case 3:return u.done?[3,6]:(c=u.value,[4,this.modelMerger.merge(t,c)]);case 4:void 0!==(l=b.sent())&&s.push([c,l]),b.label=5;case 5:return u=a.next(),[3,3];case 6:return[3,9];case 7:return f=b.sent(),v={error:f},[3,9];case 8:try{u&&!u.done&&(m=a.return)&&m.call(a)}finally{if(v)throw v.error}return[7];case 9:return d=(h=s.push).apply,y=[s],[4,this.modelMerger.mergePage(t,o,i)];case 10:return d.apply(h,y.concat([vi.apply(void 0,[b.sent()])])),g=e.get(o),s.forEach((function(e){var t=yi(e,2)[1];switch(t){case pe.HP.INSERT:g.new++;break;case pe.HP.UPDATE:g.updated++;break;case pe.HP.DELETE:g.deleted++;break;default:(0,ye.y0)(t)}})),[2]}}))}))}))];case 1:return E.sent(),y?(i=d.name,[4,this.getModelMetadata(s,i)]):[3,4];case 2:return m=E.sent(),b=m.lastFullSync,w=m.fullSyncInterval,c=w,u=void 0===u?b:Math.max(u,v?g:b),m=this.modelClasses.ModelMetadata.copyOf(m,(function(e){e.lastSync=g,e.lastFullSync=v?g:m.lastFullSync})),[4,this.storage.save(m,void 0,wi)];case 3:E.sent(),S=e.get(o),t.next({type:oi.SYNC_ENGINE_MODEL_SYNCED,data:{model:o,isFullSync:v,isDeltaSync:!v,counts:S}}),a.delete(d),0===a.size&&(f=(0,ye.Iz)()-l,r(),t.next({type:oi.SYNC_ENGINE_SYNC_QUERIES_READY}),n.unsubscribe()),E.label=4;case 4:return[2]}}))}))},error:function(e){t.error(e)}}),t.next({type:oi.SYNC_ENGINE_SYNC_QUERIES_STARTED,data:{models:Array.from(a).map((function(e){return e.name}))}})}))];case 2:return p.sent(),d=u+c-(h+f),bi.debug("Next fullSync in "+d/1e3+" seconds. ("+new Date(Date.now()+d)+")"),[4,new Promise((function(e){r=setTimeout(e,d)}))];case 3:return p.sent(),[2]}}))},o=this,s.label=1;case 1:return t.closed?[3,3]:[5,e()];case 2:return s.sent(),[3,1];case 3:return[2]}}))})),function(){n&&n.unsubscribe(),r&&clearTimeout(r)}})):ue.of()},e.prototype.disconnectionHandler=function(){var e=this;return function(t){tn.CONNECTION_CLOSED!==t&&tn.TIMEOUT_DISCONNECT!==t||e.datastoreConnectivity.socketDisconnected()}},e.prototype.unsubscribeConnectivity=function(){this.datastoreConnectivity.unsubscribe()},e.prototype.setupModels=function(e){return di(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,u,c,l,f,h,d,p=this;return pi(this,(function(y){switch(y.label){case 0:t=e.fullSyncInterval,n=this.modelClasses.ModelMetadata,r=[],Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(t){r.push([e.name,t])}))})),i=r.map((function(e){var r=yi(e,2),i=r[0],s=r[1];return di(p,void 0,void 0,(function(){var e,r,a,u,c,l,f,h,d;return pi(this,(function(p){switch(p.label){case 0:return[4,this.getModelMetadata(i,s.name)];case 1:return e=p.sent(),r=ce.OY.getPredicates(this.syncPredicates.get(s),!1),a=r?JSON.stringify(r):null,void 0!==e?[3,3]:[4,this.storage.save(this.modelInstanceCreator(n,{model:s.name,namespace:i,lastSync:null,fullSyncInterval:t,lastFullSync:null,lastSyncPredicate:a}),void 0,wi)];case 2:return l=yi.apply(void 0,[p.sent(),1]),f=yi(l[0],1),o=f[0],[3,5];case 3:return u=e.lastSyncPredicate?e.lastSyncPredicate:null,c=u!==a,[4,this.storage.save(this.modelClasses.ModelMetadata.copyOf(e,(function(e){e.fullSyncInterval=t,c&&(e.lastSync=null,e.lastFullSync=null,e.lastSyncPredicate=a)})))];case 4:h=yi.apply(void 0,[p.sent(),1]),d=yi(h[0],1),o=d[0],p.label=5;case 5:return[2,o]}}))}))})),s={},y.label=1;case 1:return y.trys.push([1,6,7,8]),[4,Promise.all(i)];case 2:a=gi.apply(void 0,[y.sent()]),u=a.next(),y.label=3;case 3:if(u.done)return[3,5];c=u.value,l=c.model,s[l]=c,y.label=4;case 4:return u=a.next(),[3,3];case 5:return[3,8];case 6:return f=y.sent(),h={error:f},[3,8];case 7:try{u&&!u.done&&(d=a.return)&&d.call(a)}finally{if(h)throw h.error}return[7];case 8:return[2,s]}}))}))},e.prototype.getModelsMetadata=function(){return di(this,void 0,void 0,(function(){var e;return pi(this,(function(t){switch(t.label){case 0:return e=this.modelClasses.ModelMetadata,[4,this.storage.query(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getModelMetadata=function(e,t){return di(this,void 0,void 0,(function(){var n,r,o;return pi(this,(function(i){switch(i.label){case 0:return n=this.modelClasses.ModelMetadata,r=ce.OY.createFromExisting(this.schema.namespaces[ye.J3].models[n.name],(function(n){return n.namespace("eq",e).model("eq",t)})),[4,this.storage.query(n,r,{page:0,limit:1})];case 1:return o=yi.apply(void 0,[i.sent(),1]),[2,o[0]]}}))}))},e.prototype.getModelDefinition=function(e){var t=this.namespaceResolver(e);return this.schema.namespaces[t].models[e.name]},e.getNamespace=function(){return{name:ye.J3,relationships:{},enums:{OperationType:{name:"OperationType",values:["CREATE","UPDATE","DELETE"]}},nonModels:{},models:{MutationEvent:{name:"MutationEvent",pluralName:"MutationEvents",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},data:{name:"data",type:"String",isRequired:!0,isArray:!1},modelId:{name:"modelId",type:"String",isRequired:!0,isArray:!1},operation:{name:"operation",type:{enum:"Operationtype"},isArray:!1,isRequired:!0},condition:{name:"condition",type:"String",isArray:!1,isRequired:!0}}},ModelMetadata:{name:"ModelMetadata",pluralName:"ModelsMetadata",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},namespace:{name:"namespace",type:"String",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},lastSync:{name:"lastSync",type:"Int",isRequired:!1,isArray:!1},lastFullSync:{name:"lastFullSync",type:"Int",isRequired:!1,isArray:!1},fullSyncInterval:{name:"fullSyncInterval",type:"Int",isRequired:!0,isArray:!1}}}}}},e}(),_i=function(){return(_i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ei=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ai=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ii=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Oi=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ti=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};ie(!0),q();var Ci,xi,Pi,ki,Ni,Mi=new r.k("DataStore"),Ri=(0,ye.c6)(Date.now()),Ui=o.JS.browserOrNode().isNode,Di="schemaVersion",Li=new WeakMap,$i=new WeakMap,ji=function(e){var t=Li.get(e);return Ci.namespaces[t].models[e.name]},Fi=function(e){return(0,ye.hK)(e)&&Li.has(e)},Bi=function(e){return Li.get(e)},qi=function(e){var t;if(void 0!==Ci)return console.warn("The schema has already been initialized"),Pi;Mi.log("validating schema",{schema:e});var n=_i({name:ye.xR},e);Mi.log("DataStore","Init models"),Pi=Gi(n),Mi.log("DataStore","Models initialized");var r={name:ye.cG,relationships:{},enums:{},nonModels:{},models:{Setting:{name:"Setting",pluralName:"Settings",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},key:{name:"key",type:"String",isRequired:!0,isArray:!1},value:{name:"value",type:"String",isRequired:!0,isArray:!1}}}}},o=Ie.getNamespace(),i=Si.getNamespace();return ki=Gi(r),Ni=Gi(o),xi=Gi(i),Ci={namespaces:(t={},t[r.name]=r,t[n.name]=n,t[o.name]=o,t[i.name]=i,t),version:e.version},Object.keys(Ci.namespaces).forEach((function(e){var t,n;Ci.namespaces[e].relationships=(0,ye.YF)(Ci.namespaces[e]);var r=new Map;Object.values(Ci.namespaces[e].models).forEach((function(e){var t=[];Object.values(e.fields).filter((function(t){return t.association&&"BELONGS_TO"===t.association.connectionType&&t.type.model!==e.name})).forEach((function(e){return t.push(e.type.model)})),r.set(e.name,t)}));for(var o=new Map,i=1e3;i>0&&0!==r.size;){if(0===--i)throw new Error("Models are not topologically sortable. Please verify your schema.");try{for(var s=(t=void 0,Oi(Array.from(r.keys()))),a=s.next();!a.done;a=s.next()){var u=a.value,c=r.get(u);c.every((function(e){return o.has(e)}))&&o.set(u,c)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}Array.from(o.keys()).forEach((function(e){return r.delete(e)}))}Ci.namespaces[e].modelTopologicalOrdering=o})),Pi},Gi=function(e){var t={};return Object.entries(e.models).forEach((function(n){var r=Ti(n,2),o=r[0],i=r[1],s=Yi(i);t[o]=s,Li.set(s,e.name)})),Object.entries(e.nonModels||{}).forEach((function(e){var n=Ti(e,2),r=n[0],o=n[1],i=Ji(o);t[r]=i})),t},zi=new WeakSet;function Hi(e,t){return zi.add(t),new e(t)}var Vi,Ki=function(e){return function(t,n){var r=e.fields[t];if(void 0!==r){var o=r.type,i=r.isRequired,s=r.isArrayNullable,a=r.name,u=r.isArray;if((!u&&i||u&&!s)&&null==n)throw new Error("Field "+a+" is required");if((0,pe.BV)(o)){var c=pe.n2.getJSType(o),l=pe.n2.getValidationFunction(o);if(u){var f=c;if(i||(f=c+" | null | undefined"),!Array.isArray(n)&&!s)throw new Error("Field "+a+" should be of type ["+f+"], "+typeof n+" received. "+n);if(!(0,ye.le)(n)&&n.some((function(e){return(0,ye.le)(e)?i:typeof e!==c}))){var h=n.map((function(e){return null===e?"null":typeof e})).join(",");throw new Error("All elements in the "+a+" array should be of type "+f+", ["+h+"] received. "+n)}if(l&&!(0,ye.le)(n))if(!n.map((function(e){return(0,ye.le)(e)?!(!(0,ye.le)(e)||i):l(e)})).every((function(e){return e})))throw new Error("All elements in the "+a+" array should be of type "+o+", validation failed for one or more elements. "+n)}else{if(!i&&void 0===n)return;if(typeof n!==c&&null!==n)throw new Error("Field "+a+" should be of type "+c+", "+typeof n+" received. "+n);if(!(0,ye.le)(n)&&l&&!l(n))throw new Error("Field "+a+" should be of type "+o+", validation failed. "+n)}}}}},Wi=function(e,t,n){var r=Ki(t);Object.entries(e).forEach((function(e){var t=Ti(e,2),o=t[0],i=t[1];r(o,i),n[o]=i}))},Yi=function(e){var t=function(){function n(t){return oe(this,(function(n){Wi(t,e,n);var r=zi.has(t)?t:{},o=r.id,i=r._version,s=r._lastChangedAt,a=r._deleted,u=null!=o?o:e.syncable?(0,se.v4)():Ri();n.id=u,e.syncable&&(n._version=i,n._lastChangedAt=s,n._deleted=a)}))}return n.copyOf=function(t,n){var r,o=Object.getPrototypeOf(t||{}).constructor;if(!Fi(o)){var i="The source object is not a valid model";throw Mi.error(i,{source:t}),new Error(i)}var s=oe(t,(function(r){n(r),r.id=t.id;var o=Ki(e);Object.entries(r).forEach((function(e){var t=Ti(e,2),n=t[0],r=t[1];o(n,r)}))}),(function(e){return r=e}));return r.length&&$i.set(s,[r,t]),s},n.fromJSON=function(n){var r=this;if(Array.isArray(n))return n.map((function(e){return r.fromJSON(e)}));var o=Hi(t,n),i=Ki(e);return Object.entries(o).forEach((function(e){var t=Ti(e,2),n=t[0],r=t[1];i(n,r)})),o},n}();return t[J]=!0,Object.defineProperty(t,"name",{value:e.name}),t},Ji=function(e){var t=function(t){return oe(this,(function(n){Wi(t,e,n)}))};return t[J]=!0,Object.defineProperty(t,"name",{value:e.name}),t};function Qi(e){return"string"==typeof e}function Zi(e){var t=e.localModel,n=e.modelConstructor,r=e.remoteModel._version;return Hi(n,_i(_i({},t),{_version:r}))}function Xi(e){Mi.warn(e)}function es(e,t){var n;switch(e){case ye.cG:n=ki[t];break;case ye.xR:n=Pi[t];break;case ye.J3:n=xi[t];break;case ye.P_:n=Ni[t];break;default:(0,ye.y0)(e)}if(Fi(n))return n;var r="Model name is not valid for namespace. modelName: "+t+", namespace: "+e;throw Mi.error(r),new Error(r)}function ts(e,t){return Ei(this,void 0,void 0,(function(){var n,r,o=this;return Ai(this,(function(i){switch(i.label){case 0:return n=ki.Setting,r=Ci.namespaces[ye.cG].models.Setting,[4,e.runExclusive((function(e){return Ei(o,void 0,void 0,(function(){var o,i;return Ai(this,(function(s){switch(s.label){case 0:return[4,e.query(n,ce.OY.createFromExisting(r,(function(e){return e.key("eq",Di)})),{page:0,limit:1})];case 1:return o=Ti.apply(void 0,[s.sent(),1]),void 0===(i=o[0])||void 0===i.value?[3,4]:JSON.parse(i.value)===t?[3,3]:[4,e.clear(!1)];case 2:s.sent(),s.label=3;case 3:return[3,6];case 4:return[4,e.save(Hi(n,{key:Di,value:JSON.stringify(t)}))];case 5:s.sent(),s.label=6;case 6:return[2]}}))}))}))];case 1:return i.sent(),[2]}}))}))}var ns=new(function(){function e(){var e=this;this.amplifyConfig={},this.syncPredicates=new WeakMap,this.start=function(){return Ei(e,void 0,void 0,(function(){var e,t,n,r=this;return Ai(this,(function(o){switch(o.label){case 0:return void 0!==this.initialized?[3,1]:(Mi.debug("Starting DataStore"),this.initialized=new Promise((function(e,t){r.initResolve=e,r.initReject=t})),[3,3]);case 1:return[4,this.initialized];case 2:return o.sent(),[2];case 3:return this.storage=new Ie(Ci,Bi,es,Hi,void 0,this.sessionId),[4,this.storage.init()];case 4:return o.sent(),[4,ts(this.storage,Ci.version)];case 5:return o.sent(),(e=this.amplifyConfig.aws_appsync_graphqlEndpoint)?(Mi.debug("GraphQL endpoint available",e),t=this,[4,this.processSyncExpressions()]):[3,7];case 6:return t.syncPredicates=o.sent(),this.sync=new Si(Ci,Bi,xi,Pi,this.storage,Hi,this.maxRecordsToSync,this.syncPageSize,this.conflictHandler,this.errorHandler,this.syncPredicates,this.amplifyConfig),n=1e3*this.fullSyncInterval*60,Vi=this.sync.start({fullSyncInterval:n}).subscribe({next:function(e){var t=e.type,n=e.data;t===(Ui?oi.SYNC_ENGINE_SYNC_QUERIES_READY:oi.SYNC_ENGINE_STORAGE_SUBSCRIBED)&&r.initResolve(),i.Xb.dispatch("datastore",{event:t,data:n})},error:function(e){Mi.warn("Sync error",e),r.initReject()}}),[3,8];case 7:Mi.warn("Data won't be synchronized. No GraphQL endpoint configured. Did you forget `Amplify.configure(awsconfig)`?",{config:this.amplifyConfig}),this.initResolve(),o.label=8;case 8:return[4,this.initialized];case 9:return o.sent(),[2]}}))}))},this.query=function(t,n,r){return Ei(e,void 0,void 0,(function(){var e,o,i,s,a;return Ai(this,(function(u){switch(u.label){case 0:return[4,this.start()];case 1:if(u.sent(),!Fi(t))throw e="Constructor is not for a valid model",Mi.error(e,{modelConstructor:t}),new Error(e);return"string"==typeof n&&void 0!==r&&Mi.warn("Pagination is ignored when querying by id"),o=ji(t),i=Qi(n)?ce.OY.createForId(o,n):(0,ce.i)(n)?void 0:ce.OY.createFromExisting(o,n),s=this.processPagination(o,r),Mi.debug("params ready",{modelConstructor:t,predicate:ce.OY.getPredicates(i,!1),pagination:_i(_i({},s),{sort:le.c.getPredicates(s&&s.sort,!1)})}),[4,this.storage.query(t,i,s)];case 2:return a=u.sent(),[2,Qi(n)?a[0]:a]}}))}))},this.save=function(t,n){return Ei(e,void 0,void 0,(function(){var e,r,o,i,s,a,u=this;return Ai(this,(function(c){switch(c.label){case 0:return[4,this.start()];case 1:if(c.sent(),e=$i.get(t),r=t?t.constructor:void 0,!Fi(r))throw o="Object is not an instance of a valid model",Mi.error(o,{model:t}),new Error(o);return i=ji(r),s=ce.OY.createFromExisting(i,n),[4,this.storage.runExclusive((function(n){return Ei(u,void 0,void 0,(function(){return Ai(this,(function(o){switch(o.label){case 0:return[4,n.save(t,s,void 0,e)];case 1:return o.sent(),[2,n.query(r,ce.OY.createForId(i,t.id))]}}))}))}))];case 2:return a=Ti.apply(void 0,[c.sent(),1]),[2,a[0]]}}))}))},this.setConflictHandler=function(t){var n=t.DataStore;return n?n.conflictHandler:e.conflictHandler===Zi&&t.conflictHandler?t.conflictHandler:e.conflictHandler||Zi},this.setErrorHandler=function(t){var n=t.DataStore;return n?n.errorHandler:e.errorHandler===Xi&&t.errorHandler?t.errorHandler:e.errorHandler||Xi},this.delete=function(t,n){return Ei(e,void 0,void 0,(function(){var e,r,o,i,s,a,u,c,l;return Ai(this,(function(f){switch(f.label){case 0:return[4,this.start()];case 1:if(f.sent(),!t)throw u="Model or Model Constructor required",Mi.error(u,{modelOrConstructor:t}),new Error(u);if(!Fi(t))return[3,3];if(i=t,!n)throw u="Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL",Mi.error(u,{idOrCriteria:n}),new Error(u);if("string"==typeof n)e=ce.OY.createForId(ji(i),n);else if(!(e=ce.OY.createFromExisting(ji(i),n))||!ce.OY.isValidPredicate(e))throw u="Criteria required. Do you want to delete all? Pass Predicates.ALL",Mi.error(u,{condition:e}),new Error(u);return[4,this.storage.delete(i,e)];case 2:return r=Ti.apply(void 0,[f.sent(),1]),[2,r[0]];case 3:if(o=t,i=Object.getPrototypeOf(o||{}).constructor,!Fi(i))throw u="Object is not an instance of a valid model",Mi.error(u,{model:o}),new Error(u);if(s=ji(i),a=ce.OY.createForId(s,o.id),n){if("function"!=typeof n)throw u="Invalid criteria",Mi.error(u,{idOrCriteria:n}),new Error(u);e=n(a)}else e=a;return[4,this.storage.delete(o,e)];case 4:return c=Ti.apply(void 0,[f.sent(),1]),l=Ti(c[0],1),[2,l[0]]}}))}))},this.observe=function(t,n){var r,o=t&&Fi(t)?t:void 0;if(t&&void 0===o){var i=t,s=i&&Object.getPrototypeOf(i).constructor;if(Fi(s))return n&&Mi.warn("idOrCriteria is ignored when using a model instance",{model:i,idOrCriteria:n}),e.observe(s,i.id);var a="The model is not an instance of a PersistentModelConstructor";throw Mi.error(a,{model:i}),new Error(a)}if(void 0!==n&&void 0===o){a="Cannot provide criteria without a modelConstructor";throw Mi.error(a,n),new Error(a)}if(o&&!Fi(o)){a="Constructor is not for a valid model";throw Mi.error(a,{modelConstructor:o}),new Error(a)}return r="string"==typeof n?ce.OY.createForId(ji(o),n):o&&ce.OY.createFromExisting(ji(o),n),new ue((function(t){var n;return Ei(e,void 0,void 0,(function(){return Ai(this,(function(e){switch(e.label){case 0:return[4,this.start()];case 1:return e.sent(),n=this.storage.observe(o,r).filter((function(e){var t=e.model;return Bi(t)===ye.xR})).subscribe(t),[2]}}))})),function(){n&&n.unsubscribe()}}))},this.configure=function(t){void 0===t&&(t={});var n=t.DataStore,r=(t.conflictHandler,t.errorHandler,t.maxRecordsToSync),o=t.syncPageSize,i=t.fullSyncInterval,s=t.syncExpressions,a=Ii(t,["DataStore","conflictHandler","errorHandler","maxRecordsToSync","syncPageSize","fullSyncInterval","syncExpressions"]);e.amplifyConfig=_i(_i({},a),e.amplifyConfig),e.conflictHandler=e.setConflictHandler(t),e.errorHandler=e.setErrorHandler(t),e.syncExpressions=n&&n.syncExpressions||e.syncExpressions||s,e.maxRecordsToSync=n&&n.maxRecordsToSync||e.maxRecordsToSync||r,e.syncPageSize=n&&n.syncPageSize||e.syncPageSize||o,e.fullSyncInterval=n&&n.fullSyncInterval||e.fullSyncInterval||i||1440,e.sessionId=e.retrieveSessionId()},this.clear=function(){return Ei(this,void 0,void 0,(function(){return Ai(this,(function(e){switch(e.label){case 0:return void 0===this.storage?[2]:(Vi&&!Vi.closed&&Vi.unsubscribe(),[4,this.storage.clear()]);case 1:return e.sent(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.storage=void 0,this.sync=void 0,this.syncPredicates=new WeakMap,[2]}}))}))},this.stop=function(){return Ei(this,void 0,void 0,(function(){return Ai(this,(function(e){switch(e.label){case 0:return void 0===this.initialized?[3,2]:[4,this.start()];case 1:e.sent(),e.label=2;case 2:return Vi&&!Vi.closed&&Vi.unsubscribe(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.sync=void 0,[2]}}))}))}}return e.prototype.getModuleName=function(){return"DataStore"},e.prototype.processPagination=function(e,t){var n,r=t||{},o=r.limit,i=r.page,s=r.sort;if(void 0!==o||void 0!==i||void 0!==s){if(void 0!==i&&void 0===o)throw new Error("Limit is required when requesting a page");if(void 0!==i){if("number"!=typeof i)throw new Error("Page should be a number");if(i<0)throw new Error("Page can't be negative")}if(void 0!==o){if("number"!=typeof o)throw new Error("Limit should be a number");if(o<0)throw new Error("Limit can't be negative")}return s&&(n=le.c.createFromExisting(e,t.sort)),{limit:o,page:i,sort:n}}},e.prototype.processSyncExpressions=function(){return Ei(this,void 0,void 0,(function(){var e,t=this;return Ai(this,(function(n){switch(n.label){case 0:return this.syncExpressions&&this.syncExpressions.length?[4,Promise.all(this.syncExpressions.map((function(e){return Ei(t,void 0,void 0,(function(){var t,n,r,o,i,s;return Ai(this,(function(a){switch(a.label){case 0:return[4,e];case 1:return t=a.sent(),n=t.modelConstructor,r=t.conditionProducer,o=ji(n),[4,this.unwrapPromise(r)];case 2:return i=a.sent(),(0,ce.i)(i)?[2,[o,null]]:(s=this.createFromCondition(o,i),[2,[o,s]])}}))}))})))]:[2,new WeakMap];case 1:return e=n.sent(),[2,this.weakMapFromEntries(e)]}}))}))},e.prototype.createFromCondition=function(e,t){try{return ce.OY.createFromExisting(e,t)}catch(e){throw Mi.error("Error creating Sync Predicate"),e}},e.prototype.unwrapPromise=function(e){return Ei(this,void 0,void 0,(function(){var t;return Ai(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()];case 2:if((t=n.sent())instanceof TypeError)return[2,e];throw t;case 3:return[2]}}))}))},e.prototype.weakMapFromEntries=function(e){return e.reduce((function(e,t){var n=Ti(t,2),r=n[0],o=n[1];if(e.has(r)){var i=r.name;return Mi.warn("You can only utilize one Sync Expression per model.\n          Subsequent sync expressions for the "+i+" model will be ignored."),e}return o&&e.set(r,o),e}),new WeakMap)},e.prototype.retrieveSessionId=function(){try{var e=sessionStorage.getItem("datastoreSessionId");if(e){var t=this.amplifyConfig.aws_appsync_graphqlEndpoint.split("/")[2];return e+"-"+Ti(t.split("."),1)[0]}}catch(e){return}},e}());s.dQ.register(ns)},1155:(e,t,n)=>{"use strict";n.d(t,{i:()=>i,gA:()=>s,OY:()=>a});var r=n(166),o=new WeakSet;function i(e){return o.has(e)}Symbol("A predicate that matches all records");var s=function(){function e(){}return Object.defineProperty(e,"ALL",{get:function(){var e=function(e){return e};return o.add(e),e},enumerable:!0,configurable:!0}),e}(),a=function(){function e(){}return e.createPredicateBuilder=function(t){var n,o=t.name,i=new Set(Object.keys(t.fields)),s=new Proxy({},n={get:function(t,s,a){var u=s;switch(u){case"and":case"or":case"not":return function(t){var r={type:u,predicates:[]},o=new Proxy({},n);return e.predicateGroupsMap.set(o,r),t(o),e.predicateGroupsMap.get(a).predicates.push(r),a};default:(0,r.y0)(u,!1)}var c=s;if(!i.has(c))throw new Error("Invalid field for model. field: "+c+", model: "+o);return function(t,n){return e.predicateGroupsMap.get(a).predicates.push({field:c,operator:t,operand:n}),a}}});return e.predicateGroupsMap.set(s,{type:"and",predicates:[]}),s},e.isValidPredicate=function(t){return e.predicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.predicateGroupsMap.get(t)},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.createForId=function(t,n){return e.createPredicateBuilder(t).id("eq",n)},e.predicateGroupsMap=new WeakMap,e}()},2623:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var r=function(){function e(){}return e.createPredicateBuilder=function(t){var n=t.name,r=new Set(Object.keys(t.fields)),o=new Proxy({},{get:function(t,o,i){var s=o;if(!r.has(s))throw new Error("Invalid field for model. field: "+s+", model: "+n);return function(t){return e.sortPredicateGroupsMap.get(i).push({field:s,sortDirection:t}),i}}});return e.sortPredicateGroupsMap.set(o,[]),o},e.isValidPredicate=function(t){return e.sortPredicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.sortPredicateGroupsMap.get(t)},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.sortPredicateGroupsMap=new WeakMap,e}()},6436:(e,t,n)=>{"use strict";n.d(t,{l:()=>I});var r=n(4397),o=n(9150),i=n(166),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},c=function(){var e=this;this.db=new Map,this.getAllKeys=function(){return s(e,void 0,void 0,(function(){return a(this,(function(e){return[2,Array.from(this.db.keys())]}))}))},this.multiGet=function(t){return s(e,void 0,void 0,(function(){var e=this;return a(this,(function(n){return[2,t.reduce((function(t,n){return t.push([n,e.db.get(n)]),t}),[])]}))}))},this.multiRemove=function(t,n){return s(e,void 0,void 0,(function(){var e=this;return a(this,(function(r){return t.forEach((function(t){return e.db.delete(t)})),n(),[2]}))}))},this.multiSet=function(t,n){return s(e,void 0,void 0,(function(){var e=this;return a(this,(function(r){return t.forEach((function(t){var n=u(t,2),r=n[0],o=n[1];e.setItem(r,o)})),n(),[2]}))}))},this.setItem=function(t,n){return s(e,void 0,void 0,(function(){return a(this,(function(e){return[2,this.db.set(t,n)]}))}))},this.removeItem=function(t){return s(e,void 0,void 0,(function(){return a(this,(function(e){return[2,this.db.delete(t)]}))}))},this.getItem=function(t){return s(e,void 0,void 0,(function(){return a(this,(function(e){return[2,this.db.get(t)]}))}))}};var l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},h=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},p="@AmplifyDatastore",y="Data",g=new Map;const v=function(){function e(){this._collectionInMemoryIndex=new Map,this.storage=new c}return e.prototype.getCollectionIndex=function(e){return this._collectionInMemoryIndex.has(e)||this._collectionInMemoryIndex.set(e,new Map),this._collectionInMemoryIndex.get(e)},e.prototype.getMonotonicFactory=function(e){return g.has(e)||g.set(e,(0,i.c6)()),g.get(e)},e.prototype.init=function(){return l(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a,u,c,l,g,v,m,b,w,S,_,E,A;return f(this,(function(f){switch(f.label){case 0:return this._collectionInMemoryIndex.clear(),[4,this.storage.getAllKeys()];case 1:e=f.sent(),t=[],f.label=2;case 2:f.trys.push([2,12,13,14]),n=h(e),r=n.next(),f.label=3;case 3:return r.done?[3,11]:(o=r.value,i=d(o.split("::"),5),s=i[0],a=i[1],u=i[2],c=i[3],l=i[4],s!==p?[3,10]:u!==y?[3,9]:(g=void 0,void 0!==l?[3,7]:(v=c,m=this.getMonotonicFactory(a)(),b=this.getLegacyKeyForItem(a,v),w=this.getKeyForItem(a,v,m),[4,this.storage.getItem(b)])));case 4:return S=f.sent(),[4,this.storage.setItem(w,S)];case 5:return f.sent(),[4,this.storage.removeItem(b)];case 6:return f.sent(),g=m,[3,8];case 7:g=c,f.label=8;case 8:return this.getCollectionIndex(a).set(l,g),[3,10];case 9:"Collection"===u&&t.push(o),f.label=10;case 10:return r=n.next(),[3,3];case 11:return[3,14];case 12:return _=f.sent(),E={error:_},[3,14];case 13:try{r&&!r.done&&(A=n.return)&&A.call(n)}finally{if(E)throw E.error}return[7];case 14:return t.length>0?[4,this.storage.multiRemove(t)]:[3,16];case 15:f.sent(),f.label=16;case 16:return[2]}}))}))},e.prototype.save=function(e,t){return l(this,void 0,void 0,(function(){var n,r;return f(this,(function(o){switch(o.label){case 0:return n=this.getCollectionIndex(t).get(e.id)||this.getMonotonicFactory(t)(),r=this.getKeyForItem(t,e.id,n),this.getCollectionIndex(t).set(e.id,n),[4,this.storage.setItem(r,JSON.stringify(e))];case 1:return o.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return l(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,l,p,y,g,v,m,b,w,S,_,E,A,I,O,T=this;return f(this,(function(f){switch(f.label){case 0:if(0===t.length)return[2,[]];n=[],r=this.getCollectionIndex(e),i=new Set,s=new Set,a=[],u={};try{for(c=h(t),l=c.next();!l.done;l=c.next())p=l.value,y=p.id,g=p._deleted,v=r.get(y)||this.getMonotonicFactory(e)(),_=this.getKeyForItem(e,y,v),a.push(_),u[_]={ulid:v,model:p},g?i.add(_):s.add(_)}catch(e){E={error:e}}finally{try{l&&!l.done&&(A=c.return)&&A.call(c)}finally{if(E)throw E.error}}return[4,this.storage.multiGet(a)];case 1:return m=f.sent(),b=m.filter((function(e){return!!d(e,2)[1]})).reduce((function(e,t){var n=d(t,1)[0];return e.add(n)}),new Set),[4,new Promise((function(e,t){if(0!==i.size){var n=Array.from(i);n.forEach((function(e){return r.delete(u[e].model.id)})),T.storage.multiRemove(n,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 2:return f.sent(),[4,new Promise((function(e,t){if(0!==s.size){var n=Array.from(s).map((function(e){return[e,JSON.stringify(u[e].model)]}));s.forEach((function(e){var t=u[e],n=t.model.id,o=t.ulid;r.set(n,o)})),T.storage.multiSet(n,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 3:f.sent();try{for(w=h(a),S=w.next();!S.done;S=w.next())_=S.value,i.has(_)&&b.has(_)?n.push([u[_].model,o.HP.DELETE]):s.has(_)&&n.push([u[_].model,b.has(_)?o.HP.UPDATE:o.HP.INSERT])}catch(e){I={error:e}}finally{try{S&&!S.done&&(O=w.return)&&O.call(w)}finally{if(I)throw I.error}}return[2,n]}}))}))},e.prototype.get=function(e,t){return l(this,void 0,void 0,(function(){var n,r,o;return f(this,(function(i){switch(i.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),[4,this.storage.getItem(r)];case 1:return o=i.sent(),[2,o&&JSON.parse(o)]}}))}))},e.prototype.getOne=function(e,t){return l(this,void 0,void 0,(function(){var n,r,i,s,a,u,c;return f(this,(function(l){switch(l.label){case 0:return n=this.getCollectionIndex(t),r=d(e===o.fI.FIRST?function(){var e,t,r,o,i;try{for(var s=h(n),a=s.next();!a.done;a=s.next()){o=(r=d(a.value,2))[0],i=r[1];break}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return[o,i]}():function(){var e,t,r,o,i;try{for(var s=h(n),a=s.next();!a.done;a=s.next())o=(r=d(a.value,2))[0],i=r[1]}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return[o,i]}(),2),i=r[0],s=r[1],a=this.getKeyForItem(t,i,s),(c=a)?[4,this.storage.getItem(a)]:[3,2];case 1:c=l.sent(),l.label=2;case 2:return[2,(u=c)&&JSON.parse(u)||void 0]}}))}))},e.prototype.getAll=function(e,t){return l(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,l,p,y,g,v,m,b,w,S,_;return f(this,(function(f){switch(f.label){case 0:n=this.getCollectionIndex(e),o=(r=t||{}).page,i=void 0===o?0:o,s=r.limit,a=void 0===s?0:s,u=Math.max(0,i*a)||0,c=a>0?u+a:void 0,l=[],p=0;try{for(y=h(n),g=y.next();!g.done&&(v=d(g.value,2),m=v[0],b=v[1],++p<=u||(l.push(this.getKeyForItem(e,m,b)),p!==c));g=y.next());}catch(e){S={error:e}}finally{try{g&&!g.done&&(_=y.return)&&_.call(y)}finally{if(S)throw S.error}}return[4,this.storage.multiGet(l)];case 1:return w=f.sent(),[2,w.filter((function(e){return d(e,2)[1]})).map((function(e){var t=d(e,2)[1];return JSON.parse(t)}))]}}))}))},e.prototype.delete=function(e,t){return l(this,void 0,void 0,(function(){var n,r;return f(this,(function(o){switch(o.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),this.getCollectionIndex(t).delete(e),[4,this.storage.removeItem(r)];case 1:return o.sent(),[2]}}))}))},e.prototype.clear=function(){return l(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return[4,this.storage.getAllKeys()];case 1:return e=n.sent(),t=e.filter((function(e){return e.startsWith(p)})),[4,this.storage.multiRemove(t)];case 2:return n.sent(),this._collectionInMemoryIndex.clear(),[2]}}))}))},e.prototype.getKeyForItem=function(e,t,n){return this.getKeyPrefixForStoreItems(e)+"::"+n+"::"+t},e.prototype.getLegacyKeyForItem=function(e,t){return this.getKeyPrefixForStoreItems(e)+"::"+t},e.prototype.getKeyPrefixForStoreItems=function(e){return p+"::"+e+"::"+y},e}();var m=n(1155),b=n(2623),w=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},S=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},_=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof E?E(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},E=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},A=new r.k("DataStore"),I=function(){function e(){}return e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return this.getStorename(t,n)},e.prototype.getStorename=function(e,t){return e+"_"+t},e.prototype.setUp=function(e,t,n,r){return w(this,void 0,void 0,(function(){var o,i=this;return S(this,(function(s){switch(s.label){case 0:return this.initPromise?[3,1]:(this.initPromise=new Promise((function(e,t){i.resolve=e,i.reject=t})),[3,3]);case 1:return[4,this.initPromise];case 2:return s.sent(),[2];case 3:this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,s.label=4;case 4:return s.trys.push([4,7,,8]),this.db?[3,6]:(this.db=new v,[4,this.db.init()]);case 5:s.sent(),this.resolve(),s.label=6;case 6:return[3,8];case 7:return o=s.sent(),this.reject(o),[3,8];case 8:return[2]}}))}))},e.prototype.save=function(e,t){var n,r;return w(this,void 0,void 0,(function(){var s,a,u,c,l,f,h,d,p,y,g,v,b,w,E,I,O,T,C,x,P,k,N=this;return S(this,(function(S){switch(S.label){case 0:return s=Object.getPrototypeOf(e).constructor,a=this.getStorenameForModel(s),u=(0,i.jl)(s.name,e,this.schema.namespaces[this.namespaceResolver(s)],this.modelInstanceCreator,this.getModelConstructorByModelName),c=this.namespaceResolver(s),l=new Set,f=Object.values(u).map((function(e){var t=e.modelName,n=e.item,r=e.instance,o=N.getStorename(c,t);return l.add(o),{storeName:o,item:n,instance:r}})),[4,this.db.get(e.id,a)];case 1:if(h=S.sent(),t&&h&&(d=m.OY.getPredicates(t),p=d.predicates,y=d.type,!(0,i.u8)(h,y,p)))throw g="Conditional update failed",A.error(g,{model:h,condition:p}),new Error(g);v=[],S.label=2;case 2:S.trys.push([2,9,10,15]),b=_(f),S.label=3;case 3:return[4,b.next()];case 4:return(w=S.sent()).done?[3,8]:(E=w.value,I=E.storeName,O=E.item,T=E.instance,C=O.id,[4,this.db.get(C,I)]);case 5:return x=S.sent(),P=x?o.HP.UPDATE:o.HP.INSERT,C!==e.id&&P!==o.HP.INSERT?[3,7]:[4,this.db.save(O,I)];case 6:S.sent(),v.push([T,P]),S.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return k=S.sent(),n={error:k},[3,15];case 10:return S.trys.push([10,,13,14]),w&&!w.done&&(r=b.return)?[4,r.call(b)]:[3,12];case 11:S.sent(),S.label=12;case 12:return[3,14];case 13:if(n)throw n.error;return[7];case 14:return[7];case 15:return[2,v]}}))}))},e.prototype.load=function(e,t,n){var r,o,s,a,u,c,l,f,h,d;return w(this,void 0,void 0,(function(){var p,y,g,v,m,b,w,E,A,I,O,T,C,x,P,k,N,M,R=this;return S(this,(function(S){switch(S.label){case 0:if(p=this.schema.namespaces[e],y=p.relationships[t].relationTypes,g=y.map((function(t){var n=t.modelName;return R.getStorename(e,n)})),v=this.getModelConstructorByModelName(e,t),0===g.length)return[2,n.map((function(e){return R.modelInstanceCreator(v,e)}))];S.label=1;case 1:S.trys.push([1,34,35,40]),m=_(y),S.label=2;case 2:return[4,m.next()];case 3:if((b=S.sent()).done)return[3,33];switch(w=b.value,E=w.fieldName,A=w.modelName,I=w.targetName,O=w.relationType,T=this.getStorename(e,A),C=this.getModelConstructorByModelName(e,A),O){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:S.trys.push([4,10,11,16]),r=_(n),S.label=5;case 5:return[4,r.next()];case 6:return(o=S.sent()).done?[3,9]:(P=o.value)[E]?[4,this.db.get(P[E],T)]:[3,8];case 7:k=S.sent(),P[E]=k&&this.modelInstanceCreator(C,k),S.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return x=S.sent(),l={error:x},[3,16];case 11:return S.trys.push([11,,14,15]),o&&!o.done&&(f=r.return)?[4,f.call(r)]:[3,13];case 12:S.sent(),S.label=13;case 13:return[3,15];case 14:if(l)throw l.error;return[7];case 15:return[7];case 16:return[3,32];case 17:S.trys.push([17,23,24,29]),s=_(n),S.label=18;case 18:return[4,s.next()];case 19:return(a=S.sent()).done?[3,22]:(P=a.value)[I]?[4,this.db.get(P[I],T)]:[3,21];case 20:k=S.sent(),P[E]=k&&this.modelInstanceCreator(C,k),delete P[I],S.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return N=S.sent(),h={error:N},[3,29];case 24:return S.trys.push([24,,27,28]),a&&!a.done&&(d=s.return)?[4,d.call(s)]:[3,26];case 25:S.sent(),S.label=26;case 26:return[3,28];case 27:if(h)throw h.error;return[7];case 28:return[7];case 29:case 30:return[3,32];case 31:return(0,i.y0)(O),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return M=S.sent(),u={error:M},[3,40];case 35:return S.trys.push([35,,38,39]),b&&!b.done&&(c=m.return)?[4,c.call(m)]:[3,37];case 36:S.sent(),S.label=37;case 37:return[3,39];case 38:if(u)throw u.error;return[7];case 39:return[7];case 40:return[2,n.map((function(e){return R.modelInstanceCreator(v,e)}))]}}))}))},e.prototype.query=function(e,t,n){return w(this,void 0,void 0,(function(){var r,o,i,s,a,u,c,l=this;return S(this,(function(f){switch(f.label){case 0:return r=this.getStorenameForModel(e),o=this.namespaceResolver(e),i=t&&m.OY.getPredicates(t),s=i&&this.idFromPredicate(i),a=n&&n.sort,u=n&&n.limit,[4,w(l,void 0,void 0,(function(){var e,t,o;return S(this,(function(c){switch(c.label){case 0:return s?[4,this.getById(r,s)]:[3,2];case 1:return[2,(e=c.sent())?[e]:[]];case 2:return i?[4,this.filterOnPredicate(r,i)]:[3,4];case 3:return t=c.sent(),[2,this.inMemoryPagination(t,n)];case 4:return a||u?[4,this.getAll(r)]:[3,6];case 5:return o=c.sent(),[2,this.inMemoryPagination(o,n)];case 6:return[2,this.getAll(r)]}}))}))];case 1:return c=f.sent(),[4,this.load(o,e.name,c)];case 2:return[2,f.sent()]}}))}))},e.prototype.getById=function(e,t){return w(this,void 0,void 0,(function(){return S(this,(function(n){switch(n.label){case 0:return[4,this.db.get(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return w(this,void 0,void 0,(function(){return S(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.idFromPredicate=function(e){var t=e.predicates,n=1===t.length&&t.find((function(e){return(0,o.w5)(e)&&"id"===e.field&&"eq"===e.operator}));return n&&n.operand},e.prototype.filterOnPredicate=function(e,t){return w(this,void 0,void 0,(function(){var n,r,o;return S(this,(function(s){switch(s.label){case 0:return n=t.predicates,r=t.type,[4,this.getAll(e)];case 1:return o=s.sent(),[2,n?o.filter((function(e){return(0,i.u8)(e,r,n)})):o]}}))}))},e.prototype.inMemoryPagination=function(e,t){if(t&&e.length>1){if(t.sort){var n=b.c.getPredicates(t.sort);if(n.length){var r=(0,i.z8)(n);e.sort(r)}}var o=t.page,s=void 0===o?0:o,a=t.limit,u=void 0===a?0:a,c=Math.max(0,s*u)||0,l=u>0?c+u:e.length;return e.slice(c,l)}return e},e.prototype.queryOne=function(e,t){return void 0===t&&(t=o.fI.FIRST),w(this,void 0,void 0,(function(){var n,r;return S(this,(function(o){switch(o.label){case 0:return n=this.getStorenameForModel(e),[4,this.db.getOne(t,n)];case 1:return[2,(r=o.sent())&&this.modelInstanceCreator(e,r)]}}))}))},e.prototype.delete=function(e,t){return w(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,f,h,d,p,y;return S(this,(function(g){switch(g.label){case 0:return n=[],(0,i.hK)(e)?(s=e,a=this.namespaceResolver(s),[4,this.query(s,t)]):[3,8];case 1:return r=g.sent(),p=this.schema.namespaces[a].relationships[s.name].relationTypes,void 0===t?[3,4]:[4,this.deleteTraverse(p,r,s.name,a,n)];case 2:return g.sent(),[4,this.deleteItem(n)];case 3:return g.sent(),y=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,y]];case 4:return[4,this.deleteTraverse(p,r,s.name,a,n)];case 5:return g.sent(),[4,this.deleteItem(n)];case 6:return g.sent(),y=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,y]];case 7:return[3,15];case 8:return o=e,s=Object.getPrototypeOf(o).constructor,a=this.namespaceResolver(s),u=this.getStorenameForModel(s),t?[4,this.db.get(o.id,u)]:[3,11];case 9:if(void 0===(c=g.sent()))return d="Model instance not found in storage",A.warn(d,{model:o}),[2,[[o],[]]];if(l=m.OY.getPredicates(t),f=l.predicates,h=l.type,!(0,i.u8)(c,h,f))throw d="Conditional update failed",A.error(d,{model:c,condition:f}),new Error(d);return p=this.schema.namespaces[a].relationships[s.name].relationTypes,[4,this.deleteTraverse(p,[o],s.name,a,n)];case 10:return g.sent(),[3,13];case 11:return p=this.schema.namespaces[a].relationships[s.name].relationTypes,[4,this.deleteTraverse(p,[o],s.name,a,n)];case 12:g.sent(),g.label=13;case 13:return[4,this.deleteItem(n)];case 14:return g.sent(),y=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[o],y]];case 15:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,o,i,s;return w(this,void 0,void 0,(function(){var a,u,c,l,f,h,d,p,y;return S(this,(function(g){switch(g.label){case 0:g.trys.push([0,17,18,23]),t=_(e),g.label=1;case 1:return[4,t.next()];case 2:if((n=g.sent()).done)return[3,16];a=n.value,u=a.storeName,c=a.items,g.label=3;case 3:g.trys.push([3,9,10,15]),l=_(c),g.label=4;case 4:return[4,l.next()];case 5:return(f=g.sent()).done?[3,8]:(h=f.value)?"object"!=typeof h?[3,7]:(d=h.id,[4,this.db.delete(d,u)]):[3,7];case 6:g.sent(),g.label=7;case 7:return[3,4];case 8:return[3,15];case 9:return p=g.sent(),i={error:p},[3,15];case 10:return g.trys.push([10,,13,14]),f&&!f.done&&(s=l.return)?[4,s.call(l)]:[3,12];case 11:g.sent(),g.label=12;case 12:return[3,14];case 13:if(i)throw i.error;return[7];case 14:return[7];case 15:return[3,1];case 16:return[3,23];case 17:return y=g.sent(),r={error:y},[3,23];case 18:return g.trys.push([18,,21,22]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,20];case 19:g.sent(),g.label=20;case 20:return[3,22];case 21:if(r)throw r.error;return[7];case 22:return[7];case 23:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,o){var s,a,u,c,l,f,h,d,p,y,g,v;return w(this,void 0,void 0,(function(){var m,b,w,E,A,I,O,T,C,x,P,k,N=this;return S(this,(function(S){switch(S.label){case 0:S.trys.push([0,35,36,41]),s=_(e),S.label=1;case 1:return[4,s.next()];case 2:if((a=S.sent()).done)return[3,34];switch(m=a.value,b=m.relationType,w=m.modelName,E=this.getStorename(r,w),A=(0,i.rw)(this.schema.namespaces[r].relationships[w].relationTypes,n)||(0,i.NA)(this.schema.namespaces[r].relationships[w].indexes,m.associatedWith),b){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:S.trys.push([3,10,11,16]),u=_(t),S.label=4;case 4:return[4,u.next()];case 5:return(c=S.sent()).done?[3,9]:(T=c.value,[4,this.db.getAll(E)]);case 6:return C=S.sent(),I=C.filter((function(e){return e[A]===T.id})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[w].relationTypes,I,w,r,o)];case 7:S.sent(),S.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return O=S.sent(),p={error:O},[3,16];case 11:return S.trys.push([11,,14,15]),c&&!c.done&&(y=u.return)?[4,y.call(u)]:[3,13];case 12:S.sent(),S.label=13;case 13:return[3,15];case 14:if(p)throw p.error;return[7];case 15:return[7];case 16:return[3,33];case 17:S.trys.push([17,24,25,30]),l=_(t),S.label=18;case 18:return[4,l.next()];case 19:return(f=S.sent()).done?[3,23]:(T=f.value,[4,this.db.getAll(E)]);case 20:return C=S.sent(),x=C.filter((function(e){return e[A]===T.id})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[w].relationTypes,x,w,r,o)];case 21:S.sent(),S.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return P=S.sent(),g={error:P},[3,30];case 25:return S.trys.push([25,,28,29]),f&&!f.done&&(v=l.return)?[4,v.call(l)]:[3,27];case 26:S.sent(),S.label=27;case 27:return[3,29];case 28:if(g)throw g.error;return[7];case 29:return[7];case 30:case 31:return[3,33];case 32:return(0,i.y0)(b),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return k=S.sent(),h={error:k},[3,41];case 36:return S.trys.push([36,,39,40]),a&&!a.done&&(d=s.return)?[4,d.call(s)]:[3,38];case 37:S.sent(),S.label=38;case 38:return[3,40];case 39:if(h)throw h.error;return[7];case 40:return[7];case 41:return o.push({storeName:this.getStorename(r,n),items:t.map((function(e){return N.modelInstanceCreator(N.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){return w(this,void 0,void 0,(function(){return S(this,(function(e){switch(e.label){case 0:return[4,this.db.clear()];case 1:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return w(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,f,h,d;return S(this,(function(p){switch(p.label){case 0:n=e.name,r=this.namespaceResolver(e),o=this.getStorename(r,n),s=[],a=function(t){var n=t.id,r=(0,i.jl)(e.name,u.modelInstanceCreator(e,t),u.schema.namespaces[u.namespaceResolver(e)],u.modelInstanceCreator,u.getModelConstructorByModelName).find((function(e){return e.instance.id===n})).instance;s.push(r)},u=this;try{for(c=E(t),l=c.next();!l.done;l=c.next())f=l.value,a(f)}catch(e){h={error:e}}finally{try{l&&!l.done&&(d=c.return)&&d.call(c)}finally{if(h)throw h.error}}return[4,this.db.batchSave(o,s)];case 1:return[2,p.sent()]}}))}))},e}();new I},9717:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(4397);let o,i;const s=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,l=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(y(this),t),p(s.get(this))}:function(...t){return p(e.apply(y(this),t))}:function(t,...n){const r=e.call(y(this),t,...n);return u.set(r,t.sort?t.sort():[t]),p(r)}}function d(e){return"function"==typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));a.set(e,t)}(e),t=e,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,f):e);var t}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(p(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&s.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=d(e);return t!==e&&(c.set(e,t),l.set(t,e)),t}const y=e=>l.get(e);function g(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(e,t),a=p(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(p(s.result),e.oldVersion,e.newVersion,p(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),a}function v(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),p(n).then((()=>{}))}const m=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function S(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!m.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let s=i.store;r&&(s=s.index(t.shift()));const a=await s[n](...t);return o&&await i.done,a};return w.set(t,i),i}f=(e=>({...e,get:(t,n,r)=>S(t,n)||e.get(t,n,r),has:(t,n)=>!!S(t,n)||e.has(t,n)}))(f);var _=n(1155),E=n(2623),A=n(9150),I=n(166),O=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},T=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},C=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof x?x(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},x=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},P=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},k=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(P(arguments[t]));return e},N=new r.k("DataStore"),M="amplify-datastore";const R=new(function(){function e(){this.dbName=M}return e.prototype.checkPrivate=function(){return O(this,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,(0,I.D0)().then((function(e){return e}))];case 1:return e.sent()?(N.error("IndexedDB not supported in this browser's private mode"),[2,Promise.reject("IndexedDB not supported in this browser's private mode")]):[2,Promise.resolve()]}}))}))},e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return this.getStorename(t,n)},e.prototype.getStorename=function(e,t){return e+"_"+t},e.prototype.setUp=function(e,t,n,r,o){return O(this,void 0,void 0,(function(){var i,s,a=this;return T(this,(function(u){switch(u.label){case 0:return[4,this.checkPrivate()];case 1:return u.sent(),this.initPromise?[3,2]:(this.initPromise=new Promise((function(e,t){a.resolve=e,a.reject=t})),[3,4]);case 2:return[4,this.initPromise];case 3:u.sent(),u.label=4;case 4:o&&(this.dbName=M+"-"+o),this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,u.label=5;case 5:return u.trys.push([5,8,,9]),this.db?[3,7]:(2,i=this,[4,g(this.dbName,2,{upgrade:function(t,n,r,o){return O(a,void 0,void 0,(function(){var i,s,a,u,c,l,f,h,d,p,y,g,v=this;return T(this,(function(m){switch(m.label){case 0:if(0===n)return Object.keys(e.namespaces).forEach((function(n){var r=e.namespaces[n];Object.keys(r.models).forEach((function(e){var r=v.getStorename(n,e),o=t.createObjectStore(r,{autoIncrement:!0});v.schema.namespaces[n].relationships[e].indexes.forEach((function(e){return o.createIndex(e,e)})),o.createIndex("byId","id",{unique:!0})}))})),[2];if(1!==n||2!==r)return[3,16];m.label=1;case 1:m.trys.push([1,14,,15]),m.label=2;case 2:m.trys.push([2,11,12,13]),i=x(o.objectStoreNames),s=i.next(),m.label=3;case 3:return s.done?[3,10]:(a=s.value,u=o.objectStore(a),c="tmp_"+a,u.name=c,(l=t.createObjectStore(a,{keyPath:void 0,autoIncrement:!0})).createIndex("byId","id",{unique:!0}),[4,u.openCursor()]);case 4:f=m.sent(),h=0,m.label=5;case 5:return f&&f.value?[4,l.put(f.value)]:[3,8];case 6:return m.sent(),[4,f.continue()];case 7:return f=m.sent(),h++,[3,5];case 8:t.deleteObjectStore(c),N.debug(h+" "+a+" records migrated"),m.label=9;case 9:return s=i.next(),[3,3];case 10:return[3,13];case 11:return d=m.sent(),y={error:d},[3,13];case 12:try{s&&!s.done&&(g=i.return)&&g.call(i)}finally{if(y)throw y.error}return[7];case 13:return[3,15];case 14:throw p=m.sent(),N.error("Error migrating IndexedDB data",p),o.abort(),p;case 15:case 16:return[2]}}))}))}})]);case 6:i.db=u.sent(),this.resolve(),u.label=7;case 7:return[3,9];case 8:return s=u.sent(),this.reject(s),[3,9];case 9:return[2]}}))}))},e.prototype._get=function(e,t){return O(this,void 0,void 0,(function(){var n,r;return T(this,(function(o){switch(o.label){case 0:return"string"==typeof e?(r=e,n=this.db.transaction(r,"readonly").store.index("byId")):n=e.index("byId"),[4,n.get(t)];case 1:return[2,o.sent()]}}))}))},e.prototype.save=function(e,t){var n,r;return O(this,void 0,void 0,(function(){var o,i,s,a,u,c,l,f,h,d,p,y,g,v,m,b,w,S,E,O,x,P,M,R,U,D,L=this;return T(this,(function(T){switch(T.label){case 0:return[4,this.checkPrivate()];case 1:return T.sent(),o=Object.getPrototypeOf(e).constructor,i=this.getStorenameForModel(o),s=(0,I.jl)(o.name,e,this.schema.namespaces[this.namespaceResolver(o)],this.modelInstanceCreator,this.getModelConstructorByModelName),a=this.namespaceResolver(o),u=new Set,c=Object.values(s).map((function(e){var t=e.modelName,n=e.item,r=e.instance,o=L.getStorename(a,t);return u.add(o),{storeName:o,item:n,instance:r}})),l=this.db.transaction(k([i],Array.from(u.values())),"readwrite"),f=l.objectStore(i),[4,this._get(f,e.id)];case 2:if(h=T.sent(),t&&h&&(d=_.OY.getPredicates(t),p=d.predicates,y=d.type,!(0,I.u8)(h,y,p)))throw g="Conditional update failed",N.error(g,{model:h,condition:p}),new Error(g);v=[],T.label=3;case 3:T.trys.push([3,11,12,17]),m=C(c),T.label=4;case 4:return[4,m.next()];case 5:return(b=T.sent()).done?[3,10]:(w=b.value,S=w.storeName,E=w.item,O=w.instance,x=l.objectStore(S),P=E.id,[4,this._get(x,P)]);case 6:return M=T.sent(),R=void 0===M?A.HP.INSERT:A.HP.UPDATE,P!==e.id&&R!==A.HP.INSERT?[3,9]:[4,x.index("byId").getKey(E.id)];case 7:return U=T.sent(),[4,x.put(E,U)];case 8:T.sent(),v.push([O,R]),T.label=9;case 9:return[3,4];case 10:return[3,17];case 11:return D=T.sent(),n={error:D},[3,17];case 12:return T.trys.push([12,,15,16]),b&&!b.done&&(r=m.return)?[4,r.call(m)]:[3,14];case 13:T.sent(),T.label=14;case 14:return[3,16];case 15:if(n)throw n.error;return[7];case 16:return[7];case 17:return[4,l.done];case 18:return T.sent(),[2,v]}}))}))},e.prototype.load=function(e,t,n){var r,o,i,s,a,u,c,l,f,h;return O(this,void 0,void 0,(function(){var d,p,y,g,v,m,b,w,S,_,E,A,O,x,P,N,M,R,U,D=this;return T(this,(function(T){switch(T.label){case 0:if(d=this.schema.namespaces[e],p=d.relationships[t].relationTypes,y=p.map((function(t){var n=t.modelName;return D.getStorename(e,n)})),g=this.getModelConstructorByModelName(e,t),0===y.length)return[2,n.map((function(e){return D.modelInstanceCreator(g,e)}))];v=this.db.transaction(k(y),"readonly"),T.label=1;case 1:T.trys.push([1,34,35,40]),m=C(p),T.label=2;case 2:return[4,m.next()];case 3:if((b=T.sent()).done)return[3,33];switch(w=b.value,S=w.fieldName,_=w.modelName,E=w.targetName,A=this.getStorename(e,_),O=v.objectStore(A),x=this.getModelConstructorByModelName(e,_),w.relationType){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:T.trys.push([4,10,11,16]),r=C(n),T.label=5;case 5:return[4,r.next()];case 6:return(o=T.sent()).done?[3,9]:(N=o.value)[S]?[4,this._get(O,N[S])]:[3,8];case 7:M=T.sent(),N[S]=M&&this.modelInstanceCreator(x,M),T.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return P=T.sent(),c={error:P},[3,16];case 11:return T.trys.push([11,,14,15]),o&&!o.done&&(l=r.return)?[4,l.call(r)]:[3,13];case 12:T.sent(),T.label=13;case 13:return[3,15];case 14:if(c)throw c.error;return[7];case 15:return[7];case 16:return[3,32];case 17:T.trys.push([17,23,24,29]),i=C(n),T.label=18;case 18:return[4,i.next()];case 19:return(s=T.sent()).done?[3,22]:(N=s.value)[E]?[4,this._get(O,N[E])]:[3,21];case 20:M=T.sent(),N[S]=M&&this.modelInstanceCreator(x,M),delete N[E],T.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return R=T.sent(),f={error:R},[3,29];case 24:return T.trys.push([24,,27,28]),s&&!s.done&&(h=i.return)?[4,h.call(i)]:[3,26];case 25:T.sent(),T.label=26;case 26:return[3,28];case 27:if(f)throw f.error;return[7];case 28:return[7];case 29:case 30:return[3,32];case 31:return(0,I.y0)(w.relationType),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return U=T.sent(),a={error:U},[3,40];case 35:return T.trys.push([35,,38,39]),b&&!b.done&&(u=m.return)?[4,u.call(m)]:[3,37];case 36:T.sent(),T.label=37;case 37:return[3,39];case 38:if(a)throw a.error;return[7];case 39:return[7];case 40:return[2,n.map((function(e){return D.modelInstanceCreator(g,e)}))]}}))}))},e.prototype.query=function(e,t,n){return O(this,void 0,void 0,(function(){var r,o,i,s,a,u,c,l=this;return T(this,(function(f){switch(f.label){case 0:return[4,this.checkPrivate()];case 1:return f.sent(),r=this.getStorenameForModel(e),o=this.namespaceResolver(e),i=t&&_.OY.getPredicates(t),s=i&&this.idFromPredicate(i),a=n&&n.sort,u=n&&n.limit,[4,O(l,void 0,void 0,(function(){var e,t,o;return T(this,(function(c){switch(c.label){case 0:return s?[4,this.getById(r,s)]:[3,2];case 1:return[2,(e=c.sent())?[e]:[]];case 2:return i?[4,this.filterOnPredicate(r,i)]:[3,4];case 3:return t=c.sent(),[2,this.inMemoryPagination(t,n)];case 4:return a?[4,this.getAll(r)]:[3,6];case 5:return o=c.sent(),[2,this.inMemoryPagination(o,n)];case 6:return u?[2,this.enginePagination(r,n)]:[2,this.getAll(r)]}}))}))];case 2:return c=f.sent(),[4,this.load(o,e.name,c)];case 3:return[2,f.sent()]}}))}))},e.prototype.getById=function(e,t){return O(this,void 0,void 0,(function(){return T(this,(function(n){switch(n.label){case 0:return[4,this._get(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return O(this,void 0,void 0,(function(){return T(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.idFromPredicate=function(e){var t=e.predicates,n=1===t.length&&t.find((function(e){return(0,A.w5)(e)&&"id"===e.field&&"eq"===e.operator}));return n&&n.operand},e.prototype.filterOnPredicate=function(e,t){return O(this,void 0,void 0,(function(){var n,r,o;return T(this,(function(i){switch(i.label){case 0:return n=t.predicates,r=t.type,[4,this.getAll(e)];case 1:return o=i.sent(),[2,n?o.filter((function(e){return(0,I.u8)(e,r,n)})):o]}}))}))},e.prototype.inMemoryPagination=function(e,t){if(t&&e.length>1){if(t.sort){var n=E.c.getPredicates(t.sort);if(n.length){var r=(0,I.z8)(n);e.sort(r)}}var o=t.page,i=void 0===o?0:o,s=t.limit,a=void 0===s?0:s,u=Math.max(0,i*a)||0,c=a>0?u+a:e.length;return e.slice(u,c)}return e},e.prototype.enginePagination=function(e,t){return O(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,l;return T(this,(function(f){switch(f.label){case 0:return t?(r=t.page,o=void 0===r?0:r,i=t.limit,s=void 0===i?0:i,a=Math.max(0,o*s)||0,[4,this.db.transaction(e).objectStore(e).openCursor()]):[3,7];case 1:return(u=f.sent())&&a>0?[4,u.advance(a)]:[3,3];case 2:f.sent(),f.label=3;case 3:c=[],l="number"==typeof s&&s>0,f.label=4;case 4:return u&&u.value?(c.push(u.value),l&&c.length===s?[3,6]:[4,u.continue()]):[3,6];case 5:return u=f.sent(),[3,4];case 6:return n=c,[3,9];case 7:return[4,this.db.getAll(e)];case 8:n=f.sent(),f.label=9;case 9:return[2,n]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=A.fI.FIRST),O(this,void 0,void 0,(function(){var n,r,o;return T(this,(function(i){switch(i.label){case 0:return[4,this.checkPrivate()];case 1:return i.sent(),n=this.getStorenameForModel(e),[4,this.db.transaction([n],"readonly").objectStore(n).openCursor(void 0,t===A.fI.FIRST?"next":"prev")];case 2:return r=i.sent(),[2,(o=r?r.value:void 0)&&this.modelInstanceCreator(e,o)]}}))}))},e.prototype.delete=function(e,t){return O(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,l,f,h,d,p,y,g;return T(this,(function(v){switch(v.label){case 0:return[4,this.checkPrivate()];case 1:return v.sent(),n=[],(0,I.hK)(e)?(i=e,s=this.namespaceResolver(i),a=this.getStorenameForModel(i),[4,this.query(i,t)]):[3,9];case 2:return r=v.sent(),y=this.schema.namespaces[s].relationships[i.name].relationTypes,void 0===t?[3,5]:[4,this.deleteTraverse(y,r,i.name,s,n)];case 3:return v.sent(),[4,this.deleteItem(n)];case 4:return v.sent(),g=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,g]];case 5:return[4,this.deleteTraverse(y,r,i.name,s,n)];case 6:return v.sent(),[4,this.db.transaction([a],"readwrite").objectStore(a).clear()];case 7:return v.sent(),g=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,g]];case 8:return[3,17];case 9:return o=e,i=Object.getPrototypeOf(o).constructor,s=this.namespaceResolver(i),a=this.getStorenameForModel(i),t?(u=this.db.transaction([a],"readwrite"),c=u.objectStore(a),[4,this._get(c,o.id)]):[3,13];case 10:if(void 0===(l=v.sent()))return p="Model instance not found in storage",N.warn(p,{model:o}),[2,[[o],[]]];if(f=_.OY.getPredicates(t),h=f.predicates,d=f.type,!(0,I.u8)(l,d,h))throw p="Conditional update failed",N.error(p,{model:l,condition:h}),new Error(p);return[4,u.done];case 11:return v.sent(),y=this.schema.namespaces[s].relationships[i.name].relationTypes,[4,this.deleteTraverse(y,[o],i.name,s,n)];case 12:return v.sent(),[3,15];case 13:return y=this.schema.namespaces[s].relationships[i.name].relationTypes,[4,this.deleteTraverse(y,[o],i.name,s,n)];case 14:v.sent(),v.label=15;case 15:return[4,this.deleteItem(n)];case 16:return v.sent(),g=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[o],g]];case 17:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,o,i,s;return O(this,void 0,void 0,(function(){var a,u,c,l,f,h,d,p,y,g,v,m;return T(this,(function(b){switch(b.label){case 0:a=e.map((function(e){return e.storeName})),u=this.db.transaction(k(a),"readwrite"),b.label=1;case 1:b.trys.push([1,22,23,28]),t=C(e),b.label=2;case 2:return[4,t.next()];case 3:if((n=b.sent()).done)return[3,21];c=n.value,l=c.storeName,f=c.items,h=u.objectStore(l),b.label=4;case 4:b.trys.push([4,14,15,20]),d=C(f),b.label=5;case 5:return[4,d.next()];case 6:return(p=b.sent()).done?[3,13]:(y=p.value)?(g=void 0,"object"!=typeof y?[3,8]:[4,h.index("byId").getKey(y.id)]):[3,12];case 7:return g=b.sent(),[3,10];case 8:return[4,h.index("byId").getKey(y.toString())];case 9:g=b.sent(),b.label=10;case 10:return void 0===g?[3,12]:[4,h.delete(g)];case 11:b.sent(),b.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return v=b.sent(),i={error:v},[3,20];case 15:return b.trys.push([15,,18,19]),p&&!p.done&&(s=d.return)?[4,s.call(d)]:[3,17];case 16:b.sent(),b.label=17;case 17:return[3,19];case 18:if(i)throw i.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return m=b.sent(),r={error:m},[3,28];case 23:return b.trys.push([23,,26,27]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,25];case 24:b.sent(),b.label=25;case 25:return[3,27];case 26:if(r)throw r.error;return[7];case 27:return[7];case 28:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,o){var i,s,a,u,c,l,f,h,d,p,y,g;return O(this,void 0,void 0,(function(){var v,m,b,w,S,_,E,A,O,x,P,k=this;return T(this,(function(T){switch(T.label){case 0:T.trys.push([0,35,36,41]),i=C(e),T.label=1;case 1:return[4,i.next()];case 2:if((s=T.sent()).done)return[3,34];switch(v=s.value,m=v.relationType,v.fieldName,b=v.modelName,w=this.getStorename(r,b),S=(0,I.rw)(this.schema.namespaces[r].relationships[b].relationTypes,n)||(0,I.NA)(this.schema.namespaces[r].relationships[b].indexes,v.associatedWith),m){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:T.trys.push([3,10,11,16]),a=C(t),T.label=4;case 4:return[4,a.next()];case 5:return(u=T.sent()).done?[3,9]:(A=u.value,[4,this.db.transaction(w,"readwrite").objectStore(w).index(S).get(A.id)]);case 6:return _=T.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,_?[_]:[],b,r,o)];case 7:T.sent(),T.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return E=T.sent(),d={error:E},[3,16];case 11:return T.trys.push([11,,14,15]),u&&!u.done&&(p=a.return)?[4,p.call(a)]:[3,13];case 12:T.sent(),T.label=13;case 13:return[3,15];case 14:if(d)throw d.error;return[7];case 15:return[7];case 16:return[3,33];case 17:T.trys.push([17,24,25,30]),c=C(t),T.label=18;case 18:return[4,c.next()];case 19:return(l=T.sent()).done?[3,23]:(A=l.value,[4,this.db.transaction(w,"readwrite").objectStore(w).index(S).getAll(A.id)]);case 20:return O=T.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,O,b,r,o)];case 21:T.sent(),T.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return x=T.sent(),y={error:x},[3,30];case 25:return T.trys.push([25,,28,29]),l&&!l.done&&(g=c.return)?[4,g.call(c)]:[3,27];case 26:T.sent(),T.label=27;case 27:return[3,29];case 28:if(y)throw y.error;return[7];case 29:return[7];case 30:case 31:return[3,33];case 32:return(0,I.y0)(m),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return P=T.sent(),f={error:P},[3,41];case 36:return T.trys.push([36,,39,40]),s&&!s.done&&(h=i.return)?[4,h.call(i)]:[3,38];case 37:T.sent(),T.label=38;case 38:return[3,40];case 39:if(f)throw f.error;return[7];case 40:return[7];case 41:return o.push({storeName:this.getStorename(r,n),items:t.map((function(e){return k.modelInstanceCreator(k.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){return O(this,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,this.checkPrivate()];case 1:return e.sent(),this.db.close(),[4,v(this.dbName)];case 2:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return O(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,l,f,h,d;return T(this,(function(p){switch(p.label){case 0:return 0===t.length?[2,[]]:[4,this.checkPrivate()];case 1:p.sent(),n=[],r=this.getStorenameForModel(e),o=this.db.transaction(r,"readwrite"),i=o.store,s=function(t){var r,o,s,u,c;return T(this,(function(l){switch(l.label){case 0:return r=(0,I.jl)(e.name,a.modelInstanceCreator(e,t),a.schema.namespaces[a.namespaceResolver(e)],a.modelInstanceCreator,a.getModelConstructorByModelName),o=t.id,s=t._deleted,[4,i.index("byId").getKey(o)];case 1:return u=l.sent(),s?[3,3]:(c=r.find((function(e){return e.instance.id===o})).instance,n.push([c,u?A.HP.UPDATE:A.HP.INSERT]),[4,i.put(c,u)]);case 2:return l.sent(),[3,5];case 3:return n.push([t,A.HP.DELETE]),u?[4,i.delete(u)]:[3,5];case 4:l.sent(),l.label=5;case 5:return[2]}}))},a=this,p.label=2;case 2:p.trys.push([2,7,8,9]),u=x(t),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[5,s(l)]);case 4:p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),h={error:f},[3,9];case 8:try{c&&!c.done&&(d=u.return)&&d.call(u)}finally{if(h)throw h.error}return[7];case 9:return[4,o.done];case 10:return p.sent(),[2,n]}}))}))},e}())},9150:(e,t,n)=>{"use strict";n.d(t,{aQ:()=>u,Fr:()=>c,n2:()=>r,BV:()=>l,I7:()=>f,$v:()=>h,g5:()=>d,HP:()=>o,w5:()=>p,G9:()=>y,fI:()=>i,Sr:()=>s,K5:()=>g});var r,o,i,s,a=n(166);function u(e){return e&&void 0!==e.pluralName}function c(e){return e&&e.targetName}function l(e){return e&&void 0!==r[e]}function f(e){return!(!e||!e.model)}function h(e){return!(!e||!e.nonModel)}function d(e){return!(!e||!e.enum)}function p(e){return e&&void 0!==e.field}function y(e){return e&&void 0!==e.type}!function(e){e[e.ID=0]="ID",e[e.String=1]="String",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Boolean=4]="Boolean",e[e.AWSDate=5]="AWSDate",e[e.AWSTime=6]="AWSTime",e[e.AWSDateTime=7]="AWSDateTime",e[e.AWSTimestamp=8]="AWSTimestamp",e[e.AWSEmail=9]="AWSEmail",e[e.AWSJSON=10]="AWSJSON",e[e.AWSURL=11]="AWSURL",e[e.AWSPhone=12]="AWSPhone",e[e.AWSIPAddress=13]="AWSIPAddress"}(r||(r={})),function(e){e.getJSType=function(e){switch(e){case"Boolean":return"boolean";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSJSON":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"string";case"Int":case"Float":case"AWSTimestamp":return"number";default:(0,a.y0)(e)}},e.getValidationFunction=function(e){switch(e){case"AWSDate":return a.pP;case"AWSTime":return a.Ro;case"AWSDateTime":return a.wp;case"AWSTimestamp":return a.D7;case"AWSEmail":return a.M9;case"AWSJSON":return a.nd;case"AWSURL":return a.Zu;case"AWSPhone":return a.iA;case"AWSIPAddress":return a.mY;default:return}}}(r||(r={})),function(e){e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(o||(o={})),function(e){e[e.FIRST=0]="FIRST",e[e.LAST=1]="LAST"}(i||(i={})),function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"}(s||(s={}));var g=Symbol("DISCARD")},166:(e,t,n)=>{"use strict";n.d(t,{cG:()=>D,P_:()=>j,J3:()=>$,xR:()=>L,YF:()=>P,y0:()=>I,rw:()=>M,NA:()=>R,Iz:()=>G,pP:()=>V,wp:()=>W,M9:()=>J,mY:()=>ee,nd:()=>Q,iA:()=>X,Ro:()=>K,D7:()=>Y,Zu:()=>Z,hK:()=>x,le:()=>O,D0:()=>F,c6:()=>q,z8:()=>z,jl:()=>N,u8:()=>T,Vg:()=>H});var r=n(816),o=n(8112),i=n.n(o);function s(e){var t=new Error(e);return t.source="ulid",t}var a="0123456789ABCDEFGHJKMNPQRSTVWXYZ",u=a.length,c=Math.pow(2,48)-1;function l(e,t,n){return t>e.length-1?e:e.substr(0,t)+n+e.substr(t+1)}function f(e){var t=Math.floor(e()*u);return t===u&&(t=u-1),a.charAt(t)}function h(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>c)throw s("cannot encode time greater than "+c);if(e<0)throw s("time must be positive");if(!1===Number.isInteger(e))throw s("time must be an integer");for(var n=void 0,r="";t>0;t--)r=a.charAt(n=e%u)+r,e=(e-n)/u;return r}function d(e,t){for(var n="";e>0;e--)n=f(t)+n;return n}function p(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var r=t&&(t.crypto||t.msCrypto);if(r)return function(){var e=new Uint8Array(1);return r.getRandomValues(e),e[0]/255};try{var o=n(858);return function(){return o.randomBytes(1).readUInt8()/255}}catch(e){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(e){}return function(){return Math.random()}}throw s("secure crypto unusable, insecure Math.random not allowed")}function y(e){e||(e=p());var t=0,n=void 0;return function(r){if(isNaN(r)&&(r=Date.now()),r<=t){var o=n=function(e){for(var t=void 0,n=e.length,r=void 0,o=void 0,i=u-1;!t&&n-- >=0;){if(r=e[n],-1===(o=a.indexOf(r)))throw s("incorrectly encoded string");o!==i?t=l(e,n,a[o+1]):e=l(e,n,a[0])}if("string"==typeof t)return t;throw s("cannot increment this string")}(n);return h(t,10)+o}t=r;var i=n=d(16,e);return h(r,10)+i}}g||(g=p());var g,v,m=n(1437),b=n(9150),w=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},S=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},E=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e},I=function(e,t){if(void 0===t&&(t=!0),t)throw new Error("Invalid "+e)},O=function(e){return void 0===e||null==e},T=function(e,t,n){var r,o=!1;if(0===n.length)return!0;switch(t){case"not":r="every",o=!0;break;case"and":r="every";break;case"or":r="some";break;default:I(t)}var i=n[r]((function(t){if((0,b.w5)(t)){var n=t.field,r=t.operator,o=t.operand,i=e[n];return C(i,r,o)}if((0,b.G9)(t)){var s=t.type,a=t.predicates;return T(e,s,a)}throw new Error("Not a predicate or group")}));return o?!i:i},C=function(e,t,n){switch(t){case"ne":return e!==n;case"eq":return e===n;case"le":return e<=n;case"lt":return e<n;case"ge":return e>=n;case"gt":return e>n;case"between":var r=_(n,2),o=r[0],i=r[1];return e>=o&&e<=i;case"beginsWith":return e.startsWith(n);case"contains":return e.indexOf(n)>-1;case"notContains":return-1===e.indexOf(n);default:return I(t,!1),!1}},x=function(e){return e&&"function"==typeof e.copyOf},P=function(e){var t={};return Object.keys(e.models).forEach((function(n){t[n]={indexes:[],relationTypes:[]};var r=e.models[n];Object.keys(r.fields).forEach((function(e){var o=r.fields[e];if("object"==typeof o.type&&"model"in o.type){var i=o.association.connectionType;t[n].relationTypes.push({fieldName:o.name,modelName:o.type.model,relationType:i,targetName:o.association.targetName,associatedWith:o.association.associatedWith}),"BELONGS_TO"===i&&t[n].indexes.push(o.association.targetName)}})),r.attributes&&r.attributes.forEach((function(e){if("key"===e.type){var r=e.properties.fields;r&&r.forEach((function(e){t[n].indexes.includes(e)||t[n].indexes.push(e)}))}}))})),t},k=new WeakMap,N=function(e,t,n,r,o){var i=n.relationships,s=o(n.name,e),a=i[e],u=[],c=s.copyOf(t,(function(e){a.relationTypes.forEach((function(i){var s=o(n.name,i.modelName);switch(i.relationType){case"HAS_ONE":if(t[i.fieldName]){var a=void 0;try{a=r(s,t[i.fieldName])}catch(e){}u.push({modelName:i.modelName,item:t[i.fieldName],instance:a}),e[i.fieldName]=e[i.fieldName].id}break;case"BELONGS_TO":if(t[i.fieldName]){a=void 0;try{a=r(s,t[i.fieldName])}catch(e){}e[i.fieldName]._deleted||u.push({modelName:i.modelName,item:t[i.fieldName],instance:a})}e[i.targetName]=e[i.fieldName]?e[i.fieldName].id:null,delete e[i.fieldName];break;case"HAS_MANY":break;default:I(i.relationType)}}))}));u.unshift({modelName:e,item:c,instance:c}),k.has(n)||k.set(n,Array.from(n.modelTopologicalOrdering.keys()));var l=k.get(n);return u.sort((function(e,t){return l.indexOf(e.modelName)-l.indexOf(t.modelName)})),u},M=function(e,t){var n="";return e.some((function(e){e.modelName===t&&(n=e.targetName)})),n},R=function(e,t){return e.find((function(e){return e===t}))};!function(e){e.DATASTORE="datastore",e.USER="user",e.SYNC="sync",e.STORAGE="storage"}(v||(v={}));var U,D=v.DATASTORE,L=v.USER,$=v.SYNC,j=v.STORAGE,F=function(){return new Promise((function(e){var t,n=(0,m.v4)(),r=function(){U=!1,e(!0)},o=function(){return w(void 0,void 0,void 0,(function(){return S(this,(function(r){switch(r.label){case 0:return t&&t.result&&"function"==typeof t.result.close?[4,t.result.close()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,indexedDB.deleteDatabase(n)];case 3:return r.sent(),U=!0,[2,e(!1)]}}))}))};return!0===U?o():!1===U||null===indexedDB?r():((t=indexedDB.open(n)).onerror=r,void(t.onsuccess=o))}))},B=function(){return(e=1,r.lW.from(i().lib.WordArray.random(e).toString(),"hex")).readUInt8(0)/255;var e};function q(e){var t=y(B);return function(){return t(e)}}function G(){return"undefined"!=typeof performance&&performance&&"function"==typeof performance.now?0|performance.now():Date.now()}function z(e){return function(t,n){var r,o;try{for(var i=E(e),s=i.next();!s.done;s=i.next()){var a=s.value,u=a.field,c=a.sortDirection===b.Sr.ASCENDING?1:-1;if(t[u]<n[u])return-1*c;if(t[u]>n[u])return 1*c}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return 0}}function H(e,t,n){var r,o;void 0===n&&(n=!1);var i,s,a=e,u=t;if(a instanceof Object&&!(u instanceof Object)||!(a instanceof Object)&&u instanceof Object)return!1;if(!(a instanceof Object))return!(!n||(i=a,s=u,null!=i||null!=s))||a===u;if(Array.isArray(a)&&!Array.isArray(u)||Array.isArray(u)&&!Array.isArray(a))return!1;a instanceof Set&&u instanceof Set&&(a=A(a),u=A(u)),a instanceof Map&&u instanceof Map&&(a=Object.fromEntries(a),u=Object.fromEntries(u));var c=Object.keys(a),l=Object.keys(u);if(c.length!==l.length&&(!n||Array.isArray(a)))return!1;var f=c.length>=l.length?c:l;try{for(var h=E(f),d=h.next();!d.done;d=h.next()){var p=d.value;if(!H(a[p],u[p],n))return!1}}catch(e){r={error:e}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}return!0}var V=function(e){return!!/^\d{4}-\d{2}-\d{2}(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},K=function(e){return!!/^\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},W=function(e){return!!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},Y=function(e){return!!/^\d+$/.exec(String(e))},J=function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.exec(e)},Q=function(e){try{return JSON.parse(e),!0}catch(e){return!1}},Z=function(e){try{return!!new URL(e)}catch(e){return!1}},X=function(e){return!!/^\+?\d[\d\s-]+$/.exec(e)},ee=function(e){return!!/((^((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))$)|(^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$))$/.exec(e)}},1437:(e,t,n)=>{var r=n(4529),o=n(2113),i=o;i.v1=r,i.v4=o,e.exports=i},6863:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},1900:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},4529:(e,t,n)=>{var r,o,i=n(1900),s=n(6863),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==h){var d=i();null==f&&(f=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=o=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:u+1,g=p-a+(y-u)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||p>a)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,u=y,o=h;var v=(1e4*(268435455&(p+=122192928e5))+y)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=h>>>8|128,l[c++]=255&h;for(var b=0;b<6;++b)l[c+b]=f[b];return t||s(l)}},2113:(e,t,n)=>{var r=n(1900),o=n(6863);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},2292:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2787:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3384);r.__exportStar(n(2292),t),r.__exportStar(n(6537),t),r.__exportStar(n(1219),t),r.__exportStar(n(2787),t),r.__exportStar(n(1253),t)},3384:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__extends:()=>o,__assign:()=>i,__rest:()=>s,__decorate:()=>a,__param:()=>u,__metadata:()=>c,__awaiter:()=>l,__generator:()=>f,__createBinding:()=>h,__exportStar:()=>d,__values:()=>p,__read:()=>y,__spread:()=>g,__spreadArrays:()=>v,__await:()=>m,__asyncGenerator:()=>b,__asyncDelegator:()=>w,__asyncValues:()=>S,__makeTemplateObject:()=>_,__importStar:()=>E,__importDefault:()=>A,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>O});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},7903:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},7523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7579),o=n(5362),i=n(6528),s=n(5665),a=n(208),u=n(5390),c=function(){function e(e){s.supportsWebCrypto(u.locateWindow())?this.hash=new o.Sha256(e):a.isMsWindow(u.locateWindow())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},7579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8960),o=n(7903),i=n(7016),s=n(5390),a=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=s.locateWindow().msCrypto.subtle.importKey("raw",u(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n("ImportKey completed without importing key.")},r.onerror=function(){n("ImportKey failed to import key.")}}))}(e).then((function(e){return s.locateWindow().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve(s.locateWindow().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;r.isEmptyData(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n("Error encountered finalizing hash")},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n("Error encountered finalizing hash")},e.finish()}))}))},e}();function u(e){return"string"==typeof e?i.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},6066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,n(4166).__exportStar(n(7523),t);var r=n(7579);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(5362);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},8960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7016),o=n(8960),i=n(7903),s=n(5390),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){s.locateWindow().crypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!o.isEmptyData(e)){var t=u(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return s.locateWindow().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):o.isEmptyData(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return s.locateWindow().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();function u(e){return"string"==typeof e?r.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},8611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(5824),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var h=this.temp[f-2],d=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,p=((h=this.temp[f-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[f]=(d+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var y=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=a,a=s+y|0,s=i,i=o,o=n,n=y+g|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},5824:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},6528:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(4166).__exportStar(n(7810),t)},7810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(4166),o=n(5824),i=n(8611),s=n(7016),a=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=u(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!function(e){if("string"==typeof e)return 0===e.length;return 0===e.byteLength}(e)&&!this.error)try{this.hash.update(u(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();function u(e){return"string"==typeof e?s.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},7016:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var s="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},4166:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__extends:()=>o,__assign:()=>i,__rest:()=>s,__decorate:()=>a,__param:()=>u,__metadata:()=>c,__awaiter:()=>l,__generator:()=>f,__createBinding:()=>h,__exportStar:()=>d,__values:()=>p,__read:()=>y,__spread:()=>g,__spreadArrays:()=>v,__await:()=>m,__asyncGenerator:()=>b,__asyncDelegator:()=>w,__asyncValues:()=>S,__makeTemplateObject:()=>_,__importStar:()=>E,__importDefault:()=>A,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>O});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},4663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4594),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var h=this.temp[f-2],d=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,p=((h=this.temp[f-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[f]=(d+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var y=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;l=c,c=u,u=a,a=s+y|0,s=i,i=o,o=n,n=y+g|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=o},4594:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},9164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3570).__exportStar(n(9935),t)},9935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3570),o=n(4594),i=n(4663),s=n(6905),a=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=u(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!function(e){if("string"==typeof e)return 0===e.length;return 0===e.byteLength}(e)&&!this.error)try{this.hash.update(u(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();function u(e){return"string"==typeof e?s.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},3570:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__extends:()=>o,__assign:()=>i,__rest:()=>s,__decorate:()=>a,__param:()=>u,__metadata:()=>c,__awaiter:()=>l,__generator:()=>f,__createBinding:()=>h,__exportStar:()=>d,__values:()=>p,__read:()=>y,__spread:()=>g,__spreadArrays:()=>v,__await:()=>m,__asyncGenerator:()=>b,__asyncDelegator:()=>w,__asyncValues:()=>S,__makeTemplateObject:()=>_,__importStar:()=>E,__importDefault:()=>A,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>O});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5665:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(5790).__exportStar(n(6483),t)},6483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(5790),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function s(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&s(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=s,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!s(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},5790:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__extends:()=>o,__assign:()=>i,__rest:()=>s,__decorate:()=>a,__param:()=>u,__metadata:()=>c,__awaiter:()=>l,__generator:()=>f,__createBinding:()=>h,__exportStar:()=>d,__values:()=>p,__read:()=>y,__spread:()=>g,__spreadArrays:()=>v,__await:()=>m,__asyncGenerator:()=>b,__asyncDelegator:()=>w,__asyncValues:()=>S,__makeTemplateObject:()=>_,__importStar:()=>E,__importDefault:()=>A,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>O});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5290:(e,t,n)=>{"use strict";n.d(t,{g4:()=>s,Xb:()=>c});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var s=function(e){var t;return r(r({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?a(e):function(){return u(e)},isCustomEndpoint:!!e.endpoint})},a=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},u=function(e){return o(void 0,void 0,void 0,(function(){var t,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=i.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(o=(null!==(s=i.sent())&&void 0!==s?s:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))}))},c=function(e){if(!e.region)throw new Error("Region is missing");return r(r({},e),{region:l(e.region)})},l=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},5393:(e,t,n)=>{"use strict";n.d(t,{B:()=>u,C:()=>l});function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var s=n(8716),a=n(8003);var u=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var u=e.path;if(e.query){var c=(0,a.I)(e.query);c&&(u+="?"+c)}var l=e.port,f=e.method,h=e.protocol+"//"+e.hostname+(l?":"+l:"")+u,d={body:"GET"===f||"HEAD"===f?void 0:e.body,headers:new Headers(e.headers),method:f};"undefined"!=typeof AbortController&&(d.signal=n);var p,y=new Request(h,d),g=[fetch(y).then((function(e){var t,n,r=e.headers,o={};try{for(var a=i(r.entries()),u=a.next();!u.done;u=a.next()){var c=u.value;o[c[0]]=c[1]}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new s.Zn({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new s.Zn({headers:o,statusCode:e.status,body:t})}}))})),(p=r,void 0===p&&(p=0),new Promise((function(e,t){p&&setTimeout((function(){var e=new Error("Request did not complete within "+p+" ms");e.name="TimeoutError",t(e)}),p)})))];return n&&g.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(g)},e}(),c=n(1823),l=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return[4,f(e)];case 1:return t=r.sent(),n=(0,c.G)(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,s,a,u;return o(this,(function(o){switch(o.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,o.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=o.sent(),s=i.done,(a=i.value)&&(u=t,(t=new Uint8Array(u.length+a.length)).set(u),t.set(a,u.length)),r=s,[3,1];case 3:return[2,t]}}))}))}(e)};function f(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),s=i>-1?i+1:o.length;t(o.substring(s))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}},2131:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var r=function(e){return function(){return Promise.reject(e)}}},4572:(e,t,n)=>{"use strict";n.d(t,{VG:()=>c});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var s=n(8716),a="content-length";var u={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},c=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(u){return o(t,void 0,void 0,(function(){var t,o,c,l,f;return i(this,(function(i){return t=u.request,s.aW.isInstance(t)&&(o=t.body,c=t.headers,o&&-1===Object.keys(c).map((function(e){return e.toLowerCase()})).indexOf(a)&&void 0!==(l=e(o))&&(t.headers=r(r({},t.headers),((f={})["content-length"]=String(l),f)))),[2,n(r(r({},u),{request:t}))]}))}))}}}(e.bodyLengthChecker),u)}}}},1362:(e,t,n)=>{"use strict";n.d(t,{G2:()=>u,S8:()=>s});function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var i=n(8716);function s(e){return e}var a={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},u=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return r(void 0,void 0,void 0,(function(){var r,s;return o(this,(function(o){return i.aW.isInstance(n.request)?(r=n.request,(void 0===(s=(e.requestHandler.metadata||{}).handlerProtocol)?"":s).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),a)}}}},5186:(e,t,n)=>{"use strict";n.d(t,{cV:()=>a});function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var i=function(){return function(e,t){return function(n){return r(void 0,void 0,void 0,(function(){var r,i,s,a,u,c,l,f,h;return o(this,(function(o){switch(o.label){case 0:return r=t.clientName,i=t.commandName,s=t.inputFilterSensitiveLog,a=t.logger,u=t.outputFilterSensitiveLog,[4,e(n)];case 1:return c=o.sent(),a?("function"==typeof a.info&&(l=c.output,f=l.$metadata,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(l,["$metadata"]),a.info({clientName:r,commandName:i,input:s(n.input),output:u(h),metadata:f})),[2,c]):[2,c]}}))}))}}},s={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},a=function(e){return{applyToStack:function(e){e.add(i(),s)}}}},4138:(e,t,n)=>{"use strict";n.d(t,{J:()=>b,NQ:()=>c,BC:()=>_});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}var a=function(e){return function(t,n){return function(r){return o(void 0,void 0,void 0,(function(){var o;return i(this,(function(i){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}},u={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},c=function(e){return{applyToStack:function(t){t.add(a(e),u)}}},l=n(8716),f=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],h=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],d=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],p=[500,502,503,504],y=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||h.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},g=n(1719),v=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},m=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return f.includes(e.name)}(e)||y(e)||function(e){var t;return d.includes(e.name)||p.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},b=3,w="standard",S=function(){function e(e,t){var n,r,o,i,s,a,u,c;this.maxAttemptsProvider=e,this.mode=w,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:m,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:v,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(s=i=500,a=i,u=function(e){return"TimeoutError"===e.name?10:5},c=function(e){return u(e)<=a},Object.freeze({hasRetryTokens:c,retrieveRetryTokens:function(e){if(!c(e))throw new Error("No retry token available");var t=u(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,s)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return o(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=b,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,f;return i(this,(function(h){switch(h.label){case 0:return r=0,o=0,[4,this.getMaxAttempts()];case 1:s=h.sent(),a=t.request,l.aW.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,g.v4)()),u=function(){var u,f,h,d,p;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,5]),l.aW.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+s),[4,e(t)];case 1:return u=i.sent(),f=u.response,h=u.output,c.retryQuota.releaseRetryTokens(n),h.$metadata.attempts=r+1,h.$metadata.totalRetryDelay=o,[2,{value:{response:f,output:h}}];case 2:return d=i.sent(),r++,c.shouldRetry(d,r,s)?(n=c.retryQuota.retrieveRetryTokens(d),p=c.delayDecider(y(d)?500:100,r),o+=p,[4,new Promise((function(e){return setTimeout(e,p)}))]):[3,4];case 3:return i.sent(),[2,"continue"];case 4:throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=r,d.$metadata.totalRetryDelay=o,d;case 5:return[2]}}))},c=this,h.label=2;case 2:return[5,u()];case 3:return"object"==typeof(f=h.sent())?[2,f.value]:[3,2];case 4:return[2]}}))}))},e}(),_=function(e){var t=E(e.maxAttempts);return r(r({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new S(t)})},E=function(e){if(void 0===e&&(e=b),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},8273:(e,t,n)=>{"use strict";n.d(t,{p2:()=>u});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var s={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},a={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function u(e,t,n){return{applyToStack:function(u){u.add(function(e,t){return function(n,r){return function(r){return o(void 0,void 0,void 0,(function(){var o,s;return i(this,(function(i){switch(i.label){case 0:return[4,n(r)];case 1:return o=i.sent().response,[4,t(o,e)];case 2:return s=i.sent(),[2,{response:o,output:s}]}}))}))}}}(e,n),s),u.add(function(e,t){return function(n,s){return function(s){return o(void 0,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:return[4,t(s.input,e)];case 1:return o=i.sent(),[2,n(r(r({},s),{request:o}))]}}))}))}}}(e,t),a)}}}},6101:(e,t,n)=>{"use strict";n.d(t,{yt:()=>p,A$:()=>u});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}var a=n(695);function u(e){var t,n=this,u=c(e.credentials||e.credentialDefaultProvider(e)),l=e.signingEscapePath,f=void 0===l||l,h=e.systemClockOffset,d=void 0===h?e.systemClockOffset||0:h,p=e.sha256;return t=e.signer?c(e.signer):function(){return c(e.region)().then((function(t){return o(n,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=s(t,2),r=n[0],o=n[1],i=r.signingRegion,c=r.signingService;return e.signingRegion=e.signingRegion||i||o,e.signingName=e.signingName||c||e.serviceId,new a.L1({credentials:u,region:e.signingRegion,service:e.signingName,sha256:p,uriEscapePath:f})}))},r(r({},e),{systemClockOffset:d,signingEscapePath:f,credentials:u,signer:t})}function c(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var l=n(8716),f=function(e){return new Date(Date.now()+e)};function h(e){return function(t,n){return function(s){return o(this,void 0,void 0,(function(){var o,a,u,c,h,d,p,y,g;return i(this,(function(i){switch(i.label){case 0:return l.aW.isInstance(s.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(s)];case 1:return a=i.sent(),[3,3];case 2:a=e.signer,i.label=3;case 3:return o=a,c=t,h=[r({},s)],g={},[4,o.sign(s.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,c.apply(void 0,[r.apply(void 0,h.concat([(g.request=i.sent(),g)]))])];case 5:return u=i.sent(),d=u.response.headers,(p=d&&(d.date||d.Date))&&(y=Date.parse(p),v=y,m=e.systemClockOffset,Math.abs(f(m).getTime()-v)>=3e5&&(e.systemClockOffset=y-Date.now())),[2,u]}var v,m}))}))}}}var d={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},p=function(e){return{applyToStack:function(t){t.addRelativeTo(h(e),d)}}}},1705:(e,t,n)=>{"use strict";n.d(t,{XJ:()=>p,er:()=>u});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}function u(e){return r(r({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var c=n(8716),l="user-agent",f=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,h=function(e){var t=s(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(f,"_")})).join("/")},d={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},p=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(s){return o(void 0,void 0,void 0,(function(){var o,u,f,d,p,y,g,v;return i(this,(function(i){switch(i.label){case 0:return o=s.request,c.aW.isInstance(o)?(u=o.headers,f=(null===(g=null==t?void 0:t.userAgent)||void 0===g?void 0:g.map(h))||[],[4,n.defaultUserAgentProvider()]):[2,e(s)];case 1:return d=i.sent().map(h),p=(null===(v=null==n?void 0:n.customUserAgent)||void 0===v?void 0:v.map(h))||[],u["x-amz-user-agent"]=a(d,f,p).join(" "),y=a(d.filter((function(e){return e.startsWith("aws-sdk-")})),p).join(" "),"browser"!==n.runtime&&y&&(u[l]=u[l]?u[l]+" "+y:y),[2,e(r(r({},s),{request:o}))]}}))}))}}),d)}}}},8716:(e,t,n)=>{"use strict";n.d(t,{aW:()=>s,Zn:()=>r});var r=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}();var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}var s=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(o(o({},this),{headers:o({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,s=t[n];return o(o({},e),((r={})[n]=Array.isArray(s)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}(s):s,r))}),{}))),n},e}()},8003:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o=n(1680);function i(e){var t,n,i=[];try{for(var s=r(Object.keys(e).sort()),a=s.next();!a.done;a=s.next()){var u=a.value,c=e[u];if(u=(0,o.i)(u),Array.isArray(c))for(var l=0,f=c.length;l<f;l++)i.push(u+"="+(0,o.i)(c[l]));else{var h=u;(c||"string"==typeof c)&&(h+="="+(0,o.i)(c)),i.push(h)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i.join("&")}},695:(e,t,n)=>{"use strict";n.d(t,{L1:()=>U});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}var u=n(4666),c="X-Amz-Date",l="X-Amz-Signature",f="X-Amz-Security-Token",h="authorization",d=c.toLowerCase(),p=[h,d,"date"],y=l.toLowerCase(),g="x-amz-content-sha256",v=f.toLowerCase(),m={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},b=/^proxy-/,w=/^sec-/,S="AWS4-HMAC-SHA256",_="AWS4-HMAC-SHA256-PAYLOAD",E="aws4_request",A={},I=[];function O(e,t,n){return e+"/"+t+"/"+n+"/"+E}function T(e,t,n){var r=new e(t);return r.update(n),r.digest()}function C(e,t,n){var r,o,i=e.headers,a={};try{for(var u=s(Object.keys(i).sort()),c=u.next();!c.done;c=u.next()){var l=c.value,f=l.toLowerCase();(f in m||(null==t?void 0:t.has(f))||b.test(f)||w.test(f))&&(!n||n&&!n.has(f))||(a[f]=i[l].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return a}var x=n(1680);function P(e,t){var n=e.headers,r=e.body;return o(this,void 0,void 0,(function(){var e,o,a,c,l,f,h;return i(this,(function(i){switch(i.label){case 0:try{for(e=s(Object.keys(n)),o=e.next();!o.done;o=e.next())if((a=o.value).toLowerCase()===g)return[2,n[a]]}catch(e){f={error:e}}finally{try{o&&!o.done&&(h=e.return)&&h.call(e)}finally{if(f)throw f.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(d=r,"function"==typeof ArrayBuffer&&d instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(d))?((c=new t).update(r),l=u.N,[4,c.digest()]):[3,3];case 2:return[2,l.apply(void 0,[i.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var d}))}))}function k(e){var t=e.headers,n=e.query,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["headers","query"]);return r(r({},o),{headers:r({},t),query:n?N(n):void 0})}function N(e){return Object.keys(e).reduce((function(t,n){var o,i=e[n];return r(r({},t),((o={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}(i):i,o))}),{})}function M(e){var t,n;e="function"==typeof e.clone?e.clone():k(e);try{for(var r=s(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;p.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function R(e){return function(e){if("number"==typeof e)return new Date(1e3*e);if("string"==typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var U=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=o,this.sha256=i,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=$(r),this.credentialProvider=j(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){var n,o,a,u,c,h,d,p,y,g,v,m,b,w,_,E,A,I,T,x,N,R,U,$;return i(this,(function(i){switch(i.label){case 0:return n=t.signingDate,o=void 0===n?new Date:n,a=t.expiresIn,u=void 0===a?3600:a,c=t.unsignableHeaders,h=t.unhoistableHeaders,d=t.signableHeaders,p=t.signingRegion,y=t.signingService,[4,this.credentialProvider()];case 1:return g=i.sent(),null==p?[3,2]:(m=p,[3,4]);case 2:return[4,this.regionProvider()];case 3:m=i.sent(),i.label=4;case 4:return v=m,b=D(o),w=b.longDate,_=b.shortDate,u>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(E=O(_,v,null!=y?y:this.service),A=function(e,t){var n,o,i;void 0===t&&(t={});var a="function"==typeof e.clone?e.clone():k(e),u=a.headers,c=a.query,l=void 0===c?{}:c;try{for(var f=s(Object.keys(u)),h=f.next();!h.done;h=f.next()){var d=h.value,p=d.toLowerCase();"x-amz-"!==p.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(p))||(l[d]=u[d],delete u[d])}}catch(e){n={error:e}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return r(r({},e),{headers:u,query:l})}(M(e),{unhoistableHeaders:h}),g.sessionToken&&(A.query[f]=g.sessionToken),A.query["X-Amz-Algorithm"]=S,A.query["X-Amz-Credential"]=g.accessKeyId+"/"+E,A.query["X-Amz-Date"]=w,A.query["X-Amz-Expires"]=u.toString(10),I=C(A,c,d),A.query["X-Amz-SignedHeaders"]=L(I),T=A.query,x=l,N=this.getSignature,R=[w,E,this.getSigningKey(g,v,_,y)],U=this.createCanonicalRequest,$=[A,I],[4,P(e,this.sha256)]);case 5:return[4,N.apply(this,R.concat([U.apply(this,$.concat([i.sent()]))]))];case 6:return T[x]=i.sent(),[2,A]}}))}))},e.prototype.sign=function(e,t){return o(this,void 0,void 0,(function(){return i(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,s=t.signingDate,a=void 0===s?new Date:s,c=t.priorSignature,l=t.signingRegion,f=t.signingService;return o(this,void 0,void 0,(function(){var e,t,o,s,h,d,p,y,g,v,m;return i(this,(function(i){switch(i.label){case 0:return null==l?[3,1]:(t=l,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=i.sent(),i.label=3;case 3:return e=t,o=D(a),s=o.shortDate,h=o.longDate,d=O(s,e,null!=f?f:this.service),[4,P({headers:{},body:r},this.sha256)];case 4:return p=i.sent(),(y=new this.sha256).update(n),v=u.N,[4,y.digest()];case 5:return g=v.apply(void 0,[i.sent()]),m=[_,h,d,c,g,p].join("\n"),[2,this.signString(m,{signingDate:a,signingRegion:e,signingService:f})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,s=void 0===r?new Date:r,a=n.signingRegion,c=n.signingService;return o(this,void 0,void 0,(function(){var t,n,r,o,l,f,h,d;return i(this,(function(i){switch(i.label){case 0:return[4,this.credentialProvider()];case 1:return t=i.sent(),null==a?[3,2]:(r=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=i.sent(),i.label=4;case 4:return n=r,o=D(s).shortDate,h=(f=this.sha256).bind,[4,this.getSigningKey(t,n,o,c)];case 5:return(l=new(h.apply(f,[void 0,i.sent()]))).update(e),d=u.N,[4,l.digest()];case 6:return[2,d.apply(void 0,[i.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,a=void 0===r?new Date:r,u=n.signableHeaders,c=n.unsignableHeaders,l=n.signingRegion,f=n.signingService;return o(this,void 0,void 0,(function(){var t,n,r,o,p,y,m,b,w,S,_;return i(this,(function(i){switch(i.label){case 0:return[4,this.credentialProvider()];case 1:return t=i.sent(),null==l?[3,2]:(r=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=i.sent(),i.label=4;case 4:return n=r,o=M(e),p=D(a),y=p.longDate,m=p.shortDate,b=O(m,n,null!=f?f:this.service),o.headers[d]=y,t.sessionToken&&(o.headers[v]=t.sessionToken),[4,P(o,this.sha256)];case 5:return w=i.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=s(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(g,o.headers)&&this.applyChecksum&&(o.headers[g]=w),S=C(o,c,u),[4,this.getSignature(y,b,this.getSigningKey(t,n,m,f),this.createCanonicalRequest(o,S,w))];case 6:return _=i.sent(),o.headers[h]="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+b+", SignedHeaders="+L(S)+", Signature="+_,[2,o]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},u=function(e){if(e.toLowerCase()===y)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]=(0,x.i)(e)+"="+(0,x.i)(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([(0,x.i)(e)+"="+(0,x.i)(n)])}),[]).join("&"))};try{for(var c=s(Object.keys(o).sort()),l=c.next();!l.done;l=c.next())u(l.value)}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return o(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+(0,u.N)(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return o(this,void 0,void 0,(function(){var o,s,a,c,l;return i(this,(function(i){switch(i.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=i.sent(),c=(a=this.sha256).bind,[4,n];case 2:return(s=new(c.apply(a,[void 0,i.sent()]))).update(o),l=u.N,[4,s.digest()];case 3:return[2,l.apply(void 0,[i.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,a){return o(void 0,void 0,void 0,(function(){var o,c,l,f,h,d,p,y,g;return i(this,(function(i){switch(i.label){case 0:return[4,T(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=i.sent(),(c=n+":"+r+":"+a+":"+(0,u.N)(o)+":"+t.sessionToken)in A)return[2,A[c]];for(I.push(c);I.length>50;)delete A[I.shift()];l="AWS4"+t.secretAccessKey,i.label=2;case 2:i.trys.push([2,7,8,9]),f=s([n,r,a,E]),h=f.next(),i.label=3;case 3:return h.done?[3,6]:(d=h.value,[4,T(e,l,d)]);case 4:l=i.sent(),i.label=5;case 5:return h=f.next(),[3,3];case 6:return[3,9];case 7:return p=i.sent(),y={error:p},[3,9];case 8:try{h&&!h.done&&(g=f.return)&&g.call(f)}finally{if(y)throw y.error}return[7];case 9:return[2,A[c]=l]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),D=function(e){var t=R(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},L=function(e){return Object.keys(e).sort().join(";")},$=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},j=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},5601:(e,t,n)=>{"use strict";n.d(t,{KU:()=>l,mY:()=>f,oc:()=>_,_w:()=>S,jc:()=>h,L:()=>d,sT:()=>p});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function s(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}var a=function(){var e=[],t=[],n=new Set,i=function(n){return e.forEach((function(e){n.add(e.middleware,r({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,r({},e))})),n},l=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,s(l(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,s(l(e)))})),t},f=function(){var n,o=[],i=[],a={};return e.forEach((function(e){var t=r(r({},e),{before:[],after:[]});t.name&&(a[t.name]=t),o.push(t)})),t.forEach((function(e){var t=r(r({},e),{before:[],after:[]});t.name&&(a[t.name]=t),i.push(t)})),i.forEach((function(e){if(e.toMiddleware){var t=a[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(n=o,n.sort((function(e,t){return u[t.step]-u[e.step]||c[t.priority||"normal"]-c[e.priority||"normal"]}))).map(l).reduce((function(e,t){return e.push.apply(e,s(t)),e}),[]).map((function(e){return e.middleware}))},h={add:function(t,o){void 0===o&&(o={});var i=o.name,s=o.override,a=r({step:"initialize",priority:"normal",middleware:t},o);if(i){if(n.has(i)){if(!s)throw new Error("Duplicate middleware name '"+i+"'");var u=e.findIndex((function(e){return e.name===i})),c=e[u];if(c.step!==a.step||c.priority!==a.priority)throw new Error('"'+i+'" middleware with '+c.priority+" priority in "+c.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(u,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,o){var i=o.name,s=o.override,a=r({middleware:e},o);if(i){if(n.has(i)){if(!s)throw new Error("Duplicate middleware name '"+i+"'");var u=t.findIndex((function(e){return e.name===i})),c=t[u];if(c.toMiddleware!==a.toMiddleware||c.relation!==a.relation)throw new Error('"'+i+'" middleware '+c.relation+' "'+c.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(u,1)}n.add(i)}t.push(a)},clone:function(){return i(a())},use:function(e){e.applyToStack(h)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=i(a());return t.use(e),t},applyToStack:i,resolve:function(e,t){var n,r;try{for(var i=o(f().reverse()),s=i.next();!s.done;s=i.next()){e=(0,s.value)(e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return h},u={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},c={high:3,normal:2,low:1},l=function(){function e(e){this.middlewareStack=a(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),f=function(){this.middlewareStack=a()};function h(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var d=function(e){return Array.isArray(e)?e:[e]},p=function(e){for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t]["#text"]?e[t]=e[t]["#text"]:"object"==typeof e[t]&&null!==e[t]&&(e[t]=p(e[t]));return e},y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}var m=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,v([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};m.prototype=Object.create(String.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(m,String);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(m);var b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds();return b[r]+", "+(o<10?"0"+o:""+o)+" "+w[n]+" "+t+" "+(i<10?"0"+i:""+i)+":"+(s<10?"0"+s:""+s)+":"+(a<10?"0"+a:""+a)+" GMT"}var _="***SensitiveInformation***"},7801:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}var i=function(e){var t,n=new URL(e),i=n.hostname,s=n.pathname,a=n.port,u=n.protocol,c=n.search;return c&&(t=function(e){var t,n,i={};if(e=e.replace(/^\?/,""))try{for(var s=r(e.split("&")),a=s.next();!a.done;a=s.next()){var u=o(a.value.split("="),2),c=u[0],l=u[1],f=void 0===l?null:l;c=decodeURIComponent(c),f&&(f=decodeURIComponent(f)),c in i?Array.isArray(i[c])?i[c].push(f):i[c]=[i[c],f]:i[c]=f}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i}(c)),{hostname:i,port:a?parseInt(a):void 0,protocol:u,path:s,query:t}}},1823:(e,t,n)=>{"use strict";n.d(t,{G:()=>l,s:()=>f});for(var r={},o=new Array(64),i=0,s="A".charCodeAt(0),a="Z".charCodeAt(0);i+s<=a;i++){var u=String.fromCharCode(i+s);r[u]=i,o[i]=u}for(i=0,s="a".charCodeAt(0),a="z".charCodeAt(0);i+s<=a;i++){u=String.fromCharCode(i+s);var c=i+26;r[u]=c,o[c]=u}for(i=0;i<10;i++){r[i.toString(10)]=i+52;u=i.toString(10),c=i+52;r[u]=c,o[c]=u}r["+"]=62,o[62]="+",r["/"]=63,o[63]="/";function l(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),o=new DataView(n),i=0;i<e.length;i+=4){for(var s=0,a=0,u=i,c=i+3;u<=c;u++)"="!==e[u]?(s|=r[e[u]]<<6*(c-u),a+=6):s>>=6;var l=i/4*3;s>>=a%8;for(var f=Math.floor(a/8),h=0;h<f;h++){var d=8*(f-h-1);o.setUint8(l+h,(s&255<<d)>>d)}}return new Uint8Array(n)}function f(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,s=n,a=Math.min(n+3,e.length);s<a;s++)r|=e[s]<<8*(a-s-1),i+=8;var u=Math.ceil(i/6);r<<=6*u-i;for(var c=1;c<=u;c++){var l=6*(u-c);t+=o[(r&63<<l)>>l]}t+="==".slice(0,4-u)}return t}},1355:(e,t,n)=>{"use strict";function r(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}n.d(t,{W:()=>r})},4666:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,N:()=>u});for(var r={},o={},i=0;i<256;i++){var s=i.toString(16).toLowerCase();1===s.length&&(s="0"+s),r[i]=s,o[s]=i}function a(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in o))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=o[r]}return t}function u(e){for(var t="",n=0;n<e.byteLength;n++)t+=r[e[n]];return t}},5390:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locateWindow:()=>o});var r={};function o(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}},1680:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,o)},o=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}},2471:(e,t,n)=>{"use strict";n.d(t,{f:()=>a});function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var i=n(3630),s=n.n(i),a=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return r(void 0,void 0,void 0,(function(){var e,r,i,a,u,c,l,f,h;return o(this,(function(o){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?s().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.name)||"other"),null===(u=null==e?void 0:e.os)||void 0===u?void 0:u.version],["lang/js"],["md/browser",(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.name)&&void 0!==l?l:"unknown")+"_"+(null!==(h=null===(f=null==e?void 0:e.browser)||void 0===f?void 0:f.version)&&void 0!==h?h:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}},6905:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var s="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},1519:(e,t,n)=>{"use strict";n.d(t,{sD:()=>o,ZA:()=>N,xk:()=>R,bR:()=>U,ws:()=>K,KC:()=>q,AM:()=>re,MZ:()=>$,eR:()=>ie});
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var r,o=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,o=t.Password,i=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=i||{},this.clientMetadata=s||{},this.username=r,this.password=o}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),i=n(1408),s=n(8112),a=n.n(s),u=(n(3966),n(2232)),c=n.n(u),l=n(4652),f=n.n(l);if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(3677)}catch(e){}function h(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var d=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(h());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")}(this)},e}();const p=y;function y(e,t){null!=e&&this.fromString(e,t)}function g(){return new y(null)}var v;var m="undefined"!=typeof navigator;m&&"Microsoft Internet Explorer"==navigator.appName?(y.prototype.am=function(e,t,n,r,o,i){for(var s=32767&t,a=t>>15;--i>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*s;o=((u=s*u+((32767&l)<<15)+n[r]+(1073741823&o))>>>30)+(l>>>15)+a*c+(o>>>30),n[r++]=1073741823&u}return o},v=30):m&&"Netscape"!=navigator.appName?(y.prototype.am=function(e,t,n,r,o,i){for(;--i>=0;){var s=t*this[e++]+n[r]+o;o=Math.floor(s/67108864),n[r++]=67108863&s}return o},v=26):(y.prototype.am=function(e,t,n,r,o,i){for(var s=16383&t,a=t>>14;--i>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;o=((u=s*u+((16383&l)<<14)+n[r]+o)>>28)+(l>>14)+a*c,n[r++]=268435455&u}return o},v=28),y.prototype.DB=v,y.prototype.DM=(1<<v)-1,y.prototype.DV=1<<v;y.prototype.FV=Math.pow(2,52),y.prototype.F1=52-v,y.prototype.F2=2*v-52;var b,w,S=new Array;for(b="0".charCodeAt(0),w=0;w<=9;++w)S[b++]=w;for(b="a".charCodeAt(0),w=10;w<36;++w)S[b++]=w;for(b="A".charCodeAt(0),w=10;w<36;++w)S[b++]=w;function _(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function E(e,t){var n=S[e.charCodeAt(t)];return null==n?-1:n}function A(e){var t=g();return t.fromInt(e),t}function I(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function O(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
function T(e){return i.lW.from((new d).random(e).toString(),"hex")}O.prototype.convert=function(e){var t=g();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(y.ZERO)>0&&this.m.subTo(t,t),t},O.prototype.revert=function(e){var t=g();return e.copyTo(t),this.reduce(t),t},O.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},O.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},O.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},y.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},y.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},y.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,o=!1,i=0;--r>=0;){var s=E(e,r);s<0?"-"==e.charAt(r)&&(o=!0):(o=!1,0==i?this[this.t++]=s:i+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-i)-1)<<i,this[this.t++]=s>>this.DB-i):this[this.t-1]|=s<<i,(i+=n)>=this.DB&&(i-=this.DB))}this.clamp(),o&&y.ZERO.subTo(this,this)},y.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},y.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},y.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},y.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,o=this.DB-r,i=(1<<o)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>o|a,a=(this[n]&i)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},y.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&i)<<o,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},y.prototype.subTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},y.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),o=n.t;for(t.t=o+r.t;--o>=0;)t[o]=0;for(o=0;o<r.t;++o)t[o+n.t]=n.am(0,r[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&y.ZERO.subTo(t,t)},y.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},y.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=g());var i=g(),s=this.s,a=e.s,u=this.DB-I(r[r.t-1]);u>0?(r.lShiftTo(u,i),o.lShiftTo(u,n)):(r.copyTo(i),o.copyTo(n));var c=i.t,l=i[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?i[c-2]>>this.F2:0),h=this.FV/f,d=(1<<this.F1)/f,p=1<<this.F2,v=n.t,m=v-c,b=null==t?g():t;for(i.dlShiftTo(m,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),y.ONE.dlShiftTo(c,b),b.subTo(i,i);i.t<c;)i[i.t++]=0;for(;--m>=0;){var w=n[--v]==l?this.DM:Math.floor(n[v]*h+(n[v-1]+p)*d);if((n[v]+=i.am(0,w,n,m,0,c))<w)for(i.dlShiftTo(m,b),n.subTo(b,n);n[v]<--w;)n.subTo(b,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&y.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&y.ZERO.subTo(n,n)}}},y.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},y.prototype.addTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},y.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,o=!1,i="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(o=!0,i=_(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(o=!0),o&&(i+=_(n));return o?i:"0"},y.prototype.negate=function(){var e=g();return y.ZERO.subTo(this,e),e},y.prototype.abs=function(){return this.s<0?this.negate():this},y.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},y.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+I(this[this.t-1]^this.s&this.DM)},y.prototype.mod=function(e){var t=g();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(y.ZERO)>0&&e.subTo(t,t),t},y.prototype.equals=function(e){return 0==this.compareTo(e)},y.prototype.add=function(e){var t=g();return this.addTo(e,t),t},y.prototype.subtract=function(e){var t=g();return this.subTo(e,t),t},y.prototype.multiply=function(e){var t=g();return this.multiplyTo(e,t),t},y.prototype.divide=function(e){var t=g();return this.divRemTo(e,t,null),t},y.prototype.modPow=function(e,t,n){var r,o=e.bitLength(),i=A(1),s=new O(t);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6;var a=new Array,u=3,c=r-1,l=(1<<r)-1;if(a[1]=s.convert(this),r>1){var f=g();for(s.sqrTo(a[1],f);u<=l;)a[u]=g(),s.mulTo(f,a[u-2],a[u]),u+=2}var h,d,p=e.t-1,y=!0,v=g();for(o=I(e[p])-1;p>=0;){for(o>=c?h=e[p]>>o-c&l:(h=(e[p]&(1<<o+1)-1)<<c-o,p>0&&(h|=e[p-1]>>this.DB+o-c)),u=r;0==(1&h);)h>>=1,--u;if((o-=u)<0&&(o+=this.DB,--p),y)a[h].copyTo(i),y=!1;else{for(;u>1;)s.sqrTo(i,v),s.sqrTo(v,i),u-=2;u>0?s.sqrTo(i,v):(d=i,i=v,v=d),s.mulTo(v,a[h],i)}for(;p>=0&&0==(e[p]&1<<o);)s.sqrTo(i,v),d=i,i=v,v=d,--o<0&&(o=this.DB-1,--p)}var m=s.revert(i);return n(null,m),m},y.ZERO=A(0),y.ONE=A(1);var C=/^[89a-f]/i,x=function(){function e(e){this.N=new p("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new p("2",16),this.k=new p(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=i.lW.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=T(128).toString("hex");return new p(e,16)},t.generateRandomString=function(){return T(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var o=""+e+t+":"+this.randomPassword,i=this.hash(o),s=T(16).toString("hex");this.SaltToHashDevices=this.padHex(new p(s,16)),this.g.modPow(new p(this.hexHash(this.SaltToHashDevices+i),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(p.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new p(this.UHexHash,16)},t.hash=function(e){var t=e instanceof i.lW?a().lib.WordArray.create(e):e,n=c()(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(i.lW.from(e,"hex"))},t.computehkdf=function(e,t){var n=a().lib.WordArray.create(i.lW.concat([this.infoBits,i.lW.from(String.fromCharCode(1),"utf8")])),r=e instanceof i.lW?a().lib.WordArray.create(e):e,o=t instanceof i.lW?a().lib.WordArray.create(t):t,s=f()(r,o),u=f()(n,s);return i.lW.from(u.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,o){var s=this;if(n.mod(this.N).equals(p.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(p.ZERO))throw new Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,u=this.hash(a),c=new p(this.hexHash(this.padHex(r)+u),16);this.calculateS(c,n,(function(e,t){e&&o(e,null);var n=s.computehkdf(i.lW.from(s.padHex(t),"hex"),i.lW.from(s.padHex(s.UValue),"hex"));o(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(o,i){o&&n(o,null),t.subtract(r.k.multiply(i)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof p))throw new Error("Not a BigInteger");var t=e.compareTo(p.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=C.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new p(r,16).add(p.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),P=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(i.lW.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,k(t,n),r}(P);function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var R=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,M(t,n),r}(P),U=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),D=n(8885),L=n.n(D),$=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,o=t.AccessToken,i=t.ClockDrift;if(null==o||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=o,this.clockDrift=void 0===i?this.calculateClockDrift():i}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],F=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],B=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=F[e.getUTCDay()],n=j[e.getUTCMonth()],r=e.getUTCDate(),o=e.getUTCHours();o<10&&(o="0"+o);var i=e.getUTCMinutes();i<10&&(i="0"+i);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+n+" "+r+" "+o+":"+i+":"+s+" UTC "+e.getUTCFullYear()},e}(),q=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),G={},z=function(){function e(){}return e.setItem=function(e,t){return G[e]=t,G[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(G,e)?G[e]:void 0},e.removeItem=function(e){return delete G[e]},e.clear=function(){return G={}},e}(),H=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=z}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),V="undefined"!=typeof navigator?navigator.userAgent:"nodejs",K=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new H).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),i={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",i,(function(e,r){if(e)return t.onFailure(e);var o=r.ChallengeName,i=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===o?(n.Session=r.Session,t.customChallenge(i)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,o=this,s=new x(this.pool.getUserPoolId().split("_")[1]),u=new B,c={};null!=this.deviceKey&&(c.DEVICE_KEY=this.deviceKey),c.USERNAME=this.username,s.getLargeAValue((function(l,h){l&&t.onFailure(l),c.SRP_A=h.toString(16),"CUSTOM_AUTH"===o.authenticationFlowType&&(c.CHALLENGE_NAME="SRP_A");var d=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),y={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:c,ClientMetadata:d};o.getUserContextData(o.username)&&(y.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",y,(function(c,l){if(c)return t.onFailure(c);var h=l.ChallengeParameters;o.username=h.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",n=new p(h.SRP_B,16),r=new p(h.SALT,16),o.getCachedDeviceKeyAndPassword(),s.getPasswordAuthenticationKey(o.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=u.getNowString(),c=a().lib.WordArray.create(i.lW.concat([i.lW.from(o.pool.getUserPoolId().split("_")[1],"utf8"),i.lW.from(o.username,"utf8"),i.lW.from(h.SECRET_BLOCK,"base64"),i.lW.from(r,"utf8")])),p=a().lib.WordArray.create(n),y=L().stringify(f()(c,p)),g={};g.USERNAME=o.username,g.PASSWORD_CLAIM_SECRET_BLOCK=h.SECRET_BLOCK,g.TIMESTAMP=r,g.PASSWORD_CLAIM_SIGNATURE=y,null!=o.deviceKey&&(g.DEVICE_KEY=o.deviceKey);var v={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:g,Session:l.Session,ClientMetadata:d};o.getUserContextData()&&(v.UserContextData=o.getUserContextData()),function e(t,n){return o.client.request("RespondToAuthChallenge",t,(function(r,i){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(g.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,i)}))}(v,(function(e,n){return e?t.onFailure(e):o.authenticateUserInternal(n,s,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var o=new x(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,o,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,o=e.ChallengeName,s=e.ChallengeParameters;if("SMS_MFA"===o)return this.Session=e.Session,n.mfaRequired(o,s);if("SELECT_MFA_TYPE"===o)return this.Session=e.Session,n.selectMFAType(o,s);if("MFA_SETUP"===o)return this.Session=e.Session,n.mfaSetup(o,s);if("SOFTWARE_TOKEN_MFA"===o)return this.Session=e.Session,n.totpRequired(o,s);if("CUSTOM_CHALLENGE"===o)return this.Session=e.Session,n.customChallenge(s);if("NEW_PASSWORD_REQUIRED"===o){this.Session=e.Session;var a=null,u=null,c=[],l=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(s&&(a=JSON.parse(e.ChallengeParameters.userAttributes),u=JSON.parse(e.ChallengeParameters.requiredAttributes)),u)for(var f=0;f<u.length;f++)c[f]=u[f].substr(l.length);return n.newPasswordRequired(a,c)}if("DEVICE_SRP_AUTH"!==o){this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=o,this.cacheTokens();var h=e.AuthenticationResult.NewDeviceMetadata;if(null==h)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(o){if(o)return n.onFailure(o);var s={Salt:i.lW.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:i.lW.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=s.PasswordVerifier,r.deviceGroupKey=h.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:h.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:s,DeviceName:V},(function(t,o){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===o.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,o.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))}else this.getDeviceResponse(n)},t.completeNewPasswordChallenge=function(e,t,n,r){var o=this;if(!e)return n.onFailure(new Error("New password is required."));var i=new x(this.pool.getUserPoolId().split("_")[1]),s=i.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach((function(e){a[s+e]=t[e]})),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):o.authenticateUserInternal(t,i,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new x(this.deviceGroupKey),o=new B,s={};s.USERNAME=this.username,s.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(u,c){u&&e.onFailure(u),s.SRP_A=c.toString(16);var l={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:s,ClientMetadata:t};n.getUserContextData()&&(l.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",l,(function(t,s){if(t)return e.onFailure(t);var u=s.ChallengeParameters,c=new p(u.SRP_B,16),l=new p(u.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,c,l,(function(t,r){if(t)return e.onFailure(t);var c=o.getNowString(),l=a().lib.WordArray.create(i.lW.concat([i.lW.from(n.deviceGroupKey,"utf8"),i.lW.from(n.deviceKey,"utf8"),i.lW.from(u.SECRET_BLOCK,"base64"),i.lW.from(c,"utf8")])),h=a().lib.WordArray.create(r),d=L().stringify(f()(l,h)),p={};p.USERNAME=n.username,p.PASSWORD_CLAIM_SECRET_BLOCK=u.SECRET_BLOCK,p.TIMESTAMP=c,p.PASSWORD_CLAIM_SIGNATURE=d,p.DEVICE_KEY=n.deviceKey;var y={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:p,Session:s.Session};n.getUserContextData()&&(y.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",y,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",o,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,o={};o.USERNAME=this.username,o.ANSWER=e;var i=new x(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,i,t)}))},t.sendMFACode=function(e,t,n,r){var o=this,s={};s.USERNAME=this.username,s.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(s.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(s.DEVICE_KEY=this.deviceKey);var u={ChallengeName:a,ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(o.signInUserSession=o.getCognitoUserSession(n.AuthenticationResult),o.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(o.signInUserSession);var r=new x(o.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var s={Salt:i.lW.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:i.lW.from(r.getVerifierDevices(),"hex").toString("base64")};o.verifierDevices=s.PasswordVerifier,o.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,o.randomPassword=r.getRandomPassword(),o.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:o.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:s,DeviceName:V},(function(e,r){return e?t.onFailure(e):(o.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,o.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(o.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(o.signInUserSession))}))}))}else o.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],o=0;o<n.UserAttributes.length;o++){var i={Name:n.UserAttributes[o].Name,Value:n.UserAttributes[o].Value},s=new q(i);r.push(s)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):t(null,"SUCCESS")}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",o=n+".accessToken",i=n+".refreshToken",s=n+".clockDrift";if(this.storage.getItem(r)){var a=new R({IdToken:this.storage.getItem(r)}),u=new N({AccessToken:this.storage.getItem(o)}),c=new U({RefreshToken:this.storage.getItem(i)}),l=parseInt(this.storage.getItem(s),0)||0,f=new $({IdToken:a,AccessToken:u,RefreshToken:c,ClockDrift:l});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,o=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,i={};i.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),i.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:i,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),o(t,null);if(n){var i=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(i,"RefreshToken")||(i.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(i),r.cacheTokens(),o(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+"."+this.username+".clockDrift",i=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(o,""+this.signInUserSession.getClockDrift()),this.storage.setItem(i,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+".LastAuthUser",i=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(o),this.storage.removeItem(i)},t.getCognitoUserSession=function(e){var t=new R(e),n=new N(e),r=new U(e);return new $({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",o,(function(e){return e?n.onFailure(e):n.onSuccess()}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess()}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(){this.signInUserSession=null,this.clearCachedUser()},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var o={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,(function(r,o){return r?t.onFailure(r):(n.Session=o.Session,"SMS_MFA"===e?t.mfaRequired(o.ChallengeName,o.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(o.ChallengeName,o.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var o={};o.USERNAME=r.username;var i={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:o,Session:r.Session};r.getUserContextData()&&(i.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",i,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();n(6370);function W(){}W.prototype.userAgent="aws-amplify/0.1.x js";const Y=W;function J(e){var t="function"==typeof Map?new Map:void 0;return(J=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Q(e,arguments,ee(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),X(r,e)})(e)}function Q(e,t,n){return(Q=Z()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&X(o,n.prototype),o}).apply(null,arguments)}function Z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){var t,n;function r(t,n,r,o){var i;return(i=e.call(this,t)||this).code=n,i.name=r,i.statusCode=o,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,X(t,n),r}(J(Error)),ne=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,o){n.request(e,t,(function(e,t){e?o(new te(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.request=function(e,t,n){var r,o={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":Y.prototype.userAgent},i=Object.assign({},this.fetchOptions,{headers:o,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,i).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),o={code:t,name:t,message:e.message||e.Message||null};return n(o)})).catch((function(e){if(!(r&&r.headers&&r.headers.get("x-amzn-errortype"))){if(e instanceof Error&&"Network error"===e.message){var t={code:"NetworkError",name:e.name,message:e.message};return n(t)}return n(e)}try{var o=r.headers.get("x-amzn-errortype").split(":")[0],i={code:o,name:o,statusCode:r.status,message:r.status?r.status.toString():null};return n(i)}catch(t){return n(e)}}))},e}(),re=function(){function e(e,t){var n=e||{},r=n.UserPoolId,o=n.ClientId,i=n.endpoint,s=n.fetchOptions,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!o)throw new Error("Both UserPoolId and ClientId are required.");if(!/^[\w-]+_.+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=o,this.client=new ne(u,i,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||(new H).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,o,i){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:i};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,(function(t,n){if(t)return o(t,null);var r={Username:e,Pool:s,Storage:s.storage},i={user:new K(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return o(null,i)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new K(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),oe=n(7921),ie=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),oe.set(e,t,n),oe.get(e)},t.getItem=function(e){return oe.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),oe.remove(e,t)},t.clear=function(){var e,t=oe.get();for(e=0;e<t.length;++e)oe.remove(t[e]);return{}},e}()}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */,1408:(e,t,n)=>{"use strict";var r=n(4782),o=n(8898),i=n(5182);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),o=(e=a(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,o){var i,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var l=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(e,i+h)!==c(t,h)){f=!1;break}if(f)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function w(e,t,n,r){return G(B(t,e.length-n),e,n,r)}function S(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return S(e,t,n,r)}function E(e,t,n,r){return G(q(t),e,n,r)}function A(e,t,n,r){return G(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.lW=u,t.h2=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):y.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(i,s),c=this.slice(r,o),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){i=c[f],s=l[f];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function k(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function U(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function $(e,t,n,r,i){return i||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return $(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return $(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=u.isBuffer(e)?e:B(new u(e,r).toString()),a=s.length;for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}},4206:(e,t,n)=>{e.exports=n(8057)},4387:(e,t,n)=>{"use strict";var r=n(7485),o=n(4570),i=n(2940),s=n(581),a=n(574),u=n(3845),c=n(8338),l=n(8524);e.exports=function(e){return new Promise((function(t,n){var f=e.data,h=e.headers;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+y)}var g=a(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),s(g,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};o(t,n,i),d=null}},d.onabort=function(){d&&(n(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=(e.withCredentials||c(g))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;v&&(h[e.xsrfHeaderName]=v)}if("setRequestHeader"in d&&r.forEach(h,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),f||(f=null),d.send(f)}))}},8057:(e,t,n)=>{"use strict";var r=n(7485),o=n(875),i=n(5029),s=n(4941);function a(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=a(n(3141));u.Axios=i,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=n(7132),u.CancelToken=n(4603),u.isCancel=n(1475),u.all=function(e){return Promise.all(e)},u.spread=n(5739),u.isAxiosError=n(5835),e.exports=u,e.exports.default=u},7132:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4603:(e,t,n)=>{"use strict";var r=n(7132);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},1475:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},5029:(e,t,n)=>{"use strict";var r=n(7485),o=n(581),i=n(8096),s=n(5009),a=n(4941);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=u},8096:(e,t,n)=>{"use strict";var r=n(7485);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},574:(e,t,n)=>{"use strict";var r=n(2642),o=n(2288);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},8524:(e,t,n)=>{"use strict";var r=n(9953);e.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},5009:(e,t,n)=>{"use strict";var r=n(7485),o=n(9212),i=n(1475),s=n(3141);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},9953:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},4941:(e,t,n)=>{"use strict";var r=n(7485);e.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=u(void 0,e[o])):n[o]=u(e[o],t[o])}r.forEach(o,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(i,c),r.forEach(s,(function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=u(void 0,e[o])):n[o]=u(void 0,t[o])})),r.forEach(a,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=o.concat(i).concat(s).concat(a),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(f,c),n}},4570:(e,t,n)=>{"use strict";var r=n(8524);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},9212:(e,t,n)=>{"use strict";var r=n(7485);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},3141:(e,t,n)=>{"use strict";var r=n(7485),o=n(1446),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(a=n(4387)),a),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u},875:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},581:(e,t,n)=>{"use strict";var r=n(7485);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},2288:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},2940:(e,t,n)=>{"use strict";var r=n(7485);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},2642:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},5835:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},8338:(e,t,n)=>{"use strict";var r=n(7485);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},1446:(e,t,n)=>{"use strict";var r=n(7485);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3845:(e,t,n)=>{"use strict";var r=n(7485),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},5739:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7485:(e,t,n)=>{"use strict";var r=n(875),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:u,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},4782:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=u(e),s=i[0],a=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,u=r-o;a<u;a+=s)i.push(c(e,a,a+s>u?u:a+s));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3630:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(n),s=Math.max(o,i),a=0,u=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(o,i)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var o=e[n];if(t(o,n))return o}},e.assign=function(e){for(var t,n,r=e,o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var a=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=i.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(91))&&r.__esModule?r:{default:r},i=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],(n=null)&&s(t.prototype,n),r&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),o=u(n(93)),i=u(n(94)),s=u(n(95)),a=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,o={},i=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(o[t]=s,i+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),u=a.default.find(s,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(i>0){var h=Object.keys(o),d=a.default.find(h,(function(e){return t.isBrowser(e,!0)}));if(void 0!==d)return this.compareVersion(o[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),o=a.default.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(o,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},n=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=o.default.getMacOSVersionName(t),r={name:i.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=o.default.getAndroidVersionName(t),r={name:i.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:i.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},n=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},n=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},n=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},n=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},816:(e,t,n)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
const r=n(4782),o=n(8898),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=u,t.h2=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|y(e,t);let r=a(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const o=function(e){if(u.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(o)return r?-1:V(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===u)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){let n=!0;for(let r=0;r<u;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function w(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(J(r))return s;e[n+s]=r}return s}function S(e,t,n,r){return W(V(t,e.length-n),e,n,r)}function _(e,t,n,r){return W(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return W(K(t),e,n,r)}function A(e,t,n,r){return W(function(e,t){let n,r,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(u=(31&t)<<6|63&n,u>127&&(i=u));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return f(e)},u.allocUnsafeSlow=function(e){return f(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))o+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,o){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(i,s),c=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<a;++e)if(c[e]!==l[e]){i=c[e],s=l[e];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function C(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function x(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=Q[e[r]];return o}function k(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,o){q(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function U(e,t,n,r,o){q(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function $(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Z((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),u.prototype.readBigUInt64BE=Z((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Z((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Z((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){M(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){M(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Z((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Z((function(e,t=0){return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Z((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Z((function(e,t=0){return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return $(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return $(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=u.isBuffer(e)?e:u.from(e,r),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%s]}return this};const j={};function F(e,t,n){j[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function q(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(r,o,i)}function G(e,t){if("number"!=typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw G(e,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=B(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=B(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function V(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Z(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},943:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},4882:(e,t)=>{"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},a=e.split(o),u=i.decode||n,c=0;c<a.length;c++){var l=a[c],f=l.indexOf("=");if(!(f<0)){var h=l.substr(0,f).trim(),d=l.substr(++f,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),null==r[h]&&(r[h]=s(d,u))}}return r},t.q=function(e,t,n){var o=n||{},s=o.encode||r;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw new TypeError("argument val is invalid");var u=e+"="+a;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c))throw new Error("maxAge should be a Number");u+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+o.expires.toUTCString()}o.httpOnly&&(u+="; HttpOnly");o.secure&&(u+="; Secure");if(o.sameSite){switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var n=decodeURIComponent,r=encodeURIComponent,o=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(t){return e}}},9677:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}},e.exports=n},8112:function(e,t){var n;e.exports=(n=n||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=o.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var s=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=s<<24-(r+i)%4*8}else for(i=0;i<o;i+=4)t[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){t=t;var n=987654321,r=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var a=o(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},f=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,a=o/(4*i),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*i,c=e.min(4*u,o);if(u){for(var l=0;l<u;l+=i)this._doProcessBlock(r,l);var f=r.splice(0,u);n.sigBytes-=c}return new s.init(f,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(o.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),n)},8885:function(e,t,n){var r;e.exports=(r=n(8112),function(){var e=r,t=e.lib.WordArray;function n(e,n,r){for(var o=[],i=0,s=0;s<n;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2,u=r[e.charCodeAt(s)]>>>6-s%4*2;o[i>>>2]|=(a|u)<<24-i%4*8,i++}return t.create(o,i)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return n(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)},4652:function(e,t,n){var r;e.exports=(r=n(8112),n(2232),n(3456),r.HmacSHA256)},3456:function(e,t,n){var r,o,i,s;e.exports=(r=n(8112),i=(o=r).lib.Base,s=o.enc.Utf8,void(o.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),i=this._iKey=t.clone(),a=o.words,u=i.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;o.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},3966:function(e,t,n){var r;e.exports=(r=n(8112),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],o=0;o<n;o++)r[o>>>2]|=e[o]<<24-o%4*8;t.call(this,r,n)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)},2232:function(e,t,n){var r;e.exports=(r=n(8112),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,s=t.algo,a=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(a[o]=n(e.pow(r,.5))),u[o]=n(e.pow(r,1/3)),o++),r++}();var c=[],l=s.SHA256=i.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],l=n[5],f=n[6],h=n[7],d=0;d<64;d++){if(d<16)c[d]=0|e[t+d];else{var p=c[d-15],y=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=c[d-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[d]=y+c[d-7]+v+c[d-16]}var m=r&o^r&i^o&i,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&f)+u[d]+c[d];h=f,f=l,l=a,a=s+w|0,s=i,i=o,o=r,r=w+(b+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(l),t.HmacSHA256=i._createHmacHelper(l)}(Math),r.SHA256)},7693:function(e){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",o="day",i="week",s="month",a="quarter",u="year",c="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},p={s:d,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+d(r,2,"0")+":"+d(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,s),i=n-o<0,a=t.clone().add(r+(i?-1:1),s);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:s,y:u,w:i,d:o,D:c,h:r,m:n,s:t,ms:e,Q:a}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",g={};g[y]=h;var v=function(e){return e instanceof S},m=function(e,t,n){var r;if(!e)return y;if("string"==typeof e)g[e]&&(r=e),t&&(g[e]=t,r=e);else{var o=e.name;g[o]=e,r=o}return!n&&r&&(y=r),r||!n&&y},b=function(e,t){if(v(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new S(n)},w=p;w.l=m,w.i=v,w.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function h(e){this.$L=m(e.locale,null,!0),this.parse(e)}var d=h.prototype;return d.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(l);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},d.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},d.$utils=function(){return w},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(e,t){var n=b(e);return this.startOf(t)<=n&&n<=this.endOf(t)},d.isAfter=function(e,t){return b(e)<this.startOf(t)},d.isBefore=function(e,t){return this.endOf(t)<b(e)},d.$g=function(e,t,n){return w.u(e)?this[t]:this.set(n,e)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(e,a){var l=this,f=!!w.u(a)||a,h=w.p(e),d=function(e,t){var n=w.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return f?n:n.endOf(o)},p=function(e,t){return w.w(l.toDate()[e].apply(l.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},y=this.$W,g=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(h){case u:return f?d(1,0):d(31,11);case s:return f?d(1,g):d(0,g+1);case i:var b=this.$locale().weekStart||0,S=(y<b?y+7:y)-b;return d(f?v-S:v+(6-S),g);case o:case c:return p(m+"Hours",0);case r:return p(m+"Minutes",1);case n:return p(m+"Seconds",2);case t:return p(m+"Milliseconds",3);default:return this.clone()}},d.endOf=function(e){return this.startOf(e,!1)},d.$set=function(i,a){var l,f=w.p(i),h="set"+(this.$u?"UTC":""),d=(l={},l[o]=h+"Date",l[c]=h+"Date",l[s]=h+"Month",l[u]=h+"FullYear",l[r]=h+"Hours",l[n]=h+"Minutes",l[t]=h+"Seconds",l[e]=h+"Milliseconds",l)[f],p=f===o?this.$D+(a-this.$W):a;if(f===s||f===u){var y=this.clone().set(c,1);y.$d[d](p),y.init(),this.$d=y.set(c,Math.min(this.$D,y.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},d.set=function(e,t){return this.clone().$set(e,t)},d.get=function(e){return this[w.p(e)]()},d.add=function(e,a){var c,l=this;e=Number(e);var f=w.p(a),h=function(t){var n=b(l);return w.w(n.date(n.date()+Math.round(t*e)),l)};if(f===s)return this.set(s,this.$M+e);if(f===u)return this.set(u,this.$y+e);if(f===o)return h(1);if(f===i)return h(7);var d=(c={},c[n]=6e4,c[r]=36e5,c[t]=1e3,c)[f]||1,p=this.$d.getTime()+e*d;return w.w(p,this)},d.subtract=function(e,t){return this.add(-1*e,t)},d.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),o=this.$locale(),i=this.$H,s=this.$m,a=this.$M,u=o.weekdays,c=o.months,l=function(e,r,o,i){return e&&(e[r]||e(t,n))||o[r].substr(0,i)},h=function(e){return w.s(i%12||12,e,"0")},d=o.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:l(o.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(o.weekdaysMin,this.$W,u,2),ddd:l(o.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:w.s(i,2,"0"),h:h(1),hh:h(2),a:d(i,s,!0),A:d(i,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(f,(function(e,t){return t||p[e]||r.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(e,c,l){var f,h=w.p(c),d=b(e),p=6e4*(d.utcOffset()-this.utcOffset()),y=this-d,g=w.m(this,d);return g=(f={},f[u]=g/12,f[s]=g,f[a]=g/3,f[i]=(y-p)/6048e5,f[o]=(y-p)/864e5,f[r]=y/36e5,f[n]=y/6e4,f[t]=y/1e3,f)[h]||y,l?g:w.a(g)},d.daysInMonth=function(){return this.endOf(s).$D},d.$locale=function(){return g[this.$L]},d.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=m(e,t,!0);return r&&(n.$L=r),n},d.clone=function(){return w.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},h}(),_=S.prototype;return b.prototype=_,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W",o],["$M",s],["$y",u],["$D",c]].forEach((function(e){_[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),b.extend=function(e,t){return e.$i||(e(t,S,b),e.$i=!0),b},b.locale=m,b.isDayjs=v,b.unix=function(e){return b(1e3*e)},b.en=g[y],b.Ls=g,b.p={},b}()},2342:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")}}()},4381:function(e,t,n){e.exports=function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),n="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),r="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),o="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),i=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function s(e,t,n){var r,o;return"m"===n?t?"минута":"минуту":e+" "+(r=+e,o={mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n].split("_"),r%10==1&&r%100!=11?o[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?o[1]:o[2])}var a=function(e,r){return i.test(r)?t[e.month()]:n[e.month()]};a.s=n,a.f=t;var u=function(e,t){return i.test(t)?r[e.month()]:o[e.month()]};u.s=o,u.f=r;var c={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:a,monthsShort:u,weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:s,mm:s,h:"час",hh:s,d:"день",dd:s,M:"месяц",MM:s,y:"год",yy:s},ordinal:function(e){return e}};return e.locale(c,null,!0),c}(n(7693))},5123:function(e,t,n){e.exports=function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t="січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),n="січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),r=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function o(e,t,n){var r,o;return"m"===n?t?"хвилина":"хвилину":"h"===n?t?"година":"годину":e+" "+(r=+e,o={ss:t?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[n].split("_"),r%10==1&&r%100!=11?o[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?o[1]:o[2])}var i=function(e,o){return r.test(o)?t[e.month()]:n[e.month()]};i.s=n,i.f=t;var s={name:"uk",weekdays:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),weekdaysShort:"ндл_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),months:i,monthsShort:"січ_лют_бер_квiт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekStart:1,relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:o,mm:o,h:o,hh:o,d:"день",dd:o,M:"місяць",MM:o,y:"рік",yy:o},ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"}};return e.locale(s,null,!0),s}(n(7693))},8898:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?o-1:0,h=n?-1:1,d=e[t+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=a;l>0;i=256*i+e[t+f],f+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=c}return(d?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[n+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*y}},8809:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},5182:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},6370:(e,t,n)=>{e.exports=self.fetch||(self.fetch=n(4669).default||n(4669))},7921:(e,t,n)=>{var r,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var s=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in i)i[u]&&(a+="; "+u,!0!==i[u]&&(a+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(o[c]=u,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},1586:(e,t,n)=>{var r,o,i,s,a;r=n(9677),o=n(943).utf8,i=n(8809),s=n(943).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):o.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),u=8*e.length,c=1732584193,l=-271733879,f=-1732584194,h=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[u>>>5]|=128<<u%32,n[14+(u+64>>>9<<4)]=u;var p=a._ff,y=a._gg,g=a._hh,v=a._ii;for(d=0;d<n.length;d+=16){var m=c,b=l,w=f,S=h;c=p(c,l,f,h,n[d+0],7,-680876936),h=p(h,c,l,f,n[d+1],12,-389564586),f=p(f,h,c,l,n[d+2],17,606105819),l=p(l,f,h,c,n[d+3],22,-1044525330),c=p(c,l,f,h,n[d+4],7,-176418897),h=p(h,c,l,f,n[d+5],12,1200080426),f=p(f,h,c,l,n[d+6],17,-1473231341),l=p(l,f,h,c,n[d+7],22,-45705983),c=p(c,l,f,h,n[d+8],7,1770035416),h=p(h,c,l,f,n[d+9],12,-1958414417),f=p(f,h,c,l,n[d+10],17,-42063),l=p(l,f,h,c,n[d+11],22,-1990404162),c=p(c,l,f,h,n[d+12],7,1804603682),h=p(h,c,l,f,n[d+13],12,-40341101),f=p(f,h,c,l,n[d+14],17,-1502002290),c=y(c,l=p(l,f,h,c,n[d+15],22,1236535329),f,h,n[d+1],5,-165796510),h=y(h,c,l,f,n[d+6],9,-1069501632),f=y(f,h,c,l,n[d+11],14,643717713),l=y(l,f,h,c,n[d+0],20,-373897302),c=y(c,l,f,h,n[d+5],5,-701558691),h=y(h,c,l,f,n[d+10],9,38016083),f=y(f,h,c,l,n[d+15],14,-660478335),l=y(l,f,h,c,n[d+4],20,-405537848),c=y(c,l,f,h,n[d+9],5,568446438),h=y(h,c,l,f,n[d+14],9,-1019803690),f=y(f,h,c,l,n[d+3],14,-187363961),l=y(l,f,h,c,n[d+8],20,1163531501),c=y(c,l,f,h,n[d+13],5,-1444681467),h=y(h,c,l,f,n[d+2],9,-51403784),f=y(f,h,c,l,n[d+7],14,1735328473),c=g(c,l=y(l,f,h,c,n[d+12],20,-1926607734),f,h,n[d+5],4,-378558),h=g(h,c,l,f,n[d+8],11,-2022574463),f=g(f,h,c,l,n[d+11],16,1839030562),l=g(l,f,h,c,n[d+14],23,-35309556),c=g(c,l,f,h,n[d+1],4,-1530992060),h=g(h,c,l,f,n[d+4],11,1272893353),f=g(f,h,c,l,n[d+7],16,-155497632),l=g(l,f,h,c,n[d+10],23,-1094730640),c=g(c,l,f,h,n[d+13],4,681279174),h=g(h,c,l,f,n[d+0],11,-358537222),f=g(f,h,c,l,n[d+3],16,-722521979),l=g(l,f,h,c,n[d+6],23,76029189),c=g(c,l,f,h,n[d+9],4,-640364487),h=g(h,c,l,f,n[d+12],11,-421815835),f=g(f,h,c,l,n[d+15],16,530742520),c=v(c,l=g(l,f,h,c,n[d+2],23,-995338651),f,h,n[d+0],6,-198630844),h=v(h,c,l,f,n[d+7],10,1126891415),f=v(f,h,c,l,n[d+14],15,-1416354905),l=v(l,f,h,c,n[d+5],21,-57434055),c=v(c,l,f,h,n[d+12],6,1700485571),h=v(h,c,l,f,n[d+3],10,-1894986606),f=v(f,h,c,l,n[d+10],15,-1051523),l=v(l,f,h,c,n[d+1],21,-2054922799),c=v(c,l,f,h,n[d+8],6,1873313359),h=v(h,c,l,f,n[d+15],10,-30611744),f=v(f,h,c,l,n[d+6],15,-1560198380),l=v(l,f,h,c,n[d+13],21,1309151649),c=v(c,l,f,h,n[d+4],6,-145523070),h=v(h,c,l,f,n[d+11],10,-1120210379),f=v(f,h,c,l,n[d+2],15,718787259),l=v(l,f,h,c,n[d+9],21,-343485551),c=c+m>>>0,l=l+b>>>0,f=f+w>>>0,h=h+S>>>0}return r.endian([c,l,f,h])})._ff=function(e,t,n,r,o,i,s){var a=e+(t&n|~t&r)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},a._gg=function(e,t,n,r,o,i,s){var a=e+(t&r|n&~r)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},a._hh=function(e,t,n,r,o,i,s){var a=e+(t^n^r)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},a._ii=function(e,t,n,r,o,i,s){var a=e+(n^(t|~r))+(o>>>0)+s;return(a<<i|a>>>32-i)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(a(e,t));return t&&t.asBytes?n:t&&t.asString?s.bytesToString(n):r.bytesToHex(n)}},6012:function(e,t,n){var r;r=function(){return function(e){var t,n=e.localStorage||(t={},{setItem:function(e,n){t[e]=n},getItem:function(e){return t[e]},removeItem:function(e){delete t[e]}}),r=1,o=2,i=3,s=4,a=5,u=6,c=7,l=8,f=9,h=10,d=11,p=12,y=13,g=14,v=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)){var r="Unknown property, "+n+". Valid properties are:";for(var o in t)t.hasOwnProperty(o)&&(r=r+" "+o);throw new Error(r)}if(typeof e[n]!==t[n])throw new Error(S(b.INVALID_TYPE,[typeof e[n],n]))}},m=function(e,t){return function(){return e.apply(t,arguments)}},b={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},w={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},S=function(e,t){var n=e.text;if(t)for(var r,o,i=0;i<t.length;i++)if(r="{"+i+"}",(o=n.indexOf(r))>0){var s=n.substring(0,o),a=n.substring(o+r.length);n=s+t[i]+a}return n},_=[0,6,77,81,73,115,100,112,3],E=[0,4,77,81,84,84,4],A=function(e,t){for(var n in this.type=e,t)t.hasOwnProperty(n)&&(this[n]=t[n])};function I(e,t){var n,r=t,l=e[t],h=l>>4,p=l&=15;t+=1;var y=0,g=1;do{if(t==e.length)return[null,r];y+=(127&(n=e[t++]))*g,g*=128}while(0!=(128&n));var v=t+y;if(v>e.length)return[null,r];var m=new A(h);switch(h){case o:1&e[t++]&&(m.sessionPresent=!0),m.returnCode=e[t++];break;case i:var b=p>>1&3,w=C(e,t),S=k(e,t+=2,w);t+=w,b>0&&(m.messageIdentifier=C(e,t),t+=2);var _=new U(e.subarray(t,v));1==(1&p)&&(_.retained=!0),8==(8&p)&&(_.duplicate=!0),_.qos=b,_.destinationName=S,m.payloadMessage=_;break;case s:case a:case u:case c:case d:m.messageIdentifier=C(e,t);break;case f:m.messageIdentifier=C(e,t),t+=2,m.returnCode=e.subarray(t,v)}return[m,v]}function O(e,t,n){return t[n++]=e>>8,t[n++]=e%256,n}function T(e,t,n,r){return P(e,n,r=O(t,n,r)),r+t}function C(e,t){return 256*e[t]+e[t+1]}function x(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>2047?(55296<=r&&r<=56319&&(n++,t++),t+=3):r>127?t+=2:t++}return t}function P(e,t,n){for(var r=n,o=0;o<e.length;o++){var i=e.charCodeAt(o);if(55296<=i&&i<=56319){var s=e.charCodeAt(++o);if(isNaN(s))throw new Error(S(b.MALFORMED_UNICODE,[i,s]));i=s-56320+(i-55296<<10)+65536}i<=127?t[r++]=i:i<=2047?(t[r++]=i>>6&31|192,t[r++]=63&i|128):i<=65535?(t[r++]=i>>12&15|224,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>18&7|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128)}return t}function k(e,t,n){for(var r,o="",i=t;i<t+n;){var s=e[i++];if(s<128)r=s;else{var a=e[i++]-128;if(a<0)throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),""]));if(s<224)r=64*(s-192)+a;else{var u=e[i++]-128;if(u<0)throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),u.toString(16)]));if(s<240)r=4096*(s-224)+64*a+u;else{var c=e[i++]-128;if(c<0)throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),u.toString(16),c.toString(16)]));if(!(s<248))throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),u.toString(16),c.toString(16)]));r=262144*(s-240)+4096*a+64*u+c}}}r>65535&&(r-=65536,o+=String.fromCharCode(55296+(r>>10)),r=56320+(1023&r)),o+=String.fromCharCode(r)}return o}A.prototype.encode=function(){var e,t=(15&this.type)<<4,n=0,o=[],s=0;switch(void 0!==this.messageIdentifier&&(n+=2),this.type){case r:switch(this.mqttVersion){case 3:n+=_.length+3;break;case 4:n+=E.length+3}n+=x(this.clientId)+2,void 0!==this.willMessage&&(n+=x(this.willMessage.destinationName)+2,(e=this.willMessage.payloadBytes)instanceof Uint8Array||(e=new Uint8Array(c)),n+=e.byteLength+2),void 0!==this.userName&&(n+=x(this.userName)+2),void 0!==this.password&&(n+=x(this.password)+2);break;case l:t|=2;for(var a=0;a<this.topics.length;a++)o[a]=x(this.topics[a]),n+=o[a]+2;n+=this.requestedQos.length;break;case h:for(t|=2,a=0;a<this.topics.length;a++)o[a]=x(this.topics[a]),n+=o[a]+2;break;case u:t|=2;break;case i:this.payloadMessage.duplicate&&(t|=8),t=t|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(t|=1),n+=(s=x(this.payloadMessage.destinationName))+2;var c=this.payloadMessage.payloadBytes;n+=c.byteLength,c instanceof ArrayBuffer?c=new Uint8Array(c):c instanceof Uint8Array||(c=new Uint8Array(c.buffer))}var f=function(e){var t=new Array(1),n=0;do{var r=e%128;(e>>=7)>0&&(r|=128),t[n++]=r}while(e>0&&n<4);return t}(n),d=f.length+1,p=new ArrayBuffer(n+d),y=new Uint8Array(p);if(y[0]=t,y.set(f,1),this.type==i)d=T(this.payloadMessage.destinationName,s,y,d);else if(this.type==r){switch(this.mqttVersion){case 3:y.set(_,d),d+=_.length;break;case 4:y.set(E,d),d+=E.length}var g=0;this.cleanSession&&(g=2),void 0!==this.willMessage&&(g|=4,g|=this.willMessage.qos<<3,this.willMessage.retained&&(g|=32)),void 0!==this.userName&&(g|=128),void 0!==this.password&&(g|=64),y[d++]=g,d=O(this.keepAliveInterval,y,d)}switch(void 0!==this.messageIdentifier&&(d=O(this.messageIdentifier,y,d)),this.type){case r:d=T(this.clientId,x(this.clientId),y,d),void 0!==this.willMessage&&(d=T(this.willMessage.destinationName,x(this.willMessage.destinationName),y,d),d=O(e.byteLength,y,d),y.set(e,d),d+=e.byteLength),void 0!==this.userName&&(d=T(this.userName,x(this.userName),y,d)),void 0!==this.password&&(d=T(this.password,x(this.password),y,d));break;case i:y.set(c,d);break;case l:for(a=0;a<this.topics.length;a++)d=T(this.topics[a],o[a],y,d),y[d++]=this.requestedQos[a];break;case h:for(a=0;a<this.topics.length;a++)d=T(this.topics[a],o[a],y,d)}return p};var N=function(e,t){this._client=e,this._keepAliveInterval=1e3*t,this.isReset=!1;var n=new A(p).encode(),r=function(e){return function(){return o.apply(e)}},o=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(n),this.timeout=setTimeout(r(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(b.PING_TIMEOUT.code,S(b.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(r(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},M=function(e,t,n,r){t||(t=30),this.timeout=setTimeout(function(e,t,n){return function(){return e.apply(t,n)}}(n,e,r),1e3*t),this.cancel=function(){clearTimeout(this.timeout)}},R=function(t,r,o,i,s){if(!("WebSocket"in e)||null===e.WebSocket)throw new Error(S(b.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in e)||null===e.ArrayBuffer)throw new Error(S(b.UNSUPPORTED,["ArrayBuffer"]));for(var a in this._trace("Paho.Client",t,r,o,i,s),this.host=r,this.port=o,this.path=i,this.uri=t,this.clientId=s,this._wsuri=null,this._localKey=r+":"+o+("/mqtt"!=i?":"+i:"")+":"+s+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0,n)0!==a.indexOf("Sent:"+this._localKey)&&0!==a.indexOf("Received:"+this._localKey)||this.restore(a)};R.prototype.host=null,R.prototype.port=null,R.prototype.path=null,R.prototype.uri=null,R.prototype.clientId=null,R.prototype.socket=null,R.prototype.connected=!1,R.prototype.maxMessageIdentifier=65536,R.prototype.connectOptions=null,R.prototype.hostIndex=null,R.prototype.onConnected=null,R.prototype.onConnectionLost=null,R.prototype.onMessageDelivered=null,R.prototype.onMessageArrived=null,R.prototype.traceFunction=null,R.prototype._msg_queue=null,R.prototype._buffered_msg_queue=null,R.prototype._connectTimeout=null,R.prototype.sendPinger=null,R.prototype.receivePinger=null,R.prototype._reconnectInterval=1,R.prototype._reconnecting=!1,R.prototype._reconnectTimeout=null,R.prototype.disconnectedPublishing=!1,R.prototype.disconnectedBufferSize=5e3,R.prototype.receiveBuffer=null,R.prototype._traceBuffer=null,R.prototype._MAX_TRACE_ENTRIES=100,R.prototype.connect=function(e){var t=this._traceMask(e,"password");if(this._trace("Client.connect",t,this.socket,this.connected),this.connected)throw new Error(S(b.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(S(b.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=e,this._reconnectInterval=1,this._reconnecting=!1,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},R.prototype.subscribe=function(e,t){if(this._trace("Client.subscribe",e,t),!this.connected)throw new Error(S(b.INVALID_STATE,["not connected"]));var n=new A(l);n.topics=e.constructor===Array?e:[e],void 0===t.qos&&(t.qos=0),n.requestedQos=[];for(var r=0;r<n.topics.length;r++)n.requestedQos[r]=t.qos;t.onSuccess&&(n.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(n.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e,errorMessage:S(e)})}),t.timeout&&(n.timeOut=new M(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.SUBSCRIBE_TIMEOUT.code,errorMessage:S(b.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},R.prototype.unsubscribe=function(e,t){if(this._trace("Client.unsubscribe",e,t),!this.connected)throw new Error(S(b.INVALID_STATE,["not connected"]));var n=new A(h);n.topics=e.constructor===Array?e:[e],t.onSuccess&&(n.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(n.timeOut=new M(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.UNSUBSCRIBE_TIMEOUT.code,errorMessage:S(b.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},R.prototype.send=function(e){this._trace("Client.send",e);var t=new A(i);if(t.payloadMessage=e,this.connected)e.qos>0?this._requires_ack(t):this.onMessageDelivered&&(this._notify_msg_sent[t]=this.onMessageDelivered(t.payloadMessage)),this._schedule_message(t);else{if(!this._reconnecting||!this.disconnectedPublishing)throw new Error(S(b.INVALID_STATE,["not connected"]));if(Object.keys(this._sentMessages).length+this._buffered_msg_queue.length>this.disconnectedBufferSize)throw new Error(S(b.BUFFER_FULL,[this.disconnectedBufferSize]));e.qos>0?this._requires_ack(t):(t.sequence=++this._sequence,this._buffered_msg_queue.unshift(t))}},R.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(S(b.INVALID_STATE,["not connecting or connected"]));var e=new A(g);this._notify_msg_sent[e]=m(this._disconnected,this),this._schedule_message(e)},R.prototype.getTraceLog=function(){if(null!==this._traceBuffer){for(var e in this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length),this._sentMessages)this._trace("_sentMessages ",e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace("_receivedMessages ",e,this._receivedMessages[e]);return this._traceBuffer}},R.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,"@VERSION@-@BUILDLEVEL@")},R.prototype.stopTrace=function(){delete this._traceBuffer},R.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(":");t[0]="wss",e=t.join(":")}this._wsuri=e,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(e,["mqttv3.1"]):this.socket=new WebSocket(e,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=m(this._on_socket_open,this),this.socket.onmessage=m(this._on_socket_message,this),this.socket.onerror=m(this._on_socket_error,this),this.socket.onclose=m(this._on_socket_close,this),this.sendPinger=new N(this,this.connectOptions.keepAliveInterval),this.receivePinger=new N(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new M(this,this.connectOptions.timeout,this._disconnected,[b.CONNECT_TIMEOUT.code,S(b.CONNECT_TIMEOUT)])},R.prototype._schedule_message=function(e){this._msg_queue.unshift(e),this.connected&&this._process_queue()},R.prototype.store=function(e,t){var r={type:t.type,messageIdentifier:t.messageIdentifier,version:1};switch(t.type){case i:t.pubRecReceived&&(r.pubRecReceived=!0),r.payloadMessage={};for(var o="",s=t.payloadMessage.payloadBytes,a=0;a<s.length;a++)s[a]<=15?o=o+"0"+s[a].toString(16):o+=s[a].toString(16);r.payloadMessage.payloadHex=o,r.payloadMessage.qos=t.payloadMessage.qos,r.payloadMessage.destinationName=t.payloadMessage.destinationName,t.payloadMessage.duplicate&&(r.payloadMessage.duplicate=!0),t.payloadMessage.retained&&(r.payloadMessage.retained=!0),0===e.indexOf("Sent:")&&(void 0===t.sequence&&(t.sequence=++this._sequence),r.sequence=t.sequence);break;default:throw Error(S(b.INVALID_STORED_DATA,[e+this._localKey+t.messageIdentifier,r]))}n.setItem(e+this._localKey+t.messageIdentifier,JSON.stringify(r))},R.prototype.restore=function(e){var t=n.getItem(e),r=JSON.parse(t),o=new A(r.type,r);switch(r.type){case i:for(var s=r.payloadMessage.payloadHex,a=new ArrayBuffer(s.length/2),u=new Uint8Array(a),c=0;s.length>=2;){var l=parseInt(s.substring(0,2),16);s=s.substring(2,s.length),u[c++]=l}var f=new U(u);f.qos=r.payloadMessage.qos,f.destinationName=r.payloadMessage.destinationName,r.payloadMessage.duplicate&&(f.duplicate=!0),r.payloadMessage.retained&&(f.retained=!0),o.payloadMessage=f;break;default:throw Error(S(b.INVALID_STORED_DATA,[e,t]))}0===e.indexOf("Sent:"+this._localKey)?(o.payloadMessage.duplicate=!0,this._sentMessages[o.messageIdentifier]=o):0===e.indexOf("Received:"+this._localKey)&&(this._receivedMessages[o.messageIdentifier]=o)},R.prototype._process_queue=function(){for(var e=null;e=this._msg_queue.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},R.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error("Too many messages:"+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===i&&this.store("Sent:",e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},R.prototype._on_socket_open=function(){var e=new A(r,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},R.prototype._on_socket_message=function(e){this._trace("Client._on_socket_message",e.data);for(var t=this._deframeMessages(e.data),n=0;n<t.length;n+=1)this._handleMessage(t[n])},R.prototype._deframeMessages=function(e){var t=new Uint8Array(e),n=[];if(this.receiveBuffer){var r=new Uint8Array(this.receiveBuffer.length+t.length);r.set(this.receiveBuffer),r.set(t,this.receiveBuffer.length),t=r,delete this.receiveBuffer}try{for(var o=0;o<t.length;){var i=I(t,o),s=i[0];if(o=i[1],null===s)break;n.push(s)}o<t.length&&(this.receiveBuffer=t.subarray(o))}catch(e){var a="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,S(b.INTERNAL_ERROR,[e.message,a]))}return n},R.prototype._handleMessage=function(e){this._trace("Client._handleMessage",e);try{switch(e.type){case o:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var t in this._sentMessages){var r=this._sentMessages[t];n.removeItem("Sent:"+this._localKey+r.messageIdentifier)}for(var t in this._sentMessages={},this._receivedMessages){var l=this._receivedMessages[t];n.removeItem("Received:"+this._localKey+l.messageIdentifier)}this._receivedMessages={}}if(0!==e.returnCode){this._disconnected(b.CONNACK_RETURNCODE.code,S(b.CONNACK_RETURNCODE,[e.returnCode,w[e.returnCode]]));break}this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);var h=[];for(var p in this._sentMessages)this._sentMessages.hasOwnProperty(p)&&h.push(this._sentMessages[p]);if(this._buffered_msg_queue.length>0)for(var v=null;v=this._buffered_msg_queue.pop();)h.push(v),this.onMessageDelivered&&(this._notify_msg_sent[v]=this.onMessageDelivered(v.payloadMessage));h=h.sort((function(e,t){return e.sequence-t.sequence}));for(var m=0,_=h.length;m<_;m++)if((r=h[m]).type==i&&r.pubRecReceived){var E=new A(u,{messageIdentifier:r.messageIdentifier});this._schedule_message(E)}else this._schedule_message(r);this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var I=!1;this._reconnecting&&(I=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(I,this._wsuri),this._process_queue();break;case i:this._receivePublish(e);break;case s:(r=this._sentMessages[e.messageIdentifier])&&(delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(r.payloadMessage));break;case a:(r=this._sentMessages[e.messageIdentifier])&&(r.pubRecReceived=!0,E=new A(u,{messageIdentifier:e.messageIdentifier}),this.store("Sent:",r),this._schedule_message(E));break;case u:l=this._receivedMessages[e.messageIdentifier],n.removeItem("Received:"+this._localKey+e.messageIdentifier),l&&(this._receiveMessage(l),delete this._receivedMessages[e.messageIdentifier]);var O=new A(c,{messageIdentifier:e.messageIdentifier});this._schedule_message(O);break;case c:r=this._sentMessages[e.messageIdentifier],delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(r.payloadMessage);break;case f:(r=this._sentMessages[e.messageIdentifier])&&(r.timeOut&&r.timeOut.cancel(),128===e.returnCode[0]?r.onFailure&&r.onFailure(e.returnCode):r.onSuccess&&r.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case d:(r=this._sentMessages[e.messageIdentifier])&&(r.timeOut&&r.timeOut.cancel(),r.callback&&r.callback(),delete this._sentMessages[e.messageIdentifier]);break;case y:this.sendPinger.reset();break;case g:this._disconnected(b.INVALID_MQTT_MESSAGE_TYPE.code,S(b.INVALID_MQTT_MESSAGE_TYPE,[e.type]));break;default:this._disconnected(b.INVALID_MQTT_MESSAGE_TYPE.code,S(b.INVALID_MQTT_MESSAGE_TYPE,[e.type]))}}catch(e){var T="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,S(b.INTERNAL_ERROR,[e.message,T]))}},R.prototype._on_socket_error=function(e){this._reconnecting||this._disconnected(b.SOCKET_ERROR.code,S(b.SOCKET_ERROR,[e.data]))},R.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(b.SOCKET_CLOSE.code,S(b.SOCKET_CLOSE))},R.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,"password");this._trace("Client._socket_send",t)}else this._trace("Client._socket_send",e);this.socket.send(e.encode()),this.sendPinger.reset()},R.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(e);break;case 1:var t=new A(s,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store("Received:",e);var n=new A(a,{messageIdentifier:e.messageIdentifier});this._schedule_message(n);break;default:throw Error("Invaild qos="+e.payloadMessage.qos)}},R.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},R.prototype._connected=function(e,t){this.onConnected&&this.onConnected(e,t)},R.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=2*this._reconnectInterval),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},R.prototype._disconnected=function(e,t){if(this._trace("Client._disconnected",e,t),void 0!==e&&this._reconnecting)this._reconnectTimeout=new M(this,this._reconnectInterval,this._reconnect);else if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===e&&(e=b.OK.code,t=S(b.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),e!==b.OK.code&&this.connectOptions.reconnect)return this._reconnectInterval=1,void this._reconnect()}else 4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t})},R.prototype._trace=function(){if(this.traceFunction){var e=Array.prototype.slice.call(arguments);for(var t in e)void 0!==e[t]&&e.splice(t,1,JSON.stringify(e[t]));var n=e.join("");this.traceFunction({severity:"Debug",message:n})}if(null!==this._traceBuffer){t=0;for(var r=arguments.length;t<r;t++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===t||void 0===arguments[t]?this._traceBuffer.push(arguments[t]):this._traceBuffer.push("  "+JSON.stringify(arguments[t]))}},R.prototype._traceMask=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=r==t?"******":e[r]);return n};var U=function(e){var t,n;if(!("string"==typeof e||e instanceof ArrayBuffer||ArrayBuffer.isView(e)&&!(e instanceof DataView)))throw S(b.INVALID_ARGUMENT,[e,"newPayload"]);t=e;var r=0,o=!1,i=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return"string"==typeof t?t:k(t,0,t.length)}},payloadBytes:{enumerable:!0,get:function(){if("string"==typeof t){var e=new ArrayBuffer(x(t)),n=new Uint8Array(e);return P(t,n,0),n}return t}},destinationName:{enumerable:!0,get:function(){return n},set:function(e){if("string"!=typeof e)throw new Error(S(b.INVALID_ARGUMENT,[e,"newDestinationName"]));n=e}},qos:{enumerable:!0,get:function(){return r},set:function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid argument:"+e);r=e}},retained:{enumerable:!0,get:function(){return o},set:function(e){if("boolean"!=typeof e)throw new Error(S(b.INVALID_ARGUMENT,[e,"newRetained"]));o=e}},topic:{enumerable:!0,get:function(){return n},set:function(e){n=e}},duplicate:{enumerable:!0,get:function(){return i},set:function(e){i=e}}})};return{Client:function(e,t,n,r){var o;if("string"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"host"]));if(2==arguments.length){r=t;var i=(o=e).match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(!i)throw new Error(S(b.INVALID_ARGUMENT,[e,"host"]));e=i[4]||i[2],t=parseInt(i[7]),n=i[8]}else{if(3==arguments.length&&(r=n,n="/mqtt"),"number"!=typeof t||t<0)throw new Error(S(b.INVALID_TYPE,[typeof t,"port"]));if("string"!=typeof n)throw new Error(S(b.INVALID_TYPE,[typeof n,"path"]));var s=-1!==e.indexOf(":")&&"["!==e.slice(0,1)&&"]"!==e.slice(-1);o="ws://"+(s?"["+e+"]":e)+":"+t+n}for(var a=0,u=0;u<r.length;u++){var c=r.charCodeAt(u);55296<=c&&c<=56319&&u++,a++}if("string"!=typeof r||a>65535)throw new Error(S(b.INVALID_ARGUMENT,[r,"clientId"]));var l=new R(o,e,t,n,r);Object.defineProperties(this,{host:{get:function(){return e},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},port:{get:function(){return t},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},path:{get:function(){return n},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},uri:{get:function(){return o},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return l.clientId},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return l.onConnected},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onConnected"]));l.onConnected=e}},disconnectedPublishing:{get:function(){return l.disconnectedPublishing},set:function(e){l.disconnectedPublishing=e}},disconnectedBufferSize:{get:function(){return l.disconnectedBufferSize},set:function(e){l.disconnectedBufferSize=e}},onConnectionLost:{get:function(){return l.onConnectionLost},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onConnectionLost"]));l.onConnectionLost=e}},onMessageDelivered:{get:function(){return l.onMessageDelivered},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onMessageDelivered"]));l.onMessageDelivered=e}},onMessageArrived:{get:function(){return l.onMessageArrived},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onMessageArrived"]));l.onMessageArrived=e}},trace:{get:function(){return l.traceFunction},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onTrace"]));l.traceFunction=e}}}),this.connect=function(e){if(v(e=e||{},{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),e.mqttVersion>4||e.mqttVersion<3)throw new Error(S(b.INVALID_ARGUMENT,[e.mqttVersion,"connectOptions.mqttVersion"]));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0!==e.password&&void 0===e.userName)throw new Error(S(b.INVALID_ARGUMENT,[e.password,"connectOptions.password"]));if(e.willMessage){if(!(e.willMessage instanceof U))throw new Error(S(b.INVALID_TYPE,[e.willMessage,"connectOptions.willMessage"]));if(e.willMessage.stringPayload=null,void 0===e.willMessage.destinationName)throw new Error(S(b.INVALID_TYPE,[typeof e.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(void 0===e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(S(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));if(e.hosts.length<1)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));for(var t=!1,r=0;r<e.hosts.length;r++){if("string"!=typeof e.hosts[r])throw new Error(S(b.INVALID_TYPE,[typeof e.hosts[r],"connectOptions.hosts["+r+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(e.hosts[r])){if(0===r)t=!0;else if(!t)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}else if(t)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}if(t)e.uris=e.hosts;else{if(!e.ports)throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(!(e.ports instanceof Array))throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(e.hosts.length!==e.ports.length)throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));for(e.uris=[],r=0;r<e.hosts.length;r++){if("number"!=typeof e.ports[r]||e.ports[r]<0)throw new Error(S(b.INVALID_TYPE,[typeof e.ports[r],"connectOptions.ports["+r+"]"]));var i=e.hosts[r],s=e.ports[r],a=-1!==i.indexOf(":");o="ws://"+(a?"["+i+"]":i)+":"+s+n,e.uris.push(o)}}}l.connect(e)},this.subscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(v(t=t||{},{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(void 0!==t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(S(b.INVALID_ARGUMENT,[t.qos,"subscribeOptions.qos"]));l.subscribe(e,t)},this.unsubscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(v(t=t||{},{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");l.unsubscribe(e,t)},this.send=function(e,t,n,r){var o;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof U)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(o=e).destinationName)throw new Error(S(b.INVALID_ARGUMENT,[o.destinationName,"Message.destinationName"]));l.send(o)}else(o=new U(t)).destinationName=e,arguments.length>=3&&(o.qos=n),arguments.length>=4&&(o.retained=r),l.send(o)},this.publish=function(e,t,n,r){var o;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof U)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(o=e).destinationName)throw new Error(S(b.INVALID_ARGUMENT,[o.destinationName,"Message.destinationName"]));l.send(o)}else(o=new U(t)).destinationName=e,arguments.length>=3&&(o.qos=n),arguments.length>=4&&(o.retained=r),l.send(o)},this.disconnect=function(){l.disconnect()},this.getTraceLog=function(){return l.getTraceLog()},this.startTrace=function(){l.startTrace()},this.stopTrace=function(){l.stopTrace()},this.isConnected=function(){return l.connected}},Message:U}}(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},e.exports=r()},9350:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(n);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var l,f,h,d,p=e[c].replace(s,"%20"),y=p.indexOf(r);y>=0?(l=p.substr(0,y),f=p.substr(y+1)):(l=p,f=""),h=decodeURIComponent(l),d=decodeURIComponent(f),t(i,h)?Array.isArray(i[h])?i[h].push(d):i[h]=[i[h],d]:i[h]=d}return i}},4104:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,o){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var i=encodeURIComponent(t(o))+r;return Array.isArray(e[o])?e[o].map((function(e){return i+encodeURIComponent(t(e))})).join(n):i+encodeURIComponent(t(e[o]))})).join(n):o?encodeURIComponent(t(o))+r+encodeURIComponent(t(e)):""}},8966:(e,t,n)=>{"use strict";t.decode=t.parse=n(9350),t.encode=t.stringify=n(4104)},8408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(3774),o=n(1626);function i(e){const t=t=>{e&&!e.contains(t.target)&&(t.defaultPrevented||e.dispatchEvent(new CustomEvent("click_outside",e)))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}var s=n(2123),a=n(3102);const{subscribe:u,set:c,update:l}=(0,a.fZ)(!1),f={subscribe:u,set:c,update:l},h=e=>({}),d=e=>({});function p(e){let t;const n=e[19].title,o=(0,r.nu)(n,e,e[18],d);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,i){o&&o.p&&(!t||262144&i)&&(0,r.Tj)(o,n,e,e[18],i,h,d)},i(e){t||((0,r.Ui)(o,e),t=!0)},o(e){(0,r.et)(o,e),t=!1},d(e){o&&o.d(e)}}}function y(e){let t;return{c(){t=(0,r.fL)(e[1])},m(e,n){(0,r.$T)(e,t,n)},p(e,n){2&n&&(0,r.rT)(t,e[1])},i:r.ZT,o:r.ZT,d(e){e&&(0,r.og)(t)}}}function g(e){let t,n,o,a,u,c,l,f,h,d,g,v,m;const b=[y,p],w=[];function S(e,t){return e[1]?0:1}o=S(e),a=w[o]=b[o](e),c=new s.Z({props:{type:"down",size:"11px",class:"dc-down"}});const _=e[19].default,E=(0,r.nu)(_,e,e[18],null);return{c(){t=(0,r.bG)("div"),n=(0,r.bG)("div"),a.c(),u=(0,r.Dh)(),(0,r.YC)(c.$$.fragment),l=(0,r.Dh)(),f=(0,r.bG)("div"),h=(0,r.bG)("div"),E&&E.c(),(0,r.Lj)(n,"class","dc-title"),(0,r.Lj)(n,"tabindex","0"),(0,r.Lj)(h,"class","dc-dropdown-content"),(0,r.Lj)(f,"class","dc-dropdown-wrapper"),(0,r.cz)(f,"min-width",e[3]+"px"),(0,r.Lj)(t,"class",e[4])},m(s,a){(0,r.$T)(s,t,a),(0,r.R3)(t,n),w[o].m(n,null),(0,r.R3)(n,u),(0,r.ye)(c,n,null),e[20](n),(0,r.R3)(t,l),(0,r.R3)(t,f),(0,r.R3)(f,h),E&&E.m(h,null),e[21](f),g=!0,v||(m=[(0,r.oL)(n,"keypress",e[6]),(0,r.oL)(n,"click",e[5]),(0,r.oL)(f,"keydown",e[8]),(0,r.TV)(d=i.call(null,t)),(0,r.oL)(t,"click_outside",e[7])],v=!0)},p(e,[i]){let s=o;o=S(e),o===s?w[o].p(e,i):((0,r.dv)(),(0,r.et)(w[s],1,1,(()=>{w[s]=null})),(0,r.gb)(),a=w[o],a?a.p(e,i):(a=w[o]=b[o](e),a.c()),(0,r.Ui)(a,1),a.m(n,u)),E&&E.p&&(!g||262144&i)&&(0,r.Tj)(E,_,e,e[18],i,null,null),(!g||8&i)&&(0,r.cz)(f,"min-width",e[3]+"px"),(!g||16&i)&&(0,r.Lj)(t,"class",e[4])},i(e){g||((0,r.Ui)(a),(0,r.Ui)(c.$$.fragment,e),(0,r.Ui)(E,e),g=!0)},o(e){(0,r.et)(a),(0,r.et)(c.$$.fragment,e),(0,r.et)(E,e),g=!1},d(n){n&&(0,r.og)(t),w[o].d(),(0,r.vp)(c),e[20](null),E&&E.d(n),e[21](null),v=!1,(0,r.j7)(m)}}}function v(e,t,n){let{$$slots:i={},$$scope:s}=t,{title:a=""}=t,{isToolbar:u=!1}=t,{left:c=!1}=t,{top:l=!1}=t,{className:h=""}=t,{onActiveChange:d}=t,{onActiveChanged:p}=t;let y,g,v,m,{dropdown:b}=t,w=!1;const S=()=>{f.set(!1),d&&d(!1),n(16,w=!1),n(17,_=!1),clearTimeout(m),p&&(m=setTimeout((()=>{p&&p(!1)}),250))};let _=!1;const E=()=>{if(w)return S(),void n(17,_=!1);f.set(!0),d&&d(!0),n(16,w=!0),n(3,g=b.clientWidth),clearTimeout(m),p&&(m=setTimeout((()=>{p&&p(!0)}),250)),n(17,_=!1);const e=y.getBoundingClientRect(),t=document.querySelector(".app-page");if(!t)return;const r=t.getBoundingClientRect();e.x+e.width-r.x>r.width&&n(17,_=!0)};function A(){S()}let I;(0,o.H3)((()=>{document.addEventListener("visibilitychange",A),v=f.subscribe((e=>{e&&S()}))})),(0,o.ev)((()=>{document.removeEventListener("visibilitychange",A),v&&v(),clearTimeout(m)}));return e.$$set=e=>{"title"in e&&n(1,a=e.title),"isToolbar"in e&&n(9,u=e.isToolbar),"left"in e&&n(10,c=e.left),"top"in e&&n(11,l=e.top),"className"in e&&n(12,h=e.className),"onActiveChange"in e&&n(13,d=e.onActiveChange),"onActiveChanged"in e&&n(14,p=e.onActiveChanged),"dropdown"in e&&n(0,b=e.dropdown),"$$scope"in e&&n(18,s=e.$$scope)},e.$$.update=()=>{204288&e.$$.dirty&&n(4,I="dropdown-container"+(w?" active":"")+(h?" "+h:"")+(u?" menu menu-button toolbar":"")+(c?" menu-left":"")+(_?" menu-oops":"")+(l?" menu-top":""))},[b,a,y,g,I,E,e=>{if("Enter"===e.key||" "===e.key)return E(),e.preventDefault(),!1},function(){S()},e=>{if(!w)return e.preventDefault(),e.stopPropagation(),!1},u,c,l,h,d,p,()=>{S(),n(17,_=!1)},w,_,s,i,function(e){r.Vn[e?"unshift":"push"]((()=>{b=e,n(0,b)}))},function(e){r.Vn[e?"unshift":"push"]((()=>{y=e,n(2,y)}))}]}class m extends r.f_{constructor(e){super(),(0,r.S1)(this,e,v,g,r.N8,{title:1,isToolbar:9,left:10,top:11,className:12,onActiveChange:13,onActiveChanged:14,close:15,dropdown:0})}get close(){return this.$$.ctx[15]}}const b=m},4366:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(3774),o=n(1626),i=n(8137),s=n(3275);function a(e){let t;return{c(){t=(0,r.fL)(e[1])},m(e,n){(0,r.$T)(e,t,n)},p(e,n){2&n&&(0,r.rT)(t,e[1])},d(e){e&&(0,r.og)(t)}}}function u(e){let t,n,o,i,s=e[1]&&a(e);const u=e[6].default,c=(0,r.nu)(u,e,e[5],null);return{c(){t=(0,r.bG)("span"),s&&s.c(),n=(0,r.Dh)(),o=(0,r.bG)("i"),c&&c.c(),(0,r.Lj)(o,"class","hide svelte-18sq8cn"),(0,r.Lj)(t,"class","svelte-18sq8cn"),(0,r.VH)(t,"translated",e[2])},m(a,u){(0,r.$T)(a,t,u),s&&s.m(t,null),(0,r.R3)(t,n),(0,r.R3)(t,o),c&&c.m(o,null),e[7](o),i=!0},p(e,[o]){e[1]?s?s.p(e,o):(s=a(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),c&&c.p&&(!i||32&o)&&(0,r.Tj)(c,u,e,e[5],o,null,null),4&o&&(0,r.VH)(t,"translated",e[2])},i(e){i||((0,r.Ui)(c,e),i=!0)},o(e){(0,r.et)(c,e),i=!1},d(n){n&&(0,r.og)(t),s&&s.d(),c&&c.d(n),e[7](null)}}}function c(e,t,n){let a,u,{$$slots:c={},$$scope:l}=t,{text:f=""}=t,h="",d="",p=!1,y=!1,g="";function v(){d&&!y&&(y=!0,n(2,p=!1),s.D.translate(d).then((e=>(n(1,h=e),e))).finally((()=>{y=!1,n(2,p=!!h)})))}return(0,o.H3)((()=>{u=i.X.subscribe((e=>{g!==e.locale&&(g=e.locale,v())}))})),(0,o.ev)((()=>{u&&u()})),e.$$set=e=>{"text"in e&&n(3,f=e.text),"$$scope"in e&&n(5,l=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&f&&n(4,d=f),9&e.$$.dirty&&a&&a.textContent&&!f&&n(4,d=a.textContent),16&e.$$.dirty&&d&&v()},[a,h,p,f,d,l,c,function(e){r.Vn[e?"unshift":"push"]((()=>{a=e,n(0,a)}))}]}class l extends r.f_{constructor(e){super(),(0,r.S1)(this,e,c,u,r.N8,{text:3})}}const f=l},2123:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(3774),o=n(7148);function i(e){let t,n,o,i;return{c(){t=(0,r.bi)("svg"),(0,r.Lj)(t,"class",n=(0,r.Gu)(e[2].class)+" svelte-uijd7y"),(0,r.Lj)(t,"width",e[0]),(0,r.Lj)(t,"height",e[0]),(0,r.Lj)(t,"fill","currentColor"),(0,r.Lj)(t,"viewBox","64 64 896 896")},m(n,s){(0,r.$T)(n,t,s),t.innerHTML=e[1],o||(i=(0,r.oL)(t,"click",e[5]),o=!0)},p(e,[o]){4&o&&n!==(n=(0,r.Gu)(e[2].class)+" svelte-uijd7y")&&(0,r.Lj)(t,"class",n),1&o&&(0,r.Lj)(t,"width",e[0]),1&o&&(0,r.Lj)(t,"height",e[0])},i:r.ZT,o:r.ZT,d(e){e&&(0,r.og)(t),o=!1,i()}}}function s(e,t,n){let{type:i="star"}=t,{size:s="1rem"}=t,{alt:a=""}=t;const u=(a?`<title>${a}</title>`:"")+o.K[i]||o.K.star;return e.$$set=e=>{n(2,t=(0,r.f0)((0,r.f0)({},t),(0,r.Jv)(e))),"type"in e&&n(3,i=e.type),"size"in e&&n(0,s=e.size),"alt"in e&&n(4,a=e.alt)},t=(0,r.Jv)(t),[s,u,t,i,a,function(t){(0,r.cK)(e,t)}]}class a extends r.f_{constructor(e){super(),(0,r.S1)(this,e,s,i,r.N8,{type:3,size:0,alt:4})}}const u=a},535:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(3774),o=n(1626);function i(e){let t,n,o;return{c(){t=(0,r.bG)("img"),t.src!==(n=e[0])&&(0,r.Lj)(t,"src",n),(0,r.Lj)(t,"alt",e[1]),(0,r.Lj)(t,"class",o="app-img"+(e[2]?" loaded":"")+(e[4].class?" "+e[4].class:""))},m(n,o){(0,r.$T)(n,t,o),e[7](t)},p(e,[i]){1&i&&t.src!==(n=e[0])&&(0,r.Lj)(t,"src",n),2&i&&(0,r.Lj)(t,"alt",e[1]),20&i&&o!==(o="app-img"+(e[2]?" loaded":"")+(e[4].class?" "+e[4].class:""))&&(0,r.Lj)(t,"class",o)},i:r.ZT,o:r.ZT,d(n){n&&(0,r.og)(t),e[7](null)}}}function s(e,t,n){let i,{src:s}=t,{alt:a}=t,{onError:u=null}=t,{onLoad:c=null}=t,l=!1;return(0,o.H3)((()=>{n(3,i.onload=()=>{n(2,l=!0),c&&c()},i),n(3,i.onerror=()=>{n(2,l=!1),u&&u()},i)})),e.$$set=e=>{n(4,t=(0,r.f0)((0,r.f0)({},t),(0,r.Jv)(e))),"src"in e&&n(0,s=e.src),"alt"in e&&n(1,a=e.alt),"onError"in e&&n(5,u=e.onError),"onLoad"in e&&n(6,c=e.onLoad)},t=(0,r.Jv)(t),[s,a,l,i,t,u,c,function(e){r.Vn[e?"unshift":"push"]((()=>{i=e,n(3,i)}))}]}class a extends r.f_{constructor(e){super(),(0,r.S1)(this,e,s,i,r.N8,{src:0,alt:1,onError:5,onLoad:6})}}const u=a},4968:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(3774),o=n(1626),i=n(8137),s=n(8408),a=n(2123);function u(e){let t,n,o;function i(t){e[6](t)}let a={className:"locale-menu menu",$$slots:{title:[l],default:[c]},$$scope:{ctx:e}};return void 0!==e[0]&&(a.close=e[0]),t=new s.Z({props:a}),r.Vn.push((()=>(0,r.ak)(t,"close",i))),{c(){(0,r.YC)(t.$$.fragment)},m(e,n){(0,r.ye)(t,e,n),o=!0},p(e,o){const i={};258&o&&(i.$$scope={dirty:o,ctx:e}),!n&&1&o&&(n=!0,i.close=e[0],(0,r.hj)((()=>n=!1))),t.$set(i)},i(e){o||((0,r.Ui)(t.$$.fragment,e),o=!0)},o(e){(0,r.et)(t.$$.fragment,e),o=!1},d(e){(0,r.vp)(t,e)}}}function c(e){let t,n,o,i,s,a,u,c;return{c(){t=(0,r.bG)("div"),n=(0,r.bG)("a"),n.textContent="English",o=(0,r.Dh)(),i=(0,r.bG)("a"),i.textContent="Украинська",s=(0,r.Dh)(),a=(0,r.bG)("a"),a.textContent="Русский",(0,r.Lj)(n,"href","#"),(0,r.VH)(n,"selected","en-EN"===e[1].locale),(0,r.Lj)(i,"href","#"),(0,r.VH)(i,"selected","ua-UA"===e[1].locale),(0,r.Lj)(a,"href","#"),(0,r.VH)(a,"selected","ru-RU"===e[1].locale),(0,r.Lj)(t,"class","dropdown-menu")},m(l,f){(0,r.$T)(l,t,f),(0,r.R3)(t,n),(0,r.R3)(t,o),(0,r.R3)(t,i),(0,r.R3)(t,s),(0,r.R3)(t,a),u||(c=[(0,r.oL)(n,"click",e[3]),(0,r.oL)(i,"click",e[4]),(0,r.oL)(a,"click",e[5])],u=!0)},p(e,t){2&t&&(0,r.VH)(n,"selected","en-EN"===e[1].locale),2&t&&(0,r.VH)(i,"selected","ua-UA"===e[1].locale),2&t&&(0,r.VH)(a,"selected","ru-RU"===e[1].locale)},d(e){e&&(0,r.og)(t),u=!1,(0,r.j7)(c)}}}function l(e){let t,n,o;return n=new a.Z({props:{type:"world",size:"24px"}}),{c(){t=(0,r.bG)("span"),(0,r.YC)(n.$$.fragment),(0,r.Lj)(t,"slot","title")},m(e,i){(0,r.$T)(e,t,i),(0,r.ye)(n,t,null),o=!0},p:r.ZT,i(e){o||((0,r.Ui)(n.$$.fragment,e),o=!0)},o(e){(0,r.et)(n.$$.fragment,e),o=!1},d(e){e&&(0,r.og)(t),(0,r.vp)(n)}}}function f(e){let t,n,o=e[1]?.locale&&u(e);return{c(){o&&o.c(),t=(0,r.cS)()},m(e,i){o&&o.m(e,i),(0,r.$T)(e,t,i),n=!0},p(e,[n]){e[1]?.locale?o?(o.p(e,n),2&n&&(0,r.Ui)(o,1)):(o=u(e),o.c(),(0,r.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,r.dv)(),(0,r.et)(o,1,1,(()=>{o=null})),(0,r.gb)())},i(e){n||((0,r.Ui)(o),n=!0)},o(e){(0,r.et)(o),n=!1},d(e){o&&o.d(e),e&&(0,r.og)(t)}}}function h(e,t,n){let r;const s=e=>{i.X.setLocale(e),r()},a={locale:void 0};let u;(0,o.H3)((()=>{u=i.X.subscribe((e=>{n(1,a.locale=e.locale,a)}))})),(0,o.ev)((()=>{u&&u()}));return[r,a,s,()=>s("en-EN"),()=>s("ua-UA"),()=>s("ru-RU"),function(e){r=e,n(0,r)}]}class d extends r.f_{constructor(e){super(),(0,r.S1)(this,e,h,f,r.N8,{})}}const p=d},6524:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3774);function o(e){let t,n,o;const i=e[1].default,s=(0,r.nu)(i,e,e[0],null);return{c(){t=(0,r.bG)("span"),n=(0,r.bG)("span"),s&&s.c(),(0,r.Lj)(n,"class","inline-spinner-rotator svelte-31s6ph"),(0,r.Lj)(t,"class","inline-spinner svelte-31s6ph")},m(e,i){(0,r.$T)(e,t,i),(0,r.R3)(t,n),s&&s.m(t,null),o=!0},p(e,[t]){s&&s.p&&(!o||1&t)&&(0,r.Tj)(s,i,e,e[0],t,null,null)},i(e){o||((0,r.Ui)(s,e),o=!0)},o(e){(0,r.et)(s,e),o=!1},d(e){e&&(0,r.og)(t),s&&s.d(e)}}}function i(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class s extends r.f_{constructor(e){super(),(0,r.S1)(this,e,i,o,r.N8,{})}}const a=s},5446:(e,t,n)=>{"use strict";n.d(t,{rU:()=>D,AW:()=>N,F0:()=>E,c4:()=>l});var r=n(3774),o=n(1626),i=n(3102);const s={},a={};function u(e){return{...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const c=function(e,t){const n=[];let r=u(e);return{get location(){return r},listen(t){n.push(t);const o=()=>{r=u(e),t({location:r,action:"POP"})};return e.addEventListener("popstate",o),()=>{e.removeEventListener("popstate",o);const r=n.indexOf(t);n.splice(r,1)}},navigate(t,{state:o,replace:i=!1}={}){o={...o,key:Date.now()+""};try{i?e.history.replaceState(o,null,t):e.history.pushState(o,null,t)}catch(n){e.location[i?"replace":"assign"](t)}r=u(e),n.forEach((e=>e({location:r,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const n=[{pathname:e,search:""}],r=[];return{get location(){return n[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return n},get index(){return t},get state(){return r[t]},pushState(e,o,i){const[s,a=""]=i.split("?");t++,n.push({pathname:s,search:a}),r.push(e)},replaceState(e,o,i){const[s,a=""]=i.split("?");n[t]={pathname:s,search:a},r[t]=e}}}}()),{navigate:l}=c,f=/^:(.+)/;function h(e,t){return e.substr(0,t.length)===t}function d(e){return"*"===e[0]}function p(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function y(e){return e.replace(/(^\/+|\/+$)/g,"")}function g(e,t){return{route:e,score:e.default?0:p(e.path).reduce(((e,t)=>(e+=4,!function(e){return""===e}(t)?!function(e){return f.test(e)}(t)?d(t)?e-=5:e+=3:e+=2:e+=1,e)),0),index:t}}function v(e,t){let n,r;const[o]=t.split("?"),i=p(o),s=""===i[0],a=function(e){return e.map(g).sort(((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index))}(e);for(let e=0,o=a.length;e<o;e++){const o=a[e].route;let u=!1;if(o.default){r={route:o,params:{},uri:t};continue}const c=p(o.path),l={},h=Math.max(i.length,c.length);let y=0;for(;y<h;y++){const e=c[y],t=i[y];if(void 0!==e&&d(e)){l["*"===e?"*":e.slice(1)]=i.slice(y).map(decodeURIComponent).join("/");break}if(void 0===t){u=!0;break}let n=f.exec(e);if(n&&!s){const e=decodeURIComponent(t);l[n[1]]=e}else if(e!==t){u=!0;break}}if(!u){n={route:o,params:l,uri:"/"+i.slice(0,y).join("/")};break}}return n||r||null}function m(e,t){return e+(t?`?${t}`:"")}function b(e,t){return`${y("/"===t?e:`${y(e)}/${y(t)}`)}/`}function w(e){let t;const n=e[9].default,o=(0,r.nu)(n,e,e[8],null);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,[i]){o&&o.p&&(!t||256&i)&&(0,r.Tj)(o,n,e,e[8],i,null,null)},i(e){t||((0,r.Ui)(o,e),t=!0)},o(e){(0,r.et)(o,e),t=!1},d(e){o&&o.d(e)}}}function S(e,t,n){let u,l,f,{$$slots:h={},$$scope:d}=t,{basepath:p="/"}=t,{url:y=null}=t;const g=(0,o.fw)(s),m=(0,o.fw)(a),w=(0,i.fZ)([]);(0,r.FI)(e,w,(e=>n(7,f=e)));const S=(0,i.fZ)(null);let _=!1;const E=g||(0,i.fZ)(y?{pathname:y}:c.location);(0,r.FI)(e,E,(e=>n(6,l=e)));const A=m?m.routerBase:(0,i.fZ)({path:p,uri:p});(0,r.FI)(e,A,(e=>n(5,u=e)));const I=(0,i.nK)([A,S],(([e,t])=>{if(null===t)return e;const{path:n}=e,{route:r,uri:o}=t;return{path:r.default?n:r.path.replace(/\*.*$/,""),uri:o}}));return g||((0,o.H3)((()=>c.listen((e=>{E.set(e.location)})))),(0,o.v)(s,E)),(0,o.v)(a,{activeRoute:S,base:A,routerBase:I,registerRoute:function(e){const{path:t}=u;let{path:n}=e;if(e._path=n,e.path=b(t,n),"undefined"==typeof window){if(_)return;const t=function(e,t){return v([e],t)}(e,l.pathname);t&&(S.set(t),_=!0)}else w.update((t=>(t.push(e),t)))},unregisterRoute:function(e){w.update((t=>{const n=t.indexOf(e);return t.splice(n,1),t}))}}),e.$$set=e=>{"basepath"in e&&n(3,p=e.basepath),"url"in e&&n(4,y=e.url),"$$scope"in e&&n(8,d=e.$$scope)},e.$$.update=()=>{if(32&e.$$.dirty){const{path:e}=u;w.update((t=>(t.forEach((t=>t.path=b(e,t._path))),t)))}if(192&e.$$.dirty){const e=v(f,l.pathname);S.set(e)}},[w,E,A,p,y,u,l,f,d,h]}class _ extends r.f_{constructor(e){super(),(0,r.S1)(this,e,S,w,r.N8,{basepath:3,url:4})}}const E=_,A=e=>({params:4&e,location:16&e}),I=e=>({params:e[2],location:e[4]});function O(e){let t,n,o,i;const s=[C,T],a=[];function u(e,t){return null!==e[0]?0:1}return t=u(e),n=a[t]=s[t](e),{c(){n.c(),o=(0,r.cS)()},m(e,n){a[t].m(e,n),(0,r.$T)(e,o,n),i=!0},p(e,i){let c=t;t=u(e),t===c?a[t].p(e,i):((0,r.dv)(),(0,r.et)(a[c],1,1,(()=>{a[c]=null})),(0,r.gb)(),n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(e){i||((0,r.Ui)(n),i=!0)},o(e){(0,r.et)(n),i=!1},d(e){a[t].d(e),e&&(0,r.og)(o)}}}function T(e){let t;const n=e[10].default,o=(0,r.nu)(n,e,e[9],I);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,i){o&&o.p&&(!t||532&i)&&(0,r.Tj)(o,n,e,e[9],i,A,I)},i(e){t||((0,r.Ui)(o,e),t=!0)},o(e){(0,r.et)(o,e),t=!1},d(e){o&&o.d(e)}}}function C(e){let t,n,o;const i=[{location:e[4]},e[2],e[3]];var s=e[0];function a(e){let t={};for(let e=0;e<i.length;e+=1)t=(0,r.f0)(t,i[e]);return{props:t}}return s&&(t=new s(a())),{c(){t&&(0,r.YC)(t.$$.fragment),n=(0,r.cS)()},m(e,i){t&&(0,r.ye)(t,e,i),(0,r.$T)(e,n,i),o=!0},p(e,o){const u=28&o?(0,r.Lo)(i,[16&o&&{location:e[4]},4&o&&(0,r.gC)(e[2]),8&o&&(0,r.gC)(e[3])]):{};if(s!==(s=e[0])){if(t){(0,r.dv)();const e=t;(0,r.et)(e.$$.fragment,1,0,(()=>{(0,r.vp)(e,1)})),(0,r.gb)()}s?(t=new s(a()),(0,r.YC)(t.$$.fragment),(0,r.Ui)(t.$$.fragment,1),(0,r.ye)(t,n.parentNode,n)):t=null}else s&&t.$set(u)},i(e){o||(t&&(0,r.Ui)(t.$$.fragment,e),o=!0)},o(e){t&&(0,r.et)(t.$$.fragment,e),o=!1},d(e){e&&(0,r.og)(n),t&&(0,r.vp)(t,e)}}}function x(e){let t,n,o=null!==e[1]&&e[1].route===e[7]&&O(e);return{c(){o&&o.c(),t=(0,r.cS)()},m(e,i){o&&o.m(e,i),(0,r.$T)(e,t,i),n=!0},p(e,[n]){null!==e[1]&&e[1].route===e[7]?o?(o.p(e,n),2&n&&(0,r.Ui)(o,1)):(o=O(e),o.c(),(0,r.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,r.dv)(),(0,r.et)(o,1,1,(()=>{o=null})),(0,r.gb)())},i(e){n||((0,r.Ui)(o),n=!0)},o(e){(0,r.et)(o),n=!1},d(e){o&&o.d(e),e&&(0,r.og)(t)}}}function P(e,t,n){let i,u,{$$slots:c={},$$scope:l}=t,{path:f=""}=t,{component:h=null}=t;const{registerRoute:d,unregisterRoute:p,activeRoute:y}=(0,o.fw)(a);(0,r.FI)(e,y,(e=>n(1,i=e)));const g=(0,o.fw)(s);(0,r.FI)(e,g,(e=>n(4,u=e)));const v={path:f,default:""===f};let m={},b={};return d(v),"undefined"!=typeof window&&(0,o.ev)((()=>{p(v)})),e.$$set=e=>{n(13,t=(0,r.f0)((0,r.f0)({},t),(0,r.Jv)(e))),"path"in e&&n(8,f=e.path),"component"in e&&n(0,h=e.component),"$$scope"in e&&n(9,l=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&i&&i.route===v&&n(2,m=i.params);{const{path:e,component:r,...o}=t;n(3,b=o)}},t=(0,r.Jv)(t),[h,i,m,b,u,y,g,v,f,l,c]}class k extends r.f_{constructor(e){super(),(0,r.S1)(this,e,P,x,r.N8,{path:8,component:0})}}const N=k;function M(e){let t,n,o,i;const s=e[16].default,a=(0,r.nu)(s,e,e[15],null);let u=[{href:e[0]},{"aria-current":e[2]},e[1],e[6]],c={};for(let e=0;e<u.length;e+=1)c=(0,r.f0)(c,u[e]);return{c(){t=(0,r.bG)("a"),a&&a.c(),(0,r.UF)(t,c)},m(s,u){(0,r.$T)(s,t,u),a&&a.m(t,null),n=!0,o||(i=(0,r.oL)(t,"click",e[5]),o=!0)},p(e,[o]){a&&a.p&&(!n||32768&o)&&(0,r.Tj)(a,s,e,e[15],o,null,null),(0,r.UF)(t,c=(0,r.Lo)(u,[(!n||1&o)&&{href:e[0]},(!n||4&o)&&{"aria-current":e[2]},2&o&&e[1],64&o&&e[6]]))},i(e){n||((0,r.Ui)(a,e),n=!0)},o(e){(0,r.et)(a,e),n=!1},d(e){e&&(0,r.og)(t),a&&a.d(e),o=!1,i()}}}function R(e,t,n){let i;const u=["to","replace","state","getProps"];let c,f,d=(0,r.q2)(t,u),{$$slots:y={},$$scope:g}=t,{to:v="#"}=t,{replace:b=!1}=t,{state:w={}}=t,{getProps:S=(()=>({}))}=t;const{base:_}=(0,o.fw)(a);(0,r.FI)(e,_,(e=>n(13,c=e)));const E=(0,o.fw)(s);(0,r.FI)(e,E,(e=>n(14,f=e)));const A=(0,o.x)();let I,O,T,C;return e.$$set=e=>{t=(0,r.f0)((0,r.f0)({},t),(0,r.Jv)(e)),n(6,d=(0,r.q2)(t,u)),"to"in e&&n(7,v=e.to),"replace"in e&&n(8,b=e.replace),"state"in e&&n(9,w=e.state),"getProps"in e&&n(10,S=e.getProps),"$$scope"in e&&n(15,g=e.$$scope)},e.$$.update=()=>{8320&e.$$.dirty&&n(0,I="/"===v?c.uri:function(e,t){if(h(e,"/"))return e;const[n,r]=e.split("?"),[o]=t.split("?"),i=p(n),s=p(o);if(""===i[0])return m(o,r);if(!h(i[0],"."))return m(("/"===o?"":"/")+s.concat(i).join("/"),r);const a=s.concat(i),u=[];return a.forEach((e=>{".."===e?u.pop():"."!==e&&u.push(e)})),m("/"+u.join("/"),r)}(v,c.uri)),16385&e.$$.dirty&&n(11,O=h(f.pathname,I)),16385&e.$$.dirty&&n(12,T=I===f.pathname),4096&e.$$.dirty&&n(2,i=T?"page":void 0),23553&e.$$.dirty&&n(1,C=S({location:f,href:I,isPartiallyCurrent:O,isCurrent:T}))},[I,C,i,_,E,function(e){if(A("click",e),function(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();const t=f.pathname===I||b;l(I,{state:w,replace:t})}},d,v,b,w,S,O,T,c,f,g,y]}class U extends r.f_{constructor(e){super(),(0,r.S1)(this,e,R,M,r.N8,{to:7,replace:8,state:9,getProps:10})}}const D=U},1626:(e,t,n)=>{"use strict";n.d(t,{x:()=>r.x,fw:()=>r.fw,ev:()=>r.ev,H3:()=>r.H3,v:()=>r.v,Ky:()=>r.Ky});var r=n(3774)},3774:(e,t,n)=>{"use strict";function r(){}n.d(t,{FW:()=>V,f_:()=>Ge,TV:()=>S,hj:()=>ye,P$:()=>pe,R3:()=>C,f0:()=>i,Lj:()=>$,ak:()=>$e,Vn:()=>ae,cK:()=>ie,gb:()=>Oe,FI:()=>d,q2:()=>b,x:()=>ne,YC:()=>je,HC:()=>Pe,eZ:()=>ke,nu:()=>p,vp:()=>Be,RM:()=>k,og:()=>P,bG:()=>N,cS:()=>D,Jv:()=>m,fw:()=>oe,gC:()=>De,Lo:()=>Ue,li:()=>Ne,dv:()=>Ie,yR:()=>o,S1:()=>qe,$T:()=>x,sB:()=>c,oL:()=>L,ye:()=>Fe,ZT:()=>r,Gu:()=>w,ev:()=>te,H3:()=>ee,cl:()=>Me,j7:()=>u,N8:()=>l,v:()=>re,UF:()=>j,rT:()=>B,Bm:()=>q,cz:()=>G,Dh:()=>U,Ld:()=>h,bi:()=>M,fL:()=>R,Ky:()=>de,sC:()=>F,VH:()=>z,Ui:()=>Te,et:()=>Ce,GQ:()=>Re,Tj:()=>v});const o=e=>e;function i(e,t){for(const n in t)e[n]=t[n];return e}function s(e){return e()}function a(){return Object.create(null)}function u(e){e.forEach(s)}function c(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function f(e){return 0===Object.keys(e).length}function h(e,...t){if(null==e)return r;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function d(e,t,n){e.$$.on_destroy.push(h(t,n))}function p(e,t,n,r){if(e){const o=y(e,t,n,r);return e[0](o)}}function y(e,t,n,r){return e[1]&&r?i(n.ctx.slice(),e[1](r(t))):n.ctx}function g(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function v(e,t,n,r,o,i,s){const a=g(t,r,o,i);if(a){const o=y(t,n,r,s);e.p(o,a)}}function m(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function b(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function w(e){return null==e?"":e}function S(e){return e&&c(e.destroy)?e.destroy:r}const _="undefined"!=typeof window;let E=_?()=>window.performance.now():()=>Date.now(),A=_?e=>requestAnimationFrame(e):r;const I=new Set;function O(e){I.forEach((t=>{t.c(e)||(I.delete(t),t.f())})),0!==I.size&&A(O)}function T(e){let t;return 0===I.size&&A(O),{promise:new Promise((n=>{I.add(t={c:e,f:n})})),abort(){I.delete(t)}}}function C(e,t){e.appendChild(t)}function x(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode.removeChild(e)}function k(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function N(e){return document.createElement(e)}function M(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function R(e){return document.createTextNode(e)}function U(){return R(" ")}function D(){return R("")}function L(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function j(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:$(e,r,t[r])}function F(e){return""===e?null:+e}function B(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function q(e,t){e.value=null==t?"":t}function G(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function z(e,t,n){e.classList[n?"add":"remove"](t)}function H(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}class V{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=N(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)x(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(P)}}const K=new Set;let W,Y=0;function J(e,t,n,r,o,i,s,a=0){const u=16.666/r;let c="{\n";for(let e=0;e<=1;e+=u){const r=t+(n-t)*i(e);c+=100*e+`%{${s(r,1-r)}}\n`}const l=c+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${a}`,h=e.ownerDocument;K.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(N("style")).sheet),p=h.__svelte_rules||(h.__svelte_rules={});p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${l}`,d.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${f} ${r}ms linear ${o}ms 1 both`,Y+=1,f}function Q(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),Y-=o,Y||A((()=>{Y||(K.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),K.clear())})))}function Z(e){W=e}function X(){if(!W)throw new Error("Function called outside component initialization");return W}function ee(e){X().$$.on_mount.push(e)}function te(e){X().$$.on_destroy.push(e)}function ne(){const e=X();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=H(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}function re(e,t){X().$$.context.set(e,t)}function oe(e){return X().$$.context.get(e)}function ie(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const se=[],ae=[],ue=[],ce=[],le=Promise.resolve();let fe=!1;function he(){fe||(fe=!0,le.then(me))}function de(){return he(),le}function pe(e){ue.push(e)}function ye(e){ce.push(e)}let ge=!1;const ve=new Set;function me(){if(!ge){ge=!0;do{for(let e=0;e<se.length;e+=1){const t=se[e];Z(t),be(t.$$)}for(Z(null),se.length=0;ae.length;)ae.pop()();for(let e=0;e<ue.length;e+=1){const t=ue[e];ve.has(t)||(ve.add(t),t())}ue.length=0}while(se.length);for(;ce.length;)ce.pop()();fe=!1,ge=!1,ve.clear()}}function be(e){if(null!==e.fragment){e.update(),u(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(pe)}}let we;function Se(){return we||(we=Promise.resolve(),we.then((()=>{we=null}))),we}function _e(e,t,n){e.dispatchEvent(H(`${t?"intro":"outro"}${n}`))}const Ee=new Set;let Ae;function Ie(){Ae={r:0,c:[],p:Ae}}function Oe(){Ae.r||u(Ae.c),Ae=Ae.p}function Te(e,t){e&&e.i&&(Ee.delete(e),e.i(t))}function Ce(e,t,n,r){if(e&&e.o){if(Ee.has(e))return;Ee.add(e),Ae.c.push((()=>{Ee.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const xe={duration:0};function Pe(e,t,n){let i,s,a=t(e,n),u=!1,l=0;function f(){i&&Q(e,i)}function h(){const{delay:t=0,duration:n=300,easing:c=o,tick:h=r,css:d}=a||xe;d&&(i=J(e,0,1,n,t,c,d,l++)),h(0,1);const p=E()+t,y=p+n;s&&s.abort(),u=!0,pe((()=>_e(e,!0,"start"))),s=T((t=>{if(u){if(t>=y)return h(1,0),_e(e,!0,"end"),f(),u=!1;if(t>=p){const e=c((t-p)/n);h(e,1-e)}}return u}))}let d=!1;return{start(){d||(Q(e),c(a)?(a=a(),Se().then(h)):h())},invalidate(){d=!1},end(){u&&(f(),u=!1)}}}function ke(e,t,n){let i,s=t(e,n),a=!0;const l=Ae;function f(){const{delay:t=0,duration:n=300,easing:c=o,tick:f=r,css:h}=s||xe;h&&(i=J(e,1,0,n,t,c,h));const d=E()+t,p=d+n;pe((()=>_e(e,!1,"start"))),T((t=>{if(a){if(t>=p)return f(0,1),_e(e,!1,"end"),--l.r||u(l.c),!1;if(t>=d){const e=c((t-d)/n);f(1-e,e)}}return a}))}return l.r+=1,c(s)?Se().then((()=>{s=s(),f()})):f(),{end(t){t&&s.tick&&s.tick(1,0),a&&(i&&Q(e,i),a=!1)}}}const Ne="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Me(e,t){Ce(e,1,1,(()=>{t.delete(e.key)}))}function Re(e,t,n,r,o,i,s,a,u,c,l,f){let h=e.length,d=i.length,p=h;const y={};for(;p--;)y[e[p].key]=p;const g=[],v=new Map,m=new Map;for(p=d;p--;){const e=f(o,i,p),a=n(e);let u=s.get(a);u?r&&u.p(e,t):(u=c(a,e),u.c()),v.set(a,g[p]=u),a in y&&m.set(a,Math.abs(p-y[a]))}const b=new Set,w=new Set;function S(e){Te(e,1),e.m(a,l),s.set(e.key,e),l=e.first,d--}for(;h&&d;){const t=g[d-1],n=e[h-1],r=t.key,o=n.key;t===n?(l=t.first,h--,d--):v.has(o)?!s.has(r)||b.has(r)?S(t):w.has(o)?h--:m.get(r)>m.get(o)?(w.add(r),S(t)):(b.add(o),h--):(u(n,s),h--)}for(;h--;){const t=e[h];v.has(t.key)||u(t,s)}for(;d;)S(g[d-1]);return g}function Ue(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const s=e[i],a=t[i];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)o[e]||(n[e]=a[e],o[e]=1);e[i]=a}else for(const e in s)o[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function De(e){return"object"==typeof e&&null!==e?e:{}}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let Le;function $e(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function je(e){e&&e.c()}function Fe(e,t,n,r){const{fragment:o,on_mount:i,on_destroy:a,after_update:l}=e.$$;o&&o.m(t,n),r||pe((()=>{const t=i.map(s).filter(c);a?a.push(...t):u(t),e.$$.on_mount=[]})),l.forEach(pe)}function Be(e,t){const n=e.$$;null!==n.fragment&&(u(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function qe(e,t,n,o,i,s,c=[-1]){const l=W;Z(e);const f=e.$$={fragment:null,ctx:null,props:s,update:r,not_equal:i,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:t.context||[]),callbacks:a(),dirty:c,skip_bound:!1};let h=!1;if(f.ctx=n?n(e,t.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),h&&function(e,t){-1===e.$$.dirty[0]&&(se.push(e),he(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],f.update(),h=!0,u(f.before_update),f.fragment=!!o&&o(f.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);f.fragment&&f.fragment.l(e),e.forEach(P)}else f.fragment&&f.fragment.c();t.intro&&Te(e.$$.fragment),Fe(e,t.target,t.anchor,t.customElement),me()}Z(l)}"function"==typeof HTMLElement&&(Le=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(s).filter(c);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){u(this.$$.on_disconnect)}$destroy(){Be(this,1),this.$destroy=r}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!f(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class Ge{$destroy(){Be(this,1),this.$destroy=r}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!f(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}},3102:(e,t,n)=>{"use strict";n.d(t,{nK:()=>s,fZ:()=>i});var r=n(3774);const o=[];function i(e,t=r.ZT){let n;const i=[];function s(t){if((0,r.N8)(e,t)&&(e=t,n)){const t=!o.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),o.push(n,e)}if(t){for(let e=0;e<o.length;e+=2)o[e][0](o[e+1]);o.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(o,a=r.ZT){const u=[o,a];return i.push(u),1===i.length&&(n=t(s)||r.ZT),o(e),()=>{const e=i.indexOf(u);-1!==e&&i.splice(e,1),0===i.length&&(n(),n=null)}}}}function s(e,t,n){const o=!Array.isArray(e),s=o?[e]:e,a=t.length<2;return{subscribe:i(n,(e=>{let n=!1;const i=[];let u=0,c=r.ZT;const l=()=>{if(u)return;c();const n=t(o?i[0]:i,e);a?e(n):c=(0,r.sB)(n)?n:r.ZT},f=s.map(((e,t)=>(0,r.Ld)(e,(e=>{i[t]=e,u&=~(1<<t),n&&l()}),(()=>{u|=1<<t}))));return n=!0,l(),function(){(0,r.j7)(f),c()}})).subscribe}}},3275:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});const r={};let o;function i(e){const t=e||"en-EN";return o=e,void 0!==r[t]||(r[t]=fetch("/i18n/"+t+".json").then((e=>{if(e&&200===e.status||204===e.status)return e.json();if(404===e.status)throw new Error(`Locale "${t}" not found!`);throw new Error("Invalid Locale response!")})).catch((e=>{throw console.error("Error on loading locale",t),console.error(e),new Error(e)}))),r[t]}const s={setLocale:e=>{e!==o&&i(e)},translate:e=>{const[t,n]=e.split(".");return i(o).then((e=>e?.[t]?.[n]||"")).catch((t=>e))}}},7148:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r={"arrow-left":'<path\n\t\td="M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"/>',"arrow-right":'<path\n\t\td="M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4z"/>',camera:'<path d="M864 248H728l-32.4-90.8a32.07 32.07 0 0 0-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"/>\n',check:'<path\n\t\td="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 0 0-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"/>',close:'<>\n\t\t<path\n\t\t\td="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"/>\n\t\t<path\n\t\t\td="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/>\n\t</>',cloud:'<path d="M518.3 459a8 8 0 0 0-12.6 0l-112 141.7a7.98 7.98 0 0 0 6.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"/>\n  <path d="M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0 1 52.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 0 1-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"/>\n',delete:'<path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"/>\n',down:'<path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"/>\n',edit:'<path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"/>\n',facebook:'<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-32 736H663.9V602.2h104l15.6-120.7H663.9v-77.1c0-35 9.7-58.8 59.8-58.8h63.9v-108c-11.1-1.5-49-4.8-93.2-4.8-92.2 0-155.3 56.3-155.3 159.6v89H434.9v120.7h104.3V848H176V176h672v672z"/>\n',file:'<path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"/>\n',filter:'<path d="M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"/>\n',google:'<path d="M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z"/>\n',goto:'<path d="M632 698.3l141.9-112c4.1-3.2 4.1-9.4 0-12.6L632 461.7c-5.3-4.2-13-0.4-13 6.3v76H295c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h324v76c0 6.7 7.8 10.4 13 6.3zM893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v278c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V422c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-83.5c0-17-6.7-33.2-18.7-45.2zM640 288H384V184h256v104zM904 724h-56c-4.4 0-8 3.6-8 8v108H184V732c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v148c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V732c0-4.4-3.6-8-8-8z" p-id="12830"></path>',home:'<path\n\t\td="M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"/>',login:'<path\n\t\td="M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 0 1 520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 0 1 270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 0 1 0 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"/>',logout:'<path d="M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 0 1-112.7 75.9A352.8 352.8 0 0 1 512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 0 1-112.7-75.9 353.28 353.28 0 0 1-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 0 0 0-12.6z"/>\n',menu:'<path\n\t\td="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"/>',plus:'<path d="M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z" p-id="10298"></path><path d="M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z" p-id="10299"></path>',"plus-circle":'<><path d="M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"/>\n  <path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/>\n</>',power:'<path d="M705.6 124.9a8 8 0 0 0-11.6 7.2v64.2c0 5.5 2.9 10.6 7.5 13.6a352.2 352.2 0 0 1 62.2 49.8c32.7 32.8 58.4 70.9 76.3 113.3a355 355 0 0 1 27.9 138.7c0 48.1-9.4 94.8-27.9 138.7a355.92 355.92 0 0 1-76.3 113.3 353.06 353.06 0 0 1-113.2 76.4c-43.8 18.6-90.5 28-138.5 28s-94.7-9.4-138.5-28a353.06 353.06 0 0 1-113.2-76.4A355.92 355.92 0 0 1 184 650.4a355 355 0 0 1-27.9-138.7c0-48.1 9.4-94.8 27.9-138.7 17.9-42.4 43.6-80.5 76.3-113.3 19-19 39.8-35.6 62.2-49.8 4.7-2.9 7.5-8.1 7.5-13.6V132c0-6-6.3-9.8-11.6-7.2C178.5 195.2 82 339.3 80 506.3 77.2 745.1 272.5 943.5 511.2 944c239 .5 432.8-193.3 432.8-432.4 0-169.2-97-315.7-238.4-386.7zM480 560h64c4.4 0 8-3.6 8-8V88c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8z"/>\n',settings:'<path\n\t\td="M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 0 0 9.3-35.2l-.9-2.6a443.74 443.74 0 0 0-79.7-137.9l-1.8-2.1a32.12 32.12 0 0 0-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 0 0-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 0 0-25.8 25.7l-15.8 85.4a351.86 351.86 0 0 0-99 57.4l-81.9-29.1a32 32 0 0 0-35.1 9.5l-1.8 2.1a446.02 446.02 0 0 0-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 0 0-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0 0 35.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0 0 25.8 25.7l2.7.5a449.4 449.4 0 0 0 159 0l2.7-.5a32.05 32.05 0 0 0 25.8-25.7l15.7-85a350 350 0 0 0 99.7-57.6l81.3 28.9a32 32 0 0 0 35.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 0 1-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 0 1-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 0 1 512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 0 1 400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 0 1 624 502c0 29.9-11.7 58-32.8 79.2z"/>',star:'<path\n\t\td="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"/>',user:'<path\n\t\td="M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"/>',"user-add":'<path d="M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 0 0-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 0 0-80.4 119.5A373.6 373.6 0 0 0 137 888.8a8 8 0 0 0 8 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 0 0 8.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 0 1 340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 0 1 683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"/>\n',"user-delete":'<path d="M678.3 655.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 0 0-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 518 759.6 444.7 759.6 362c0-137-110.8-248-247.5-248S264.7 225 264.7 362c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 0 0-80.4 119.5A373.6 373.6 0 0 0 137 901.8a8 8 0 0 0 8 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 641.2 432.2 610 512.2 610c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 0 0 8.1.3zM512.2 534c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 0 1 340.5 362c0-45.9 17.9-89.1 50.3-121.6S466.3 190 512.2 190s88.9 17.9 121.4 50.4A171.2 171.2 0 0 1 683.9 362c0 45.9-17.9 89.1-50.3 121.6C601.1 516.1 558 534 512.2 534zM880 772H640c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h240c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"/>\n',world:'<path d="M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0 0 10-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 0 0 3.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 0 0-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 0 1 887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 0 1-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 0 1 115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 0 1 540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 0 0 540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 0 1-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 0 0-81.5 55.9A373.86 373.86 0 0 1 137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 0 1-107.6 69.2z"/>\n'}},2603:(e,t,n)=>{"use strict";n.d(t,{B:()=>l});var r=n(3102);const{subscribe:o,set:i,update:s}=(0,r.fZ)({notifications:[]});function a(){s((e=>{const t=e.notifications.map((e=>e.permanent||e.paused?e:{...e,ttl:e.ttl-1,almostGone:e.ttl<=1})).filter((e=>e.ttl>=0));return t&&0!==t.length||clearInterval(u),{notifications:t}}))}let u;let c=1;const l={subscribe:o,set:i,update:s,push:e=>{s((t=>{const n={...e,id:"_notification_"+(c++).toString(),paused:!1,almostGone:!1,type:void 0===e.type?"default":e.type,ttl:void 0===e.ttl?3:e.ttl,permanent:0===e.ttl};return clearInterval(u),u=setInterval(a,1e3),{...t,notifications:[...t.notifications,n]}}))},setPause:(e,t)=>{s((n=>{const r=n.notifications.find((t=>t.id===e));return r&&!r.almostGone&&(r.paused=t),{notifications:n.notifications}}))},close:e=>{s((t=>({notifications:t.notifications.filter((t=>t.id!==e))})))}}},7144:(e,t,n)=>{"use strict";n.d(t,{JQ:()=>o,s$:()=>i,K2:()=>s,x2:()=>a});var r=n(2603);function o(e,t,n){r.B.push({text:e,title:t,type:"info",ttl:n?0:void 0})}function i(e,t,n){r.B.push({text:e,title:t,type:"success",ttl:n?0:void 0})}function s(e,t,n){r.B.push({text:e,title:t,type:"warn",ttl:n?0:void 0})}function a(e,t,n){r.B.push({text:e,title:t,type:"error",ttl:n?0:void 0})}},3267:(e,t,n)=>{"use strict";n.d(t,{x:()=>A});var r=n(9150),o=n(4326),i=n(1155),s=n(3102),a=n(7144),u=n(3949),c=n(4331),l=n(7172),f=n(6029),h=n(1570);const d="Gun not found!";let p,y=r.Sr.DESCENDING,g=[],v=[];const{subscribe:m,set:b,update:w}=(0,s.fZ)({busy:!0,sortOrder:"desc",filteredBy:[],isEmpty:null,totalShots:0,totalRecords:0,expenses:{},actions:v});function S(){v=[],y=r.Sr.DESCENDING,g=[],w((e=>({actions:[],sortOrder:"desc",filteredBy:[],totalShots:0,totalRecords:0,expenses:{},isEmpty:null,busy:!1})))}async function _(e){if(f.g.getGunById(e||p)){e&&(p=e),w((e=>({...e,busy:!0})));try{let e=(await o.KT.query(u.a,i.gA.ALL,{sort:e=>e.date(y)})).filter((e=>e.gun?.id===p));const t=e.length;g.length>0&&(e=e.filter((e=>g.includes(e.type))));const n=e.map((e=>({...e,sum:0,totalExpenses:null}))),s={};let a=0;const c={};if(Object.values(h.QE).forEach((e=>{c[e.id]=0})),n&&n.length>0){let e=0,t=n.length,o=1;y===r.Sr.DESCENDING&&(e=n.length-1,t=-1,o=-1);for(let r=e;r!==t;r+=o){if(n[r].expenses){const e=n[r].currency||"OTH";void 0===s[e]&&(s[e]=0),s[e]+=n[r].expenses,c[e]+=n[r].expenses}n[r].shots&&(a+=n[r].shots),n[r].sum=a,n[r].totalExpenses={...s}}}v=e,w((e=>({actions:n,sortOrder:y===r.Sr.ASCENDING?"asc":"desc",isEmpty:0===n.length,filteredBy:g,totalShots:a,totalRecords:t,expenses:s,busy:!1})))}catch(e){(0,a.x2)(`Error on retrieving actions:\n${(0,c.H)(e)}`,"Error"),S()}}}let E;const A={subscribe:m,set:b,update:w,unloadActions:()=>{S(),E&&E.unsubscribe()},initStore:(e,t)=>{S(),t?.sort&&(y="asc"===t.sort?r.Sr.ASCENDING:r.Sr.DESCENDING),t?.filters&&(g=t.filters),_(e),E=o.KT.observe(u.a).subscribe((t=>{_(e)}))},loadActions:_,registerAction:async function(e,t){w((e=>({...e,busy:!0})));const n=f.g.getGunById(e);try{if(!n)throw new Error(d);t.type||(t.type="other"),await o.KT.save(new u.a({...t,gun:n}))}catch(e){return(0,a.x2)(`Error on registering action:\n${(0,c.H)(e)}`,"Error"),w((e=>({...e,busy:!1}))),!1}return!0},saveAction:async function(e){w((e=>({...e,busy:!0})));try{const t=v.find((t=>t.id===e.id));if(!t)throw new Error("Action not found!");await o.KT.save(u.a.copyOf(t,(t=>{t.title=e.title,t.type=e.type||"other",t.date=e.date,t.comment=e.comment,t.currency=e.currency,t.expenses=e.expenses,t.shots=e.shots,t.trainingNotes=e.trainingNotes})))}catch(e){return(0,a.x2)(`Error on storing the action:\n${(0,c.H)(e)}`,"Error"),w((e=>({...e,busy:!1}))),!1}return!0},removeAction:async function(e){try{const t=await o.KT.delete(u.a,e);if(!t||0===t.length)throw new Error("Something went wrong")}catch(e){return(0,a.x2)(`Error on removing the action:\n${(0,c.H)(e)}`,"Error"),!1}return!0},getOrder:function(){return y===r.Sr.ASCENDING?"asc":"desc"},setOrder:function(e){let t;"asc"===e&&(t=r.Sr.ASCENDING),"desc"===e&&(t=r.Sr.DESCENDING),t!==y&&(y=t,_())},getFilter:function(){return g},setFilter:function(e){e&&"all"!==e&&0!==e.length&&e.length!==h.MF.length?(0,l.j)(e,g)||(g=[...e],_()):g.length&&(g=[],_())},isFiltered:function(){return g.length>0},getActionById:function(e){return v.find((t=>t.id===e))},countRecordsForGun:async function(e){if(!f.g.getGunById(e))throw new Error(d);return(await o.KT.query(u.a,i.gA.ALL)).filter((t=>t.gun?.id===e))?.length||0}}},1570:(e,t,n)=>{"use strict";n.d(t,{MF:()=>r,QI:()=>i,QE:()=>s,hU:()=>u});const r=[{id:"training",group:"shooting",color:"#e51480"},{id:"pers_training",group:"shooting",color:"#c4116e"},{id:"competition",group:"shooting",color:"#950d54"},{id:"hunting",group:"shooting",color:"#7d0744"},{id:"dry_training",group:"no_shooting",color:"#f659ba"},{id:"other",group:"no_shooting",color:"#a5b8b6"},{id:"cleanup",group:"no_shooting",color:"#6e7374"},{id:"tuning",group:"parts",color:"#bbf158"},{id:"spare_parts",group:"parts",color:"#3ef855"},{id:"repair",group:"parts",color:"#3d9c4b"},{id:"bullets",group:"buy_and_sell",color:"#fa934e"},{id:"purchase",group:"buy_and_sell",color:"#f88570"},{id:"selling",group:"buy_and_sell",color:"#9b6df6"}],o={};r.forEach((e=>{o[e.id]=e.color}));const i=e=>o[e]||o.other,s=[{id:"USD",sign:"$"},{id:"EUR",sign:"€"},{id:"UAH",sign:"₴"},{id:"PLN",sign:"zł"},{id:"OTH",sign:"="}],a={};s.forEach((e=>{a[e.id]=e.sign}));const u=e=>a[e]||a.OTH},8137:(e,t,n)=>{"use strict";n.d(t,{R:()=>s,X:()=>l});var r=n(7693),o=n.n(r),i=(n(2342),n(4381),n(5123),n(3102));let s;const{subscribe:a,set:u,update:c}=(0,i.fZ)({path:"",modal:{open:null,close:null},locale:"en-EN",dateLocale:"en",isGlobalSpinnerVisible:!1});const l={subscribe:a,set:u,update:c,setPath:e=>{c((t=>({...t,path:e})))},setLocale:e=>{localStorage.setItem("app.locale",e);const t=function(e){let t=e.split("-")[0];return"ua"===t&&(t="uk"),o().locale(t),s=t,t}(e);c((n=>({...n,locale:e,dateLocale:t})))},setModal:(e,t)=>{c((n=>({...n,modal:{open:e,close:t}})))},showSpinner:()=>{c((e=>({...e,isGlobalSpinnerVisible:!0})))},hideSpinner:()=>{c((e=>({...e,isGlobalSpinnerVisible:!1})))}}},6029:(e,t,n)=>{"use strict";n.d(t,{g:()=>m});var r=n(4326),o=n(3102),i=n(7144),s=n(3949),a=n(4331);let u=[],c=!1,l=!1;const{subscribe:f,set:h,update:d}=(0,o.fZ)({busy:!0,isEmpty:null,fullReady:!1,guns:u});function p(){u=[],d((e=>({guns:[],isEmpty:null,fullReady:!1,busy:!1})))}function y(e){return u.find((t=>t.id===e))}async function g(){d((e=>({...e,busy:!0})));try{u=await r.KT.query(s.F),d((e=>({guns:u,isEmpty:!0===c?0===u.length:null,fullReady:l,busy:!1})))}catch(e){(0,i.x2)(`Error on retrieving guns:\n${(0,a.H)(e)}`,"Error"),p()}}let v;const m={subscribe:f,set:h,update:d,unloadGuns:()=>{p(),v&&v.unsubscribe()},initStore:()=>{c=!1,p(),v=r.KT.observe(s.F).subscribe((e=>{g()}))},setSubscribed:function(){c=!0,d((e=>({...e,isEmpty:0===e.guns.length})))},setFullReady:function(){c=!0,l=!0,d((e=>({...e,isEmpty:0===e.guns.length,fullReady:!0})))},loadGuns:g,createGun:async function(e){if(u.length>=7)return(0,i.x2)("Only 7 guns could be stored in this version.","Maximum number reached"),!1;d((e=>({...e,busy:!0})));try{await r.KT.save(new s.F({...e,dateCreated:(new Date).toISOString()}))}catch(e){return(0,i.x2)(`Error on registering the gun:\n${(0,a.H)(e)}`,"Error"),!1}return!0},saveGun:async function(e){const t=y(e?.id);if(!t)throw new Error("Gun not found!");d((e=>({...e,busy:!0})));try{await r.KT.save(s.F.copyOf(t,(t=>{t.name=(e.name||"").substring(0,64),t.make=(e.make||"").substring(0,64),t.model=(e.model||"").substring(0,64),t.notes=(e.notes||"").substring(0,2048),t.caliber=(e.caliber||"").substring(0,32),t.photo=(e.photo||"").substring(0,128)})))}catch(e){return(0,i.x2)(`Error on storing the gun:\n${(0,a.H)(e)}`,"Error"),!1}return!0},removeGun:async function(e){try{const t=await r.KT.delete(s.F,e);if(!t||0===t.length)throw new Error("Something went wrong")}catch(e){return(0,i.x2)(`Error on removing the gun:\n${(0,a.H)(e)}`,"Error"),!1}return!0},getGunById:y,gunCount:function(){return u?.length||-1},savePhoto:async function(e,t){const n=y(e);if(!n)throw new Error("Gun not found!");d((e=>({...e,busy:!0})));try{await r.KT.save(s.F.copyOf(n,(e=>{e.photo=(t||"").substring(0,128)})))}catch(e){return(0,i.x2)(`Error on storing the gun:\n${(0,a.H)(e)}`,"Error"),!1}return!0}}},4331:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});const r=e=>(console.error(e),"string"==typeof e?e:"string"==typeof e.message?e.message:e.toString?e.toString():"Unknown error")},7172:(e,t,n)=>{"use strict";function r(e){return!e||(Array.isArray(e)?0===e.length:"object"==typeof e&&0===Object.keys(e).length)}function o(e,t){if(!t||!e)return!1;if(!Array.isArray(t)||!Array.isArray(e))return!1;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(!t.includes(e[n]))return!1;for(let n=0,r=t.length;n<r;n++)if(!e.includes(t[n]))return!1;return!0}n.d(t,{x:()=>r,j:()=>o})},858:()=>{},4669:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var o=new XMLHttpRequest,i=[],s=[],a={},u=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:u,headers:{keys:function(){return i},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),n(u())},o.onerror=r,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(c,t.headers[c]);o.send(t.body||null)}))}n.r(t),n.d(t,{default:()=>r})},8884:function(e,t,n){var r;/*! https://mths.be/punycode v1.3.2 by @mathias */e=n.nmd(e),function(o){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var s,a=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function y(e){throw RangeError(h[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(f,".")).split("."),t).join(".")}function m(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=u)e=d(e/35);return d(r+36*e/(e+38))}function _(e){var t,n,r,o,i,s,c,l,f,h,p,g=[],v=e.length,m=0,w=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&y("not-basic"),g.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<v;){for(i=m,s=1,c=u;o>=v&&y("invalid-input"),((l=(p=e.charCodeAt(o++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||l>d((a-m)/s))&&y("overflow"),m+=l*s,!(l<(f=c<=_?1:c>=_+26?26:c-_));c+=u)s>d(a/(h=u-f))&&y("overflow"),s*=h;_=S(m-i,t=g.length+1,0==i),d(m/t)>a-w&&y("overflow"),w+=d(m/t),m%=t,g.splice(m++,0,w)}return b(g)}function E(e){var t,n,r,o,i,s,c,l,f,h,g,v,b,_,E,A=[];for(v=(e=m(e)).length,t=128,n=0,i=72,s=0;s<v;++s)(g=e[s])<128&&A.push(p(g));for(r=o=A.length,o&&A.push("-");r<v;){for(c=a,s=0;s<v;++s)(g=e[s])>=t&&g<c&&(c=g);for(c-t>d((a-n)/(b=r+1))&&y("overflow"),n+=(c-t)*b,t=c,s=0;s<v;++s)if((g=e[s])<t&&++n>a&&y("overflow"),g==t){for(l=n,f=u;!(l<(h=f<=i?1:f>=i+26?26:f-i));f+=u)E=l-h,_=u-h,A.push(p(w(h+E%_,0))),l=d(E/_);A.push(p(w(l,0))),i=S(n,b,r==o),n=0,++r}++n,++t}return A.join("")}s={version:"1.3.2",ucs2:{decode:m,encode:b},decode:_,encode:E,toASCII:function(e){return v(e,(function(e){return l.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?_(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},4760:(e,t,n)=>{"use strict";var r=n(8884),o=n(569);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b,t.WU=function(e){o.isString(e)&&(e=b(e));return e instanceof i?e.format():i.prototype.format.call(e)};var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(8966);function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),a=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=s.exec(b);if(S){var _=(S=S[0]).toLowerCase();this.protocol=_,b=b.substr(S.length)}if(n||S||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||S&&g[S]||(b=b.substr(2),this.slashes=!0)}if(!g[S]&&(E||S&&!v[S])){for(var A,I,O=-1,T=0;T<h.length;T++){-1!==(C=b.indexOf(h[T]))&&(-1===O||C<O)&&(O=C)}-1!==(I=-1===O?b.lastIndexOf("@"):b.lastIndexOf("@",O))&&(A=b.slice(0,I),b=b.slice(I+1),this.auth=decodeURIComponent(A)),O=-1;for(T=0;T<f.length;T++){var C;-1!==(C=b.indexOf(f[T]))&&(-1===O||C<O)&&(O=C)}-1===O&&(O=b.length),this.host=b.slice(0,O),b=b.slice(O),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var P=this.hostname.split(/\./),k=(T=0,P.length);T<k;T++){var N=P[T];if(N&&!N.match(d)){for(var M="",R=0,U=N.length;R<U;R++)N.charCodeAt(R)>127?M+="x":M+=N[R];if(!M.match(d)){var D=P.slice(0,T),L=P.slice(T+1),$=N.match(p);$&&(D.push($[1]),L.unshift($[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+j,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!y[_])for(T=0,k=l.length;T<k;T++){var B=l[T];if(-1!==b.indexOf(B)){var q=encodeURIComponent(B);q===B&&(q=escape(B)),b=b.split(B).join(q)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var z=b.indexOf("?");if(-1!==z?(this.search=b.substr(z),this.query=b.substr(z+1),t&&(this.query=m.parse(this.query)),b=b.slice(0,z)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var H=this.search||"";this.path=j+H}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var d=f[h];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var y=n.pathname||"",m=n.search||"";n.path=y+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=w||b||n.host&&e.pathname,_=S,E=n.pathname&&n.pathname.split("/")||[],A=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(A&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),S=S&&(""===p[0]||""===E[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(A)n.hostname=n.host=E.shift(),(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift());return n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var I=E.slice(-1)[0],O=(n.host||e.host||E.length>1)&&("."===I||".."===I)||""===I,T=0,C=E.length;C>=0;C--)"."===(I=E[C])?E.splice(C,1):".."===I?(E.splice(C,1),T++):T&&(E.splice(C,1),T--);if(!S&&!_)for(;T--;T)E.unshift("..");!S||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),O&&"/"!==E.join("/").substr(-1)&&E.push("");var x,P=""===E[0]||E[0]&&"/"===E[0].charAt(0);A&&(n.hostname=n.host=P?"":E.length?E.shift():"",(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift()));return(S=S||n.host&&E.length)&&!P&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},569:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},1719:(e,t,n)=>{var r=n(2998),o=n(6541),i=o;i.v1=r,i.v4=o,e.exports=i},3973:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},6963:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},2998:(e,t,n)=>{var r,o,i=n(6963),s=n(3973),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==h){var d=i();null==f&&(f=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=o=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:u+1,g=p-a+(y-u)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||p>a)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,u=y,o=h;var v=(1e4*(268435455&(p+=122192928e5))+y)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=h>>>8|128,l[c++]=255&h;for(var b=0;b<6;++b)l[c+b]=f[b];return t||s(l)}},6541:(e,t,n)=>{var r=n(6963),o=n(3973);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},9184:(e,t,n)=>{e.exports=n(5210).Observable},5210:(e,t)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.Observable=void 0;var i=function(){return"function"==typeof Symbol},s=function(e){return i()&&Boolean(Symbol[e])},a=function(e){return s(e)?Symbol[e]:"@@"+e};i()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var u=a("iterator"),c=a("observable"),l=a("species");function f(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:_}function d(e){return e instanceof _}function p(e){p.log?p.log(e):setTimeout((function(){throw e}))}function y(e){Promise.resolve().then((function(){try{e()}catch(e){p(e)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=f(t,"unsubscribe");n&&n.call(t)}}catch(e){p(e)}}function v(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function m(e,t,n){e._state="running";var r=e._observer;try{var o=f(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(v(e),!o)throw n;o.call(r,n);break;case"complete":v(e),o&&o.call(r)}}catch(e){p(e)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void y((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(m(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void m(e,t,n);e._queue.push({type:t,value:n})}}var w=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var o=new S(this);try{this._cleanup=r.call(void 0,o)}catch(e){o.error(e)}"initializing"===this._state&&(this._state="ready")}return o(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(v(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),S=function(){function e(t){n(this,e),this._subscription=t}return o(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),_=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return o(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new w(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this),r=arguments.length>1,o=!1,i=arguments[1],s=i;return new n((function(n){return t.subscribe({next:function(t){var i=!o;if(o=!0,!i||r)try{s=e(s,t)}catch(e){return n.error(e)}else s=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=h(this);return new o((function(t){var r,i=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this);return new n((function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),s()}});o.push(i)},error:function(e){r.error(e)},complete:function(){s()}});function s(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=f(t,c);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return d(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(s("iterator")&&(r=f(t,u)))return new n((function(e){y((function(){if(!e.closed){var n=!0,o=!1,i=void 0;try{for(var s,a=r.call(t)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;if(e.next(u),e.closed)return}}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){y((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o="function"==typeof this?this:e;return new o((function(e){y((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();t.Observable=_,i()&&Object.defineProperty(_,Symbol("extensions"),{value:{symbol:c,hostReportError:p},configurable:!0})},9510:(e,t,n)=>{"use strict";var r,o,i=n(4044);function s(e,t,n){if(e._observer)a(e._observer,t,n);else if(e._observers){var r=[];e._observers.forEach((function(e){r.push(e)})),r.forEach((function(e){a(e,t,n)}))}}function a(e,t,n){if(!e.closed)switch(t){case"next":return e.next(n);case"error":return e.error(n);case"complete":return e.complete(n)}}function u(e){return e._observer||e._observers&&e._observers.size>0}function c(e){var t=this;this._observer=null,this._observers=null,this._observable=new i((function(n){return function(e,t){!u(e)&&t&&t.start&&t.start()}(t,e),function(e,t){e._observers?e._observers.add(t):e._observer?(e._observers=new Set,e._observers.add(e._observer),e._observers.add(t),e._observer=null):e._observer=t}(t,n),function(){!function(e,t){e._observers?e._observers.delete(t):e._observer===t&&(e._observer=null)}(t,n),function(e,t){!u(e)&&t&&t.pause&&t.pause()}(t,e)}}))}r=c.prototype,o={get observable(){return this._observable},get observed(){return u(this)},next:function(e){s(this,"next",e)},error:function(e){s(this,"error",e)},complete:function(e){s(this,"complete",e)}},Object.keys(o).forEach((function(e){var t=Object.getOwnPropertyDescriptor(o,e);t.enumerable=!1,Object.defineProperty(r,e,t)})),e.exports=c},4044:(e,t,n)=>{e.exports=n(5237).Observable},5237:(e,t,n)=>{"use strict";e=n.nmd(e),function(e,t){function n(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function o(e){setTimeout((function(){throw e}))}function i(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function s(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:p}function a(e,t){Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)}))}function u(e){var t=e._cleanup;if(t){e._cleanup=void 0;try{t()}catch(e){o(e)}}}function c(e){return void 0===e._observer}function l(e){c(e)||(e._observer=void 0,u(e))}function f(e){return function(){e.unsubscribe()}}function h(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;try{var n=i(e,"start");n&&n.call(e,this)}catch(e){o(e)}if(!c(this)){e=new d(this);try{var r=t.call(void 0,e);if(null!=r){if("function"==typeof r.unsubscribe)r=f(r);else if("function"!=typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(t){return void e.error(t)}c(this)&&u(this)}}function d(e){this._subscription=e}function p(e){if(!(this instanceof p))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),a(h.prototype={},{get closed(){return c(this)},unsubscribe:function(){l(this)}}),a(d.prototype={},{get closed(){return c(this._subscription)},next:function(e){var t=this._subscription;if(!c(t)){var n=t._observer;try{var r=i(n,"next");r&&r.call(n,e)}catch(e){o(e)}}},error:function(e){var t=this._subscription;if(c(t))o(e);else{var n=t._observer;t._observer=void 0;try{var r=i(n,"error");if(!r)throw e;r.call(n,e)}catch(e){o(e)}u(t)}},complete:function(){var e=this._subscription;if(!c(e)){var t=e._observer;e._observer=void 0;try{var n=i(t,"complete");n&&n.call(t)}catch(e){o(e)}u(e)}}}),a(p.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof e?e={next:e,error:t[0],complete:t[1]}:"object"==typeof e&&null!==e||(e={}),new h(e,this._subscriber)},forEach:function(e){var t=this;return new Promise((function(n,r){if("function"!=typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{e(t)}catch(e){r(e),n.unsubscribe()}},error:r,complete:n})}))},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(s(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(s(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=s(this),r=arguments.length>1,o=!1,i=arguments[1];return new n((function(n){return t.subscribe({next:function(t){if(!n.closed){var s=!o;if(o=!0,!s||r)try{i=e(i,t)}catch(e){return n.error(e)}else i=t}},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(i),n.complete()}})}))}}),Object.defineProperty(p.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),a(p,{from:function(e){var t="function"==typeof this?this:p;if(null==e)throw new TypeError(e+" is not an object");var o=i(e,r("observable"));if(o){var s=o.call(e);if(Object(s)!==s)throw new TypeError(s+" is not an object");return s.constructor===t?s:new t((function(e){return s.subscribe(e)}))}if(n("iterator")&&(o=i(e,r("iterator"))))return new t((function(t){for(var n,r=o.call(e)[Symbol.iterator]();!(n=r.next()).done;){var i=n.value;if(t.next(i),t.closed)return}t.complete()}));if(Array.isArray(e))return new t((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}));throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);return new("function"==typeof this?this:p)((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}))}}),Object.defineProperty(p,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(p,"extensions",{value:{observableSymbol:r("observable"),setHostReportError:function(e){o=e}}}),e.Observable=p}(t)},3949:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,F:()=>o});var r=n(4326);const{Gun:o,Action:i}=(0,r.yb)({models:{Gun:{name:"Gun",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},name:{name:"name",isArray:!1,type:"String",isRequired:!1,attributes:[]},make:{name:"make",isArray:!1,type:"String",isRequired:!1,attributes:[]},model:{name:"model",isArray:!1,type:"String",isRequired:!1,attributes:[]},notes:{name:"notes",isArray:!1,type:"String",isRequired:!1,attributes:[]},caliber:{name:"caliber",isArray:!1,type:"String",isRequired:!1,attributes:[]},dateCreated:{name:"dateCreated",isArray:!1,type:"AWSDateTime",isRequired:!0,attributes:[]},photo:{name:"photo",isArray:!1,type:"String",isRequired:!1,attributes:[]},actions:{name:"actions",isArray:!0,type:{model:"Action"},isRequired:!1,attributes:[],isArrayNullable:!0,association:{connectionType:"HAS_MANY",associatedWith:"gun"}}},syncable:!0,pluralName:"Guns",attributes:[{type:"model",properties:{}},{type:"auth",properties:{rules:[{provider:"userPools",ownerField:"owner",allow:"owner",identityClaim:"cognito:username",operations:["create","update","delete","read"]}]}}]},Action:{name:"Action",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},title:{name:"title",isArray:!1,type:"String",isRequired:!1,attributes:[]},type:{name:"type",isArray:!1,type:"String",isRequired:!1,attributes:[]},comment:{name:"comment",isArray:!1,type:"String",isRequired:!1,attributes:[]},shots:{name:"shots",isArray:!1,type:"Int",isRequired:!0,attributes:[]},date:{name:"date",isArray:!1,type:"AWSDateTime",isRequired:!0,attributes:[]},expenses:{name:"expenses",isArray:!1,type:"Float",isRequired:!1,attributes:[]},currency:{name:"currency",isArray:!1,type:"String",isRequired:!1,attributes:[]},trainingNotes:{name:"trainingNotes",isArray:!1,type:"String",isRequired:!1,attributes:[]},gun:{name:"gun",isArray:!1,type:{model:"Gun"},isRequired:!1,attributes:[],association:{connectionType:"BELONGS_TO",targetName:"gunID"}}},syncable:!0,pluralName:"Actions",attributes:[{type:"model",properties:{}},{type:"key",properties:{name:"byGun",fields:["gunID"]}},{type:"auth",properties:{rules:[{provider:"userPools",ownerField:"owner",allow:"owner",identityClaim:"cognito:username",operations:["create","update","delete","read"]}]}}]}},enums:{},nonModels:{},version:"6c693673dbfd2a6c124d7085036e93e0"})},3677:()=>{}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=r,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+"."+e+".js",i.miniCssF=e=>e+"-"+{116:"6cb2aaf4182a53ed85e8",189:"56c7fb226e322d94f630",198:"f55ca1507ebff5052a52",275:"2b4e26a00ef5a000a30a",363:"52cd591ccd065ba83d5b",592:"d574d610971cbb89b85f",596:"97a2d18e02be64a7f8f9",622:"f95c42e10924dc02febf",626:"0edcb1397a96e4ad3bb4",703:"35c795862ae045ba153a",729:"97417ae8378be3130c73",770:"495713e430f2cb195198"}[e]+".css",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},i.l=(t,n,r,o)=>{if(e[t])e[t].push(n);else{var s,a;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var l=u[c];if(l.getAttribute("src")==t){s=l;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=t),e[t]=[n];var f=(n,r)=>{s.onerror=s.onload=null,clearTimeout(h);var o=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(r))),n)return n(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),a&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.p="/",t=e=>new Promise(((t,n)=>{var r=i.miniCssF(e),o=i.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===e||o===t))return s}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var s;if((o=(s=i[r]).getAttribute("data-href"))===e||o===t)return s}})(r,o))return t();((e,t,n,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=s,u.request=a,o.parentNode.removeChild(o),r(u)}},o.href=t,document.head.appendChild(o)})(e,o,t,n)})),n={179:0},i.f.miniCss=(e,r)=>{n[e]?r.push(n[e]):0!==n[e]&&{116:1,189:1,198:1,275:1,363:1,592:1,596:1,622:1,626:1,703:1,729:1,770:1}[e]&&r.push(n[e]=t(e).then((()=>{n[e]=0}),(t=>{throw delete n[e],t})))},(()=>{var e={179:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var s=i.p+i.u(t),a=new Error;i.l(s,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[s,a,u]=n,c=0;for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(u)u(i);for(t&&t(n);c<s.length;c++)o=s[c],i.o(e,o)&&e[o]&&e[o][0](),e[s[c]]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=i(3774),t=i(1626),n=i(5446),r=i(4366);function o(t){let n;return{c(){n=(0,e.fL)("@Footer.Contacts")},m(t,r){(0,e.$T)(t,n,r)},d(t){t&&(0,e.og)(n)}}}function s(t){let n;return{c(){n=(0,e.fL)("@Footer.TermsOfService")},m(t,r){(0,e.$T)(t,n,r)},d(t){t&&(0,e.og)(n)}}}function a(t){let n,i,a,c,l,f,h,d,p,y,g,v,m,b,w,S,_,E,A;return d=new r.Z({props:{$$slots:{default:[o]},$$scope:{ctx:t}}}),S=new r.Z({props:{$$slots:{default:[s]},$$scope:{ctx:t}}}),{c(){n=(0,e.bG)("div"),i=(0,e.bG)("div"),a=(0,e.bG)("p"),a.innerHTML='© 2021 Oleksii Koshkin aka Lexey111\n\t\t\t<span class="svelte-11r400m">App version: 1.0.0 | May, 2021</span>',c=(0,e.Dh)(),l=(0,e.bG)("i"),f=(0,e.Dh)(),h=(0,e.bG)("div"),(0,e.YC)(d.$$.fragment),p=(0,e.fL)("\r\n\t\t\t: "),y=(0,e.bG)("a"),g=(0,e.fL)(u),m=(0,e.Dh)(),b=(0,e.bG)("div"),w=(0,e.bG)("a"),(0,e.YC)(S.$$.fragment),(0,e.Lj)(a,"class","svelte-11r400m"),(0,e.Lj)(l,"class","svelte-11r400m"),(0,e.Lj)(y,"href",v="mailto:"+u),(0,e.Lj)(y,"class","svelte-11r400m"),(0,e.Lj)(h,"class","svelte-11r400m"),(0,e.Lj)(w,"href","#"),(0,e.Lj)(w,"class","svelte-11r400m"),(0,e.Lj)(b,"class","svelte-11r400m"),(0,e.Lj)(i,"class","app-page-footer-content svelte-11r400m"),(0,e.Lj)(n,"class","app-page-footer svelte-11r400m")},m(r,o){(0,e.$T)(r,n,o),(0,e.R3)(n,i),(0,e.R3)(i,a),(0,e.R3)(i,c),(0,e.R3)(i,l),(0,e.R3)(i,f),(0,e.R3)(i,h),(0,e.ye)(d,h,null),(0,e.R3)(h,p),(0,e.R3)(h,y),(0,e.R3)(y,g),(0,e.R3)(i,m),(0,e.R3)(i,b),(0,e.R3)(b,w),(0,e.ye)(S,w,null),_=!0,E||(A=(0,e.oL)(w,"click",t[0]),E=!0)},p(e,[t]){const n={};2&t&&(n.$$scope={dirty:t,ctx:e}),d.$set(n);const r={};2&t&&(r.$$scope={dirty:t,ctx:e}),S.$set(r)},i(t){_||((0,e.Ui)(d.$$.fragment,t),(0,e.Ui)(S.$$.fragment,t),_=!0)},o(t){(0,e.et)(d.$$.fragment,t),(0,e.et)(S.$$.fragment,t),_=!1},d(t){t&&(0,e.og)(n),(0,e.vp)(d),(0,e.vp)(S),E=!1,A()}}}const u="lexey111@gmail.com";function c(e){return[()=>{(0,n.c4)("/tos")}]}class l extends e.f_{constructor(t){super(),(0,e.S1)(this,t,c,a,e.N8,{})}}const f=l;var h=i(3275);const d=[["home","Home"],["login","SignIn",!1],["guns","Guns",!0],["track","Track",!0]];var p=i(8137),y=i(7049),g=i(520),v=i(4326),m=i(1586),b=i.n(m),w=i(3102);const S={id:"",email:"",profileImageUrl:"",providerId:"",loggedIn:!1};let _="";const{subscribe:E,set:A,update:I}=(0,w.fZ)({...S,fetching:!1,started:!1});const O={subscribe:E,set:A,update:I,setFetching:e=>{I((t=>({...t,fetching:e})))},setLoggedIn:(e,t,n)=>{p.X.hideSpinner(),_=e;const r=b()(n);I((o=>({...o,fetching:!1,started:!0,id:e,providerId:t,email:n,profileImageUrl:`https://www.gravatar.com/avatar/${r}?d=mp`,loggedIn:!0})))},setLoggedOut:()=>{v.KT.clear(),p.X.hideSpinner(),I((e=>({...e,...(_="",{...S,started:!0,fetching:!1})})))},loginWithFacebook:function(){return p.X.showSpinner(),y.g.federatedSignIn({provider:g.JG.Facebook})},loginWithGoogle:function(){return p.X.showSpinner(),y.g.federatedSignIn({provider:g.JG.Google})},logout:async function(){return _="",p.X.showSpinner(),I((e=>({...e,fetching:!0}))),y.g.signOut()},signUp:async function(e,t){let n;p.X.showSpinner();try{n=await y.g.signUp({username:e,password:t,attributes:{email:e}})}catch(e){return p.X.hideSpinner(),e}return p.X.hideSpinner(),n},confirmSignUp:async function(e,t){let n;p.X.showSpinner();try{n=await y.g.confirmSignUp(e,t)}catch(e){return p.X.hideSpinner(),console.log("Error confirming sign up",e),e}return p.X.hideSpinner(),n},signIn:async function(e,t){let n;p.X.showSpinner();try{n=await y.g.signIn(e,t)}catch(e){return p.X.hideSpinner(),console.log("Error signing in",e),e}return n},forgotPassword:async function(e){let t;p.X.showSpinner();try{t=await y.g.forgotPassword(e)}catch(e){return p.X.hideSpinner(),console.log("Error sending reset code",e),e}return p.X.hideSpinner(),t},confirmForgotPassword:async function(e,t,n){let r;p.X.showSpinner();try{r=await y.g.forgotPasswordSubmit(e,t,n)}catch(e){return p.X.hideSpinner(),console.log("Error setting up new password",e),e}return p.X.hideSpinner(),r},changePassword:async function(e,t){let n;p.X.showSpinner();try{const r=await y.g.currentAuthenticatedUser();n=await y.g.changePassword(r,e,t)}catch(e){return p.X.hideSpinner(),console.log("Error changing password",e),e}return p.X.hideSpinner(),n}};var T=i(2123),C=i(4968),x=i(535);function P(t){let n,r,o,i,s=t[1].authState?.profileImageUrl&&k(t);return{c(){n=(0,e.bG)("div"),s&&s.c(),(0,e.Lj)(n,"class","profile-menu"),(0,e.Lj)(n,"tabindex","0"),(0,e.VH)(n,"active",t[0])},m(a,u){(0,e.$T)(a,n,u),s&&s.m(n,null),r=!0,o||(i=[(0,e.oL)(n,"keypress",t[3]),(0,e.oL)(n,"click",t[2])],o=!0)},p(t,r){t[1].authState?.profileImageUrl?s?(s.p(t,r),2&r&&(0,e.Ui)(s,1)):(s=k(t),s.c(),(0,e.Ui)(s,1),s.m(n,null)):s&&((0,e.dv)(),(0,e.et)(s,1,1,(()=>{s=null})),(0,e.gb)()),1&r&&(0,e.VH)(n,"active",t[0])},i(t){r||((0,e.Ui)(s),r=!0)},o(t){(0,e.et)(s),r=!1},d(t){t&&(0,e.og)(n),s&&s.d(),o=!1,(0,e.j7)(i)}}}function k(t){let n,r;return n=new x.Z({props:{src:t[1].authState?.profileImageUrl,class:"profile-image"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p(e,t){const r={};2&t&&(r.src=e[1].authState?.profileImageUrl),n.$set(r)},i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function N(t){let n,r,o=t[1].authState?.loggedIn&&P(t);return{c(){o&&o.c(),n=(0,e.cS)()},m(t,i){o&&o.m(t,i),(0,e.$T)(t,n,i),r=!0},p(t,[r]){t[1].authState?.loggedIn?o?(o.p(t,r),2&r&&(0,e.Ui)(o,1)):(o=P(t),o.c(),(0,e.Ui)(o,1),o.m(n.parentNode,n)):o&&((0,e.dv)(),(0,e.et)(o,1,1,(()=>{o=null})),(0,e.gb)())},i(t){r||((0,e.Ui)(o),r=!0)},o(t){(0,e.et)(o),r=!1},d(t){o&&o.d(t),t&&(0,e.og)(n)}}}function M(e,r,o){let i,s,a=!1,u={authState:{}};(0,t.ev)((()=>{i&&i(),s&&s()})),(0,t.H3)((()=>{i=O.subscribe((e=>{o(1,u.authState=e,u)})),s=p.X.subscribe((e=>{o(0,a="/profile"===e.path)}))}));const c=()=>{(0,n.c4)("/profile")};return[a,u,c,e=>{if("Enter"===e.key||" "===e.key)return c(),e.preventDefault(),!1}]}class R extends e.f_{constructor(t){super(),(0,e.S1)(this,t,M,N,e.N8,{})}}const U=R;function D(e,t,n){const r=e.slice();return r[7]=t[n][0],r[8]=t[n][1],r[9]=t[n][2],r}function L(t){let n,r,o;return n=new T.Z({props:{type:"home"}}),{c(){(0,e.YC)(n.$$.fragment),r=(0,e.fL)("  ")},m(t,i){(0,e.ye)(n,t,i),(0,e.$T)(t,r,i),o=!0},i(t){o||((0,e.Ui)(n.$$.fragment,t),o=!0)},o(t){(0,e.et)(n.$$.fragment,t),o=!1},d(t){(0,e.vp)(n,t),t&&(0,e.og)(r)}}}function $(t){let n,r="@Menu."+t[8];return{c(){n=(0,e.fL)(r)},m(t,r){(0,e.$T)(t,n,r)},p(t,o){1&o&&r!==(r="@Menu."+t[8])&&(0,e.rT)(n,r)},d(t){t&&(0,e.og)(n)}}}function j(t){let n,o,i,s="home"===t[7]&&L();return o=new r.Z({props:{$$slots:{default:[$]},$$scope:{ctx:t}}}),{c(){s&&s.c(),n=(0,e.Dh)(),(0,e.YC)(o.$$.fragment)},m(t,r){s&&s.m(t,r),(0,e.$T)(t,n,r),(0,e.ye)(o,t,r),i=!0},p(t,r){"home"===t[7]?s?1&r&&(0,e.Ui)(s,1):(s=L(),s.c(),(0,e.Ui)(s,1),s.m(n.parentNode,n)):s&&((0,e.dv)(),(0,e.et)(s,1,1,(()=>{s=null})),(0,e.gb)());const i={};4097&r&&(i.$$scope={dirty:r,ctx:t}),o.$set(i)},i(t){i||((0,e.Ui)(s),(0,e.Ui)(o.$$.fragment,t),i=!0)},o(t){(0,e.et)(s),(0,e.et)(o.$$.fragment,t),i=!1},d(t){s&&s.d(t),t&&(0,e.og)(n),(0,e.vp)(o,t)}}}function F(t){let r,o;return r=new n.rU({props:{to:t[7],class:t[9],$$slots:{default:[j]},$$scope:{ctx:t}}}),{c(){(0,e.YC)(r.$$.fragment)},m(t,n){(0,e.ye)(r,t,n),o=!0},p(e,t){const n={};1&t&&(n.to=e[7]),1&t&&(n.class=e[9]),4097&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(t){o||((0,e.Ui)(r.$$.fragment,t),o=!0)},o(t){(0,e.et)(r.$$.fragment,t),o=!1},d(t){(0,e.vp)(r,t)}}}function B(t){let n,r,o,i,s,a,u=t[0],c=[];for(let e=0;e<u.length;e+=1)c[e]=F(D(t,u,e));const l=t=>(0,e.et)(c[t],1,1,(()=>{c[t]=null}));return o=new C.Z({}),s=new U({}),{c(){n=(0,e.bG)("nav");for(let e=0;e<c.length;e+=1)c[e].c();r=(0,e.Dh)(),(0,e.YC)(o.$$.fragment),i=(0,e.Dh)(),(0,e.YC)(s.$$.fragment),(0,e.Lj)(n,"class","app-navigation")},m(t,u){(0,e.$T)(t,n,u);for(let e=0;e<c.length;e+=1)c[e].m(n,null);(0,e.R3)(n,r),(0,e.ye)(o,n,null),(0,e.R3)(n,i),(0,e.ye)(s,n,null),a=!0},p(t,[o]){if(1&o){let i;for(u=t[0],i=0;i<u.length;i+=1){const s=D(t,u,i);c[i]?(c[i].p(s,o),(0,e.Ui)(c[i],1)):(c[i]=F(s),c[i].c(),(0,e.Ui)(c[i],1),c[i].m(n,r))}for((0,e.dv)(),i=u.length;i<c.length;i+=1)l(i);(0,e.gb)()}},i(t){if(!a){for(let t=0;t<u.length;t+=1)(0,e.Ui)(c[t]);(0,e.Ui)(o.$$.fragment,t),(0,e.Ui)(s.$$.fragment,t),a=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)(0,e.et)(c[t]);(0,e.et)(o.$$.fragment,t),(0,e.et)(s.$$.fragment,t),a=!1},d(t){t&&(0,e.og)(n),(0,e.RM)(c,t),(0,e.vp)(o),(0,e.vp)(s)}}}function q(e,n,r){let o=[],i="home",s=null;function a(e){let t="";return"login"===e&&(t="login-btn "),t+(i.includes(e)?"active":"")}function u(){r(0,o=[]),setTimeout((()=>{r(0,o=d.filter((e=>{let t=!0;return(null==s?void 0:s.loggedIn)||!0!==e[2]||(t=!1),(null==s?void 0:s.loggedIn)&&!1===e[2]&&(t=!1),t})).map((e=>[e[0],e[1],a(e[0])])))}),20)}u();const c=O.subscribe((e=>{s=e,u()})),l=p.X.subscribe((e=>{i!==e.path&&(i=e.path||"home",u())}));return(0,t.ev)((()=>{l(),c()})),[o]}class G extends e.f_{constructor(t){super(),(0,e.S1)(this,t,q,B,e.N8,{})}}const z=G;function H(t){let n,r,o,i,s,a,u,c=t[1].closeButton&&V(t);const l=[t[1].componentProps];var f=t[0];function h(t){let n={};for(let t=0;t<l.length;t+=1)n=(0,e.f0)(n,l[t]);return{props:n}}return f&&(o=new f(h())),{c(){n=(0,e.bG)("div"),c&&c.c(),r=(0,e.Dh)(),o&&(0,e.YC)(o.$$.fragment),(0,e.Lj)(n,"class",i="modal-like-content"+(t[1].extraClass?" "+t[1].extraClass:""))},m(i,l){(0,e.$T)(i,n,l),c&&c.m(n,null),(0,e.R3)(n,r),o&&(0,e.ye)(o,n,null),s=!0,a||(u=(0,e.oL)(n,"click",t[3]),a=!0)},p(t,a){t[1].closeButton?c?(c.p(t,a),2&a&&(0,e.Ui)(c,1)):(c=V(t),c.c(),(0,e.Ui)(c,1),c.m(n,r)):c&&((0,e.dv)(),(0,e.et)(c,1,1,(()=>{c=null})),(0,e.gb)());const u=2&a?(0,e.Lo)(l,[(0,e.gC)(t[1].componentProps)]):{};if(f!==(f=t[0])){if(o){(0,e.dv)();const t=o;(0,e.et)(t.$$.fragment,1,0,(()=>{(0,e.vp)(t,1)})),(0,e.gb)()}f?(o=new f(h()),(0,e.YC)(o.$$.fragment),(0,e.Ui)(o.$$.fragment,1),(0,e.ye)(o,n,null)):o=null}else f&&o.$set(u);(!s||2&a&&i!==(i="modal-like-content"+(t[1].extraClass?" "+t[1].extraClass:"")))&&(0,e.Lj)(n,"class",i)},i(t){s||((0,e.Ui)(c),o&&(0,e.Ui)(o.$$.fragment,t),s=!0)},o(t){(0,e.et)(c),o&&(0,e.et)(o.$$.fragment,t),s=!1},d(t){t&&(0,e.og)(n),c&&c.d(),o&&(0,e.vp)(o),a=!1,u()}}}function V(t){let n,r,o,i,s;return r=new T.Z({props:{type:"close",size:"24px"}}),{c(){n=(0,e.bG)("div"),(0,e.YC)(r.$$.fragment),(0,e.Lj)(n,"class","modal-close-button")},m(a,u){(0,e.$T)(a,n,u),(0,e.ye)(r,n,null),o=!0,i||(s=(0,e.oL)(n,"click",t[2]),i=!0)},p:e.ZT,i(t){o||((0,e.Ui)(r.$$.fragment,t),o=!0)},o(t){(0,e.et)(r.$$.fragment,t),o=!1},d(t){t&&(0,e.og)(n),(0,e.vp)(r),i=!1,s()}}}function K(t){let n,r,o,i,s=t[0]&&H(t);return{c(){n=(0,e.bG)("div"),s&&s.c(),r=(0,e.Dh)(),o=(0,e.bG)("input"),(0,e.Lj)(o,"type","text"),(0,e.Lj)(o,"id","app-blur-control"),(0,e.Lj)(n,"id","app-full-screen-message")},m(t,a){(0,e.$T)(t,n,a),s&&s.m(n,null),(0,e.R3)(n,r),(0,e.R3)(n,o),i=!0},p(t,[o]){t[0]?s?(s.p(t,o),1&o&&(0,e.Ui)(s,1)):(s=H(t),s.c(),(0,e.Ui)(s,1),s.m(n,r)):s&&((0,e.dv)(),(0,e.et)(s,1,1,(()=>{s=null})),(0,e.gb)())},i(t){i||((0,e.Ui)(s),i=!0)},o(t){(0,e.et)(s),i=!1},d(t){t&&(0,e.og)(n),s&&s.d()}}}function W(e,n,r){let o,i,s=null,a=null,u=function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n}();const c=()=>{r(0,s=null),r(1,a=null),document.body.style.marginRight="0";const e=document.querySelector("#app-full-screen-message");e&&(e.onclick=null,e.className="",document.body.classList.remove("no-scroll")),document.documentElement.scrollTop=i,o&&document.removeEventListener("keydown",o)};p.X.setModal(((e,t={})=>{var n,l;i=document.documentElement.scrollTop,r(0,s=e),r(1,a=t);document.querySelector("#app-full-screen-message").className="modal-like active",document.body.classList.add("no-scroll"),document.body.style.marginRight=u+"px",o=function(e,t,n){const r=document.querySelector("#app-full-screen-message");if(!r)throw new Error("Modal container not found!");const o='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), [focusable]',i=r,s=i.querySelectorAll(o)[0],a=i.querySelectorAll(o),u=a[a.length-1];e&&n&&(r.onclick=()=>{setTimeout((()=>{r.onclick&&e()}),100)});const c=n=>{const r="Tab"===n.key,o="Escape"===n.key;o&&e&&t&&e(),o&&!t||r&&s&&u&&(n.shiftKey?document.activeElement===s&&(u.focus(),n.preventDefault()):document.activeElement===u&&(s.focus(),n.preventDefault()))};return document.addEventListener("keydown",c),setTimeout((()=>{s&&s.focus()}),200),c}(c,null!==(n=a.closeOnEsc)&&void 0!==n&&n,null===(l=a.closeOnOuterClick)||void 0===l||l)}),c);let l="";const f=p.X.subscribe((e=>{l!==e.path&&(l=e.path,c())}));return(0,t.ev)((()=>{f()})),[s,a,c,e=>(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1),!0,!0,!0,{}]}class Y extends e.f_{constructor(t){super(),(0,e.S1)(this,t,W,K,e.N8,{closeButton:4,closeOnEsc:5,closeOnOuterClick:6,componentProps:7})}get closeButton(){return this.$$.ctx[4]}get closeOnEsc(){return this.$$.ctx[5]}get closeOnOuterClick(){return this.$$.ctx[6]}get componentProps(){return this.$$.ctx[7]}}const J=Y;var Q=i(2603);function Z(e,t,n){const r=e.slice();return r[5]=t[n],r}function X(t){let n,r,o,i,s;function a(){return t[1](t[5])}return r=new T.Z({props:{type:"close"}}),{c(){n=(0,e.bG)("div"),(0,e.YC)(r.$$.fragment),(0,e.Lj)(n,"class","notification-close svelte-17h5156")},m(t,u){(0,e.$T)(t,n,u),(0,e.ye)(r,n,null),o=!0,i||(s=(0,e.oL)(n,"click",a),i=!0)},p(e,n){t=e},i(t){o||((0,e.Ui)(r.$$.fragment,t),o=!0)},o(t){(0,e.et)(r.$$.fragment,t),o=!1},d(t){t&&(0,e.og)(n),(0,e.vp)(r),i=!1,s()}}}function ee(t){let n,r,o=t[5].title+"";return{c(){n=(0,e.bG)("div"),r=(0,e.fL)(o),(0,e.Lj)(n,"class","notification-title svelte-17h5156")},m(t,o){(0,e.$T)(t,n,o),(0,e.R3)(n,r)},p(t,n){1&n&&o!==(o=t[5].title+"")&&(0,e.rT)(r,o)},d(t){t&&(0,e.og)(n)}}}function te(t,n){let r,o,i,s,a,u,c,l,f,h,d,p=n[5].text+"",y=0===n[5].ttl&&!n[5].almostGone&&X(n),g=n[5].title&&ee(n);function v(){return n[2](n[5])}function m(){return n[3](n[5])}return{key:t,first:null,c(){r=(0,e.bG)("div"),y&&y.c(),o=(0,e.Dh)(),g&&g.c(),i=(0,e.Dh)(),s=(0,e.bG)("p"),a=(0,e.fL)(p),u=(0,e.Dh)(),(0,e.Lj)(s,"class","notification-text svelte-17h5156"),(0,e.Lj)(r,"class",c=(0,e.Gu)("notification "+n[5].type+(n[5].almostGone?" disappearing":"")+(n[5].paused?" paused":""))+" svelte-17h5156"),(0,e.Lj)(r,"data-id",l=n[5].id),this.first=r},m(t,n){(0,e.$T)(t,r,n),y&&y.m(r,null),(0,e.R3)(r,o),g&&g.m(r,null),(0,e.R3)(r,i),(0,e.R3)(r,s),(0,e.R3)(s,a),(0,e.R3)(r,u),f=!0,h||(d=[(0,e.oL)(r,"mouseenter",v),(0,e.oL)(r,"mouseleave",m)],h=!0)},p(t,s){0!==(n=t)[5].ttl||n[5].almostGone?y&&((0,e.dv)(),(0,e.et)(y,1,1,(()=>{y=null})),(0,e.gb)()):y?(y.p(n,s),1&s&&(0,e.Ui)(y,1)):(y=X(n),y.c(),(0,e.Ui)(y,1),y.m(r,o)),n[5].title?g?g.p(n,s):(g=ee(n),g.c(),g.m(r,i)):g&&(g.d(1),g=null),(!f||1&s)&&p!==(p=n[5].text+"")&&(0,e.rT)(a,p),(!f||1&s&&c!==(c=(0,e.Gu)("notification "+n[5].type+(n[5].almostGone?" disappearing":"")+(n[5].paused?" paused":""))+" svelte-17h5156"))&&(0,e.Lj)(r,"class",c),(!f||1&s&&l!==(l=n[5].id))&&(0,e.Lj)(r,"data-id",l)},i(t){f||((0,e.Ui)(y),f=!0)},o(t){(0,e.et)(y),f=!1},d(t){t&&(0,e.og)(r),y&&y.d(),g&&g.d(),h=!1,(0,e.j7)(d)}}}function ne(t){let n,r,o=[],i=new Map,s=t[0].notifications;const a=e=>e[5].id;for(let e=0;e<s.length;e+=1){let n=Z(t,s,e),r=a(n);i.set(r,o[e]=te(r,n))}return{c(){n=(0,e.bG)("div");for(let e=0;e<o.length;e+=1)o[e].c();(0,e.Lj)(n,"id","notification-container"),(0,e.Lj)(n,"class","svelte-17h5156")},m(t,i){(0,e.$T)(t,n,i);for(let e=0;e<o.length;e+=1)o[e].m(n,null);r=!0},p(t,[r]){1&r&&(s=t[0].notifications,(0,e.dv)(),o=(0,e.GQ)(o,r,a,1,t,s,i,n,e.cl,te,null,Z),(0,e.gb)())},i(t){if(!r){for(let t=0;t<s.length;t+=1)(0,e.Ui)(o[t]);r=!0}},o(t){for(let t=0;t<o.length;t+=1)(0,e.et)(o[t]);r=!1},d(t){t&&(0,e.og)(n);for(let e=0;e<o.length;e+=1)o[e].d()}}}function re(e,n,r){let o,i={notifications:[]};(0,t.H3)((()=>{o=Q.B.subscribe((e=>{r(0,i.notifications=e.notifications,i)}))})),(0,t.ev)((()=>{o&&o()}));return[i,e=>Q.B.close(e.id),e=>Q.B.setPause(e.id,!0),e=>Q.B.setPause(e.id,!1)]}class oe extends e.f_{constructor(t){super(),(0,e.S1)(this,t,re,ne,e.N8,{})}}const ie=oe;function se(t){let n,r,o;return{c(){n=(0,e.bG)("div"),r=(0,e.bG)("span"),(0,e.Lj)(r,"class","svelte-22rv3v"),(0,e.Lj)(n,"id","app-spinner"),(0,e.Lj)(n,"class",o=(0,e.Gu)(t[0]?"active":"")+" svelte-22rv3v")},m(t,o){(0,e.$T)(t,n,o),(0,e.R3)(n,r)},p(t,[r]){1&r&&o!==(o=(0,e.Gu)(t[0]?"active":"")+" svelte-22rv3v")&&(0,e.Lj)(n,"class",o)},i:e.ZT,o:e.ZT,d(t){t&&(0,e.og)(n)}}}function ae(e,n,r){let o=!1;const i=p.X.subscribe((e=>{r(0,o=e.isGlobalSpinnerVisible)}));return(0,t.ev)((()=>{i()})),[o]}class ue extends e.f_{constructor(t){super(),(0,e.S1)(this,t,ae,se,e.N8,{})}}const ce=ue,le=e=>e.default,fe=e=>(console.error(e&&e.stack||e),Promise.reject(e));async function he(e){switch(e){case"home":return Promise.all([i.e(308),i.e(596)]).then(i.bind(i,8596)).then(le).catch(fe);case"ui":return Promise.all([i.e(458),i.e(622)]).then(i.bind(i,3564)).then(le).catch(fe);case"about":return i.e(198).then(i.bind(i,8198)).then(le).catch(fe);case"tos":return i.e(965).then(i.bind(i,3965)).then(le).catch(fe);case"signout":return i.e(241).then(i.bind(i,7241)).then(le).catch(fe);case"profile":return i.e(626).then(i.bind(i,4626)).then(le).catch(fe);case"login":return i.e(770).then(i.bind(i,2770)).then(le).catch(fe);case"signup":return i.e(116).then(i.bind(i,5116)).then(le).catch(fe);case"restore":return i.e(363).then(i.bind(i,7363)).then(le).catch(fe);case"guns":return Promise.all([i.e(308),i.e(592)]).then(i.bind(i,6592)).then(le).catch(fe);case"photo-upload":return Promise.all([i.e(308),i.e(423),i.e(703)]).then(i.bind(i,8963)).then(le).catch(fe);case"gun-form":return Promise.all([i.e(308),i.e(951),i.e(423),i.e(275)]).then(i.bind(i,7468)).then(le).catch(fe);case"track":return i.e(189).then(i.bind(i,8189)).then(le).catch(fe);case"track-form":return Promise.all([i.e(951),i.e(84),i.e(458),i.e(729)]).then(i.bind(i,8670)).then(le).catch(fe)}}var de=i(6524);function pe(t){let n,r,o;return r=new de.Z({props:{$$slots:{default:[ve]},$$scope:{ctx:t}}}),{c(){n=(0,e.bG)("div"),(0,e.YC)(r.$$.fragment),(0,e.Lj)(n,"class","wait-message")},m(t,i){(0,e.$T)(t,n,i),(0,e.ye)(r,n,null),o=!0},p(e,t){const n={};4096&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(t){o||((0,e.Ui)(r.$$.fragment,t),o=!0)},o(t){(0,e.et)(r.$$.fragment,t),o=!1},d(t){t&&(0,e.og)(n),(0,e.vp)(r)}}}function ye(t){let n,r,o;const i=[{...t[0],...t[3],...t[1]}];var s=t[2];function a(t){let n={};for(let t=0;t<i.length;t+=1)n=(0,e.f0)(n,i[t]);return{props:n}}return s&&(n=new s(a())),{c(){n&&(0,e.YC)(n.$$.fragment),r=(0,e.cS)()},m(t,i){n&&(0,e.ye)(n,t,i),(0,e.$T)(t,r,i),o=!0},p(t,o){const u=11&o?(0,e.Lo)(i,[{...t[0],...t[3],...t[1]}]):{};if(s!==(s=t[2])){if(n){(0,e.dv)();const t=n;(0,e.et)(t.$$.fragment,1,0,(()=>{(0,e.vp)(t,1)})),(0,e.gb)()}s?(n=new s(a()),(0,e.YC)(n.$$.fragment),(0,e.Ui)(n.$$.fragment,1),(0,e.ye)(n,r.parentNode,r)):n=null}else s&&n.$set(u)},i(t){o||(n&&(0,e.Ui)(n.$$.fragment,t),o=!0)},o(t){n&&(0,e.et)(n.$$.fragment,t),o=!1},d(t){t&&(0,e.og)(r),n&&(0,e.vp)(n,t)}}}function ge(t){let n;return{c(){n=(0,e.fL)("@Common.Loading")},m(t,r){(0,e.$T)(t,n,r)},d(t){t&&(0,e.og)(n)}}}function ve(t){let n,o,i;return n=new r.Z({props:{$$slots:{default:[ge]},$$scope:{ctx:t}}}),{c(){(0,e.YC)(n.$$.fragment),o=(0,e.fL)("\r\n\t\t\t\t...")},m(t,r){(0,e.ye)(n,t,r),(0,e.$T)(t,o,r),i=!0},p(e,t){const r={};4096&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.et)(n.$$.fragment,t),i=!1},d(t){(0,e.vp)(n,t),t&&(0,e.og)(o)}}}function me(t){let n,r,o,i,s;const a=[ye,pe],u=[];function c(e,t){return e[2]?0:1}return r=c(t),o=u[r]=a[r](t),{c(){n=(0,e.bG)("div"),o.c(),(0,e.Lj)(n,"class",i="app-page"+(t[4].class?" "+t[4].class:"")+(t[2]?" loaded":" not-loaded"))},m(t,o){(0,e.$T)(t,n,o),u[r].m(n,null),s=!0},p(t,[l]){let f=r;r=c(t),r===f?u[r].p(t,l):((0,e.dv)(),(0,e.et)(u[f],1,1,(()=>{u[f]=null})),(0,e.gb)(),o=u[r],o?o.p(t,l):(o=u[r]=a[r](t),o.c()),(0,e.Ui)(o,1),o.m(n,null)),(!s||20&l&&i!==(i="app-page"+(t[4].class?" "+t[4].class:"")+(t[2]?" loaded":" not-loaded")))&&(0,e.Lj)(n,"class",i)},i(t){s||((0,e.Ui)(o),s=!0)},o(t){(0,e.et)(o),s=!1},d(t){t&&(0,e.og)(n),u[r].d()}}}function be(r,o,i){let s,{pageId:a=""}=o,{redirectTo:u=""}=o,{onlyLoggedIn:c=!1}=o,{onlyLoggedOut:l=!1}=o,{props:f={}}=o,{params:h}=o;const d=l||c,p=e=>{i(2,s=e)};let y={authState:{},authStore:O};const g=O.subscribe((e=>{if(i(3,y.authState=e,y),d&&y.authState.started&&!y.authState.fetching){if(l&&y.authState.loggedIn)return void(0,n.c4)(u);if(c&&!y.authState.loggedIn)return void(0,n.c4)(u);s||he(a).then(p)}}));return(0,t.ev)((()=>{g()})),(0,t.H3)((()=>{d||he(a).then(p)})),r.$$set=t=>{i(4,o=(0,e.f0)((0,e.f0)({},o),(0,e.Jv)(t))),"pageId"in t&&i(5,a=t.pageId),"redirectTo"in t&&i(6,u=t.redirectTo),"onlyLoggedIn"in t&&i(7,c=t.onlyLoggedIn),"onlyLoggedOut"in t&&i(8,l=t.onlyLoggedOut),"props"in t&&i(0,f=t.props),"params"in t&&i(1,h=t.params)},o=(0,e.Jv)(o),[f,h,s,y,o,a,u,c,l]}class we extends e.f_{constructor(t){super(),(0,e.S1)(this,t,be,me,e.N8,{pageId:5,redirectTo:6,onlyLoggedIn:7,onlyLoggedOut:8,props:0,params:1})}}const Se=we;function _e(t){let n,r;return n=new Se({props:{pageId:"profile",onlyLoggedIn:!0,redirectTo:"/login"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Ee(t){let n,r;return n=new Se({props:{pageId:"login",onlyLoggedOut:!0,redirectTo:"/home"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Ae(t){let n,r;return n=new Se({props:{pageId:"login",onlyLoggedOut:!0,redirectTo:"/home"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Ie(t){let n,r;return n=new Se({props:{pageId:"signup",onlyLoggedOut:!0,redirectTo:"/home"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Oe(t){let n,r;return n=new Se({props:{pageId:"restore",onlyLoggedOut:!0,redirectTo:"/home"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Te(t){let n,r;return n=new Se({props:{pageId:"signout"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Ce(t){let n,r;return n=new Se({props:{pageId:"signout"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function xe(t){let n,r;return n=new Se({props:{pageId:"about"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Pe(t){let n,r;return n=new Se({props:{pageId:"tos"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function ke(t){let n,r;return n=new Se({props:{pageId:"guns",onlyLoggedIn:!0,redirectTo:"/login",class:"no-paddings"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Ne(t){let n,r;return n=new Se({props:{pageId:"photo-upload",onlyLoggedIn:!0,redirectTo:"/login",params:t[0]}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p(e,t){const r={};1&t&&(r.params=e[0]),n.$set(r)},i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Me(t){let n,r;return n=new Se({props:{pageId:"gun-form",onlyLoggedIn:!0,redirectTo:"/login",params:t[0]}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p(e,t){const r={};1&t&&(r.params=e[0]),n.$set(r)},i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Re(t){let n,r;return n=new Se({props:{pageId:"track",onlyLoggedIn:!0,redirectTo:"/login",class:"no-paddings"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Ue(t){let n,r;return n=new Se({props:{pageId:"track",onlyLoggedIn:!0,redirectTo:"/login",class:"no-paddings",params:t[0]}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p(e,t){const r={};1&t&&(r.params=e[0]),n.$set(r)},i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function De(t){let n,r;return n=new Se({props:{pageId:"track-form",onlyLoggedIn:!0,redirectTo:"/login",params:t[0]}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p(e,t){const r={};1&t&&(r.params=e[0]),n.$set(r)},i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Le(t){let n,r;return n=new Se({props:{pageId:"ui"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function $e(t){let n,r;return n=new Se({props:{pageId:"home",class:"no-paddings"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function je(t){let n,r;return n=new Se({props:{pageId:"home",class:"no-paddings"}}),{c(){(0,e.YC)(n.$$.fragment)},m(t,o){(0,e.ye)(n,t,o),r=!0},p:e.ZT,i(t){r||((0,e.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,e.et)(n.$$.fragment,t),r=!1},d(t){(0,e.vp)(n,t)}}}function Fe(t){let r,o,i,s,a,u,c,l,f,h,d,p,y,g,v,m,b,w,S,_,E,A,I,O,T,C,x,P,k,N,M,R,U,D,L,$,j;return o=new n.AW({props:{path:"profile",$$slots:{default:[_e]},$$scope:{ctx:t}}}),s=new n.AW({props:{path:"signin",$$slots:{default:[Ee]},$$scope:{ctx:t}}}),u=new n.AW({props:{path:"login",$$slots:{default:[Ae]},$$scope:{ctx:t}}}),l=new n.AW({props:{path:"login/signup",$$slots:{default:[Ie]},$$scope:{ctx:t}}}),h=new n.AW({props:{path:"login/restore",$$slots:{default:[Oe]},$$scope:{ctx:t}}}),p=new n.AW({props:{path:"signout",$$slots:{default:[Te]},$$scope:{ctx:t}}}),g=new n.AW({props:{path:"logout",$$slots:{default:[Ce]},$$scope:{ctx:t}}}),m=new n.AW({props:{path:"about",$$slots:{default:[xe]},$$scope:{ctx:t}}}),w=new n.AW({props:{path:"tos",$$slots:{default:[Pe]},$$scope:{ctx:t}}}),_=new n.AW({props:{path:"guns",$$slots:{default:[ke]},$$scope:{ctx:t}}}),A=new n.AW({props:{path:"guns/:id/upload",$$slots:{default:[Ne,({params:e})=>({0:e}),({params:e})=>e?1:0]},$$scope:{ctx:t}}}),O=new n.AW({props:{path:"guns/:id/edit",$$slots:{default:[Me,({params:e})=>({0:e}),({params:e})=>e?1:0]},$$scope:{ctx:t}}}),C=new n.AW({props:{path:"track",$$slots:{default:[Re]},$$scope:{ctx:t}}}),P=new n.AW({props:{path:"track/:id",$$slots:{default:[Ue,({params:e})=>({0:e}),({params:e})=>e?1:0]},$$scope:{ctx:t}}}),N=new n.AW({props:{path:"track/:gunId/:id/edit",$$slots:{default:[De,({params:e})=>({0:e}),({params:e})=>e?1:0]},$$scope:{ctx:t}}}),R=new n.AW({props:{path:"ui",$$slots:{default:[Le]},$$scope:{ctx:t}}}),D=new n.AW({props:{path:"home",$$slots:{default:[$e]},$$scope:{ctx:t}}}),$=new n.AW({props:{path:"/",$$slots:{default:[je]},$$scope:{ctx:t}}}),{c(){r=(0,e.bG)("div"),(0,e.YC)(o.$$.fragment),i=(0,e.Dh)(),(0,e.YC)(s.$$.fragment),a=(0,e.Dh)(),(0,e.YC)(u.$$.fragment),c=(0,e.Dh)(),(0,e.YC)(l.$$.fragment),f=(0,e.Dh)(),(0,e.YC)(h.$$.fragment),d=(0,e.Dh)(),(0,e.YC)(p.$$.fragment),y=(0,e.Dh)(),(0,e.YC)(g.$$.fragment),v=(0,e.Dh)(),(0,e.YC)(m.$$.fragment),b=(0,e.Dh)(),(0,e.YC)(w.$$.fragment),S=(0,e.Dh)(),(0,e.YC)(_.$$.fragment),E=(0,e.Dh)(),(0,e.YC)(A.$$.fragment),I=(0,e.Dh)(),(0,e.YC)(O.$$.fragment),T=(0,e.Dh)(),(0,e.YC)(C.$$.fragment),x=(0,e.Dh)(),(0,e.YC)(P.$$.fragment),k=(0,e.Dh)(),(0,e.YC)(N.$$.fragment),M=(0,e.Dh)(),(0,e.YC)(R.$$.fragment),U=(0,e.Dh)(),(0,e.YC)(D.$$.fragment),L=(0,e.Dh)(),(0,e.YC)($.$$.fragment),(0,e.Lj)(r,"class","app-pages")},m(t,n){(0,e.$T)(t,r,n),(0,e.ye)(o,r,null),(0,e.R3)(r,i),(0,e.ye)(s,r,null),(0,e.R3)(r,a),(0,e.ye)(u,r,null),(0,e.R3)(r,c),(0,e.ye)(l,r,null),(0,e.R3)(r,f),(0,e.ye)(h,r,null),(0,e.R3)(r,d),(0,e.ye)(p,r,null),(0,e.R3)(r,y),(0,e.ye)(g,r,null),(0,e.R3)(r,v),(0,e.ye)(m,r,null),(0,e.R3)(r,b),(0,e.ye)(w,r,null),(0,e.R3)(r,S),(0,e.ye)(_,r,null),(0,e.R3)(r,E),(0,e.ye)(A,r,null),(0,e.R3)(r,I),(0,e.ye)(O,r,null),(0,e.R3)(r,T),(0,e.ye)(C,r,null),(0,e.R3)(r,x),(0,e.ye)(P,r,null),(0,e.R3)(r,k),(0,e.ye)(N,r,null),(0,e.R3)(r,M),(0,e.ye)(R,r,null),(0,e.R3)(r,U),(0,e.ye)(D,r,null),(0,e.R3)(r,L),(0,e.ye)($,r,null),j=!0},p(e,[t]){const n={};2&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const r={};2&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r);const i={};2&t&&(i.$$scope={dirty:t,ctx:e}),u.$set(i);const a={};2&t&&(a.$$scope={dirty:t,ctx:e}),l.$set(a);const c={};2&t&&(c.$$scope={dirty:t,ctx:e}),h.$set(c);const f={};2&t&&(f.$$scope={dirty:t,ctx:e}),p.$set(f);const d={};2&t&&(d.$$scope={dirty:t,ctx:e}),g.$set(d);const y={};2&t&&(y.$$scope={dirty:t,ctx:e}),m.$set(y);const v={};2&t&&(v.$$scope={dirty:t,ctx:e}),w.$set(v);const b={};2&t&&(b.$$scope={dirty:t,ctx:e}),_.$set(b);const S={};3&t&&(S.$$scope={dirty:t,ctx:e}),A.$set(S);const E={};3&t&&(E.$$scope={dirty:t,ctx:e}),O.$set(E);const I={};2&t&&(I.$$scope={dirty:t,ctx:e}),C.$set(I);const T={};3&t&&(T.$$scope={dirty:t,ctx:e}),P.$set(T);const x={};3&t&&(x.$$scope={dirty:t,ctx:e}),N.$set(x);const k={};2&t&&(k.$$scope={dirty:t,ctx:e}),R.$set(k);const M={};2&t&&(M.$$scope={dirty:t,ctx:e}),D.$set(M);const U={};2&t&&(U.$$scope={dirty:t,ctx:e}),$.$set(U)},i(t){j||((0,e.Ui)(o.$$.fragment,t),(0,e.Ui)(s.$$.fragment,t),(0,e.Ui)(u.$$.fragment,t),(0,e.Ui)(l.$$.fragment,t),(0,e.Ui)(h.$$.fragment,t),(0,e.Ui)(p.$$.fragment,t),(0,e.Ui)(g.$$.fragment,t),(0,e.Ui)(m.$$.fragment,t),(0,e.Ui)(w.$$.fragment,t),(0,e.Ui)(_.$$.fragment,t),(0,e.Ui)(A.$$.fragment,t),(0,e.Ui)(O.$$.fragment,t),(0,e.Ui)(C.$$.fragment,t),(0,e.Ui)(P.$$.fragment,t),(0,e.Ui)(N.$$.fragment,t),(0,e.Ui)(R.$$.fragment,t),(0,e.Ui)(D.$$.fragment,t),(0,e.Ui)($.$$.fragment,t),j=!0)},o(t){(0,e.et)(o.$$.fragment,t),(0,e.et)(s.$$.fragment,t),(0,e.et)(u.$$.fragment,t),(0,e.et)(l.$$.fragment,t),(0,e.et)(h.$$.fragment,t),(0,e.et)(p.$$.fragment,t),(0,e.et)(g.$$.fragment,t),(0,e.et)(m.$$.fragment,t),(0,e.et)(w.$$.fragment,t),(0,e.et)(_.$$.fragment,t),(0,e.et)(A.$$.fragment,t),(0,e.et)(O.$$.fragment,t),(0,e.et)(C.$$.fragment,t),(0,e.et)(P.$$.fragment,t),(0,e.et)(N.$$.fragment,t),(0,e.et)(R.$$.fragment,t),(0,e.et)(D.$$.fragment,t),(0,e.et)($.$$.fragment,t),j=!1},d(t){t&&(0,e.og)(r),(0,e.vp)(o),(0,e.vp)(s),(0,e.vp)(u),(0,e.vp)(l),(0,e.vp)(h),(0,e.vp)(p),(0,e.vp)(g),(0,e.vp)(m),(0,e.vp)(w),(0,e.vp)(_),(0,e.vp)(A),(0,e.vp)(O),(0,e.vp)(C),(0,e.vp)(P),(0,e.vp)(N),(0,e.vp)(R),(0,e.vp)(D),(0,e.vp)($)}}}class Be extends e.f_{constructor(t){super(),(0,e.S1)(this,t,null,Fe,e.N8,{})}}const qe=Be,Ge={"en-EN":"English","ua-UA":"Українська","ru-RU":"Русский"};function ze(t){let n,r,o,i,s,a,u,c;return i=new T.Z({props:{type:"power"}}),{c(){n=(0,e.bG)("div"),r=(0,e.bG)("div"),o=(0,e.bG)("h1"),(0,e.YC)(i.$$.fragment),s=(0,e.fL)("   Seems you are offline."),a=(0,e.Dh)(),u=(0,e.bG)("p"),u.textContent="Application can work without active Internet connection, but not all the operations will be available. Changes will be\r\n\t\t\t\tsynced to cloud when you return online.",(0,e.Lj)(o,"class","svelte-1myjs52"),(0,e.Lj)(r,"id","offline-mode-content"),(0,e.Lj)(n,"id","offline-mode"),(0,e.Lj)(n,"class","svelte-1myjs52")},m(t,l){(0,e.$T)(t,n,l),(0,e.R3)(n,r),(0,e.R3)(r,o),(0,e.ye)(i,o,null),(0,e.R3)(o,s),(0,e.R3)(r,a),(0,e.R3)(r,u),c=!0},i(t){c||((0,e.Ui)(i.$$.fragment,t),c=!0)},o(t){(0,e.et)(i.$$.fragment,t),c=!1},d(t){t&&(0,e.og)(n),(0,e.vp)(i)}}}function He(t){let n,r,o=!t[0]&&ze();return{c(){o&&o.c(),n=(0,e.cS)()},m(t,i){o&&o.m(t,i),(0,e.$T)(t,n,i),r=!0},p(t,[r]){t[0]?o&&((0,e.dv)(),(0,e.et)(o,1,1,(()=>{o=null})),(0,e.gb)()):o?1&r&&(0,e.Ui)(o,1):(o=ze(),o.c(),(0,e.Ui)(o,1),o.m(n.parentNode,n))},i(t){r||((0,e.Ui)(o),r=!0)},o(t){(0,e.et)(o),r=!1},d(t){o&&o.d(t),t&&(0,e.og)(n)}}}function Ve(e,n,r){let o=!0;function i(){r(0,o=navigator.onLine)}return(0,t.H3)((()=>{window.addEventListener("online",i),window.addEventListener("offline",i)})),[o]}class Ke extends e.f_{constructor(t){super(),(0,e.S1)(this,t,Ve,He,e.N8,{})}}const We=Ke;function Ye(t){let n;return{c(){n=(0,e.bG)("h1"),n.textContent="GUN | TRACK",(0,e.Lj)(n,"class","app-title")},m(t,r){(0,e.$T)(t,n,r)},d(t){t&&(0,e.og)(n)}}}function Je(t){let n,r,o,i;return n=new z({}),o=new qe({}),{c(){(0,e.YC)(n.$$.fragment),r=(0,e.Dh)(),(0,e.YC)(o.$$.fragment)},m(t,s){(0,e.ye)(n,t,s),(0,e.$T)(t,r,s),(0,e.ye)(o,t,s),i=!0},i(t){i||((0,e.Ui)(n.$$.fragment,t),(0,e.Ui)(o.$$.fragment,t),i=!0)},o(t){(0,e.et)(n.$$.fragment,t),(0,e.et)(o.$$.fragment,t),i=!1},d(t){(0,e.vp)(n,t),t&&(0,e.og)(r),(0,e.vp)(o,t)}}}function Qe(t){let r,o,i,s,a,u,c,l,h,d,p,y,g,v;r=new J({}),i=new ie({}),a=new ce({}),c=new We({});let m=t[2]&&Ye();return p=new n.F0({props:{url:t[0],$$slots:{default:[Je]},$$scope:{ctx:t}}}),g=new f({}),{c(){(0,e.YC)(r.$$.fragment),o=(0,e.Dh)(),(0,e.YC)(i.$$.fragment),s=(0,e.Dh)(),(0,e.YC)(a.$$.fragment),u=(0,e.Dh)(),(0,e.YC)(c.$$.fragment),l=(0,e.Dh)(),h=(0,e.bG)("main"),m&&m.c(),d=(0,e.Dh)(),(0,e.YC)(p.$$.fragment),y=(0,e.Dh)(),(0,e.YC)(g.$$.fragment),(0,e.Lj)(h,"class","app-content"),(0,e.VH)(h,"home-page",t[2]),(0,e.VH)(h,"logged-in",t[1]?.loggedIn),(0,e.VH)(h,"logged-out",!t[1]?.loggedIn)},m(t,n){(0,e.ye)(r,t,n),(0,e.$T)(t,o,n),(0,e.ye)(i,t,n),(0,e.$T)(t,s,n),(0,e.ye)(a,t,n),(0,e.$T)(t,u,n),(0,e.ye)(c,t,n),(0,e.$T)(t,l,n),(0,e.$T)(t,h,n),m&&m.m(h,null),(0,e.R3)(h,d),(0,e.ye)(p,h,null),(0,e.R3)(h,y),(0,e.ye)(g,h,null),v=!0},p(t,[n]){t[2]?m||(m=Ye(),m.c(),m.m(h,d)):m&&(m.d(1),m=null);const r={};1&n&&(r.url=t[0]),128&n&&(r.$$scope={dirty:n,ctx:t}),p.$set(r),4&n&&(0,e.VH)(h,"home-page",t[2]),2&n&&(0,e.VH)(h,"logged-in",t[1]?.loggedIn),2&n&&(0,e.VH)(h,"logged-out",!t[1]?.loggedIn)},i(t){v||((0,e.Ui)(r.$$.fragment,t),(0,e.Ui)(i.$$.fragment,t),(0,e.Ui)(a.$$.fragment,t),(0,e.Ui)(c.$$.fragment,t),(0,e.Ui)(p.$$.fragment,t),(0,e.Ui)(g.$$.fragment,t),v=!0)},o(t){(0,e.et)(r.$$.fragment,t),(0,e.et)(i.$$.fragment,t),(0,e.et)(a.$$.fragment,t),(0,e.et)(c.$$.fragment,t),(0,e.et)(p.$$.fragment,t),(0,e.et)(g.$$.fragment,t),v=!1},d(t){(0,e.vp)(r,t),t&&(0,e.og)(o),(0,e.vp)(i,t),t&&(0,e.og)(s),(0,e.vp)(a,t),t&&(0,e.og)(u),(0,e.vp)(c,t),t&&(0,e.og)(l),t&&(0,e.og)(h),m&&m.d(),(0,e.vp)(p),(0,e.vp)(g)}}}function Ze(e,n,r){let o,i,s,a={modal:{},path:"",locale:""},u=!1;(0,t.H3)((()=>{i=O.subscribe((e=>{r(1,o=e)}));let e=localStorage.getItem("app.locale");Ge[e]||(e="en-EN"),p.X.setLocale(e),s=p.X.subscribe((e=>{a.modal=e.modal,a.path=e.path,a.locale=e.locale,r(2,u="/"===e.path||"/home"===e.path||""===e.path),h.D.setLocale(e.locale)})),["hashchange","locationchange"].forEach((e=>{window.addEventListener(e,f)}))})),(0,t.v)("AppState",a);let{url:c=""}=n;var l;function f(){p.X&&p.X.setPath(window.location.pathname)}return history.pushState=(l=history.pushState,function(){const e=l.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),e}),history.replaceState=(e=>function(){const t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),t})(history.replaceState),window.addEventListener("popstate",(()=>{window.dispatchEvent(new Event("locationchange"))})),f(),(0,t.ev)((()=>{i&&i(),s&&s()})),e.$$set=e=>{"url"in e&&r(0,c=e.url)},[c,o,u]}class Xe extends e.f_{constructor(t){super(),(0,e.S1)(this,t,Ze,Qe,e.N8,{url:0})}}const et=Xe;var tt=i(9857),nt=i(412);const rt={aws_project_region:"eu-central-1",aws_cognito_identity_pool_id:"eu-central-1:e9c78b94-eabb-46d6-99ac-6c3afa15dbdb",aws_cognito_region:"eu-central-1",aws_user_pools_id:"eu-central-1_ZPkZLaojf",aws_user_pools_web_client_id:"2ifigftrs08uckhpnjc8qtoqi3",oauth:{domain:"lexey111-dev.auth.eu-central-1.amazoncognito.com",scope:["phone","email","openid","profile","aws.cognito.signin.user.admin"],redirectSignIn:"http://localhost:3000/signin/",redirectSignOut:"http://localhost:3000/signout/",responseType:"code"},federationTarget:"COGNITO_USER_POOLS",aws_appsync_graphqlEndpoint:"https://o4nwd5yfvfdirihppgf6njwceu.appsync-api.eu-central-1.amazonaws.com/graphql",aws_appsync_region:"eu-central-1",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS",aws_user_files_s3_bucket:"gun-photos135707-dev",aws_user_files_s3_bucket_region:"eu-central-1"};var ot=i(3267),it=i(6029);async function st(){await v.KT.clear(),O.setLoggedOut(),it.g.unloadGuns(),ot.x.unloadActions()}async function at(e){const t=JSON.parse(e.attributes?.identities||"[]")[0];if(!t&&!e.attributes)return void console.log("Empty response");const n=t?.userId||e.attributes.email;return localStorage.getItem("lastLoggedUser")!==n&&(localStorage.setItem("lastLoggedUser",n),await v.KT.clear(),indexedDB.deleteDatabase("amplify-datastore"),ut=!1),O.setLoggedIn(n,t?.providerName||"e-mail",e.attributes.email),it.g.initStore(),await it.g.loadGuns(),e}tt.dQ.configure(rt),v.KT.configure(rt),nt.Xb.listen("auth",(async({payload:{event:e,data:t}})=>{switch(e){case"signIn":await at(t);break;case"signOut":await st()}}));let ut=!0;indexedDB.open("amplify-datastore").onupgradeneeded=function(e){e.target.transaction.abort(),ut=!1},nt.Xb.listen("datastore",(({payload:{event:e}})=>{ut&&"subscriptionsEstablished"===e&&it.g.setSubscribed(),"ready"===e&&it.g.setFullReady()})),y.g.currentAuthenticatedUser().then((e=>at(e))).catch((e=>{console.log("Not signed in"),console.log(e),st()}));new et({target:document.body})})()})();